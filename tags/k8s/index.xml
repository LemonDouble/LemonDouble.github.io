<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>K8S on Lemon Blog</title><link>https://blog.lemondouble.com/tags/k8s/</link><description>Recent content in K8S on Lemon Blog</description><generator>Hugo -- gohugo.io</generator><language>ko</language><lastBuildDate>Sun, 07 Jan 2024 16:05:04 +0900</lastBuildDate><atom:link href="https://blog.lemondouble.com/tags/k8s/index.xml" rel="self" type="application/rss+xml"/><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 10-2. Forward Authì™€ OAuth2ë¥¼ ì´ìš©í•œ SSO êµ¬í˜„</title><link>https://blog.lemondouble.com/p/a63eb8199e2089b6/</link><pubDate>Sun, 07 Jan 2024 16:05:04 +0900</pubDate><guid>https://blog.lemondouble.com/p/a63eb8199e2089b6/</guid><description>&lt;img src="https://blog.lemondouble.com/p/a63eb8199e2089b6/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 10-2. Forward Authì™€ OAuth2ë¥¼ ì´ìš©í•œ SSO êµ¬í˜„" />&lt;h3 id="1-forward-auth">1. Forward Auth?
&lt;/h3>&lt;p>ì¸ì¦ ë¡œì§ì´ í•„ìš”í•  ë–„, ìš°ë¦¬ëŠ” ì¸ì¦ ë¡œì§ì„ ì–´ë””ì„œ êµ¬í˜„í•  ìˆ˜ ìˆì„ê¹Œìš”?&lt;/p>
&lt;p>ë°”ë¡œ ë“œëŠ” ìƒê°ì€, ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì§ì ‘ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì¼ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë§ì•„ì§€ë©´ ì–´ë–¨ê¹Œìš”? í˜¹ì€, ì¼ë¶€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ë‚´ê°€ ë§Œë“  ê²ƒì´ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ì‚¬ëŒì´ ë§Œë“  ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ë¼, ë‚´ê°€ ë§˜ëŒ€ë¡œ ì¸ì¦ ë¡œì§ì„ êµ¬í˜„í•  ìˆ˜ ì—†ë‹¤ë©´ ì–´ë–¨ê¹Œìš”?&lt;/p>
&lt;p>ìš°ë¦¬ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê³ , ëª¨ë“  ìš”ì²­ì€ Traefikì„ í•œë²ˆ ê±°ì³ê°‘ë‹ˆë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ, Traefikì´ &lt;code>&amp;quot;ìš”ì²­ì„ ì „ë‹¬í•˜ê¸° ì „&amp;quot;&lt;/code> ì— ì¸ì¦ ë¡œì§ì„ ì²˜ë¦¬í•˜ë©´ ì–´ë–¨ê¹Œìš”?&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/a63eb8199e2089b6/image.png"
width="2420"
height="639"
srcset="https://blog.lemondouble.com/p/a63eb8199e2089b6/image_hu_4549db78960c5f1a.png 480w, https://blog.lemondouble.com/p/a63eb8199e2089b6/image_hu_eebf8230a6773b74.png 1024w"
loading="lazy"
alt="Traefik forward Auth ê·¸ë¦¼"
class="gallery-image"
data-flex-grow="378"
data-flex-basis="908px"
>&lt;/p>
&lt;p>&lt;strong>ê°„ë‹¨í•©ë‹ˆë‹¤!&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>ëª¨ë“  ìš”ì²­ì€ Traefikì„ ì§€ë‚˜ê°‘ë‹ˆë‹¤.&lt;/li>
&lt;li>ë§Œì•½ Forward Authê°€ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´, ì™¸ë¶€ ì¸ì¦ ì„œë¹„ìŠ¤ì— ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.&lt;/li>
&lt;li>ì™¸ë¶€ ì¸ì¦ ì„œë¹„ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—…ì„ í•©ë‹ˆë‹¤.
&lt;ul>
&lt;li>ë§Œì•½ ìœ íš¨í•œ ìš”ì²­ì´ë¼ë©´, 2XXëŒ€ì˜ OK ì½”ë“œë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ì´ ê²½ìš° ì •ìƒì ìœ¼ë¡œ&lt;/li>
&lt;li>ë§Œì•½ ìœ íš¨í•˜ì§€ ì•Šì€ ìš”ì²­ì´ë¼ë©´ ì¸ì¦ ì„œë²„ì˜ ì‘ë‹µì„ ê·¸ëŒ€ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤. (ì—ëŸ¬ ë°˜í™˜)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>ê·¸ëŸ¼ ì´ê±¸ ì–´ë–»ê²Œ ì“¸ ìˆ˜ ìˆì„ê¹Œìš”?&lt;/p>
&lt;h3 id="2-oauth2ì™€-cookie-forward-auth">2. OAuth2ì™€ Cookie, Forward Auth
&lt;/h3>&lt;h4 id="2-1-ê°€ì¥-ê°„ë‹¨í•œ-forward-auth-ì„œë²„">2-1. ê°€ì¥ ê°„ë‹¨í•œ Forward Auth ì„œë²„
&lt;/h4>&lt;p>ì²˜ìŒë¶€í„° ì²œì²œíˆ ìƒê°í•´ ë´…ì‹œë‹¤.&lt;/p>
&lt;p>ì¼ë‹¨, ê°€ì¥ ê°„ë‹¨í•œ Forward Auth ì„œë²„ë¥¼ ìƒê°í•´ ë´…ì‹œë‹¤.&lt;/p>
&lt;p>ì–´ë–¤ ìš”ì²­ì— ëŒ€í•´ì„œëŠ” OK, ì–´ë–¤ ìš”ì²­ì— ëŒ€í•´ì„œëŠ” NOë¥¼ ì£¼ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”?&lt;/p>
&lt;p>ë§ìŠµë‹ˆë‹¤! ìš°ë¦¬ê°€ Basic Authë•Œ í•œë²ˆ ë³¸ ì ì´ ìˆë“¯, ê° ìš”ì²­ì— ëŒ€í•´ ì¸ì¦ ì •ë³´ë¥¼ ê°™ì´ ë³´ë‚´ê³ , ê·¸ ì¸ì¦ ì •ë³´ê°€ ìœ íš¨í•œ ê²½ìš° í†µê³¼ì‹œì¼œì£¼ë©´ ë  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¼ìœ¼ë¡œ ê·¸ë ¤ë³´ë©´, ê°€ì¥ ê°„ë‹¨í•œ ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-1.png"
width="1200"
height="1005"
srcset="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-1_hu_47ddd7e46937dd56.png 480w, https://blog.lemondouble.com/p/a63eb8199e2089b6/image-1_hu_a3cc726a6162690a.png 1024w"
loading="lazy"
alt="ê°€ì¥ ê°„ë‹¨í•œ Forward Auth"
class="gallery-image"
data-flex-grow="119"
data-flex-basis="286px"
>&lt;/p>
&lt;h4 id="2-2-ì¸ì¦-í† í°ì€-ì–´ë””ì—-ì €ì¥í•˜ì§€">2-2. ì¸ì¦ í† í°ì€ ì–´ë””ì— ì €ì¥í•˜ì§€?
&lt;/h4>&lt;p>ì¢‹ìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ì¼ë‹¨ ê°€ì¥ ê°„ë‹¨í•œ Forward Auth Serverë¥¼ ìƒê°í•´ ë³´ì•˜ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ë‹¤ìŒì€, &amp;ldquo;ê·¸ëŸ¬ë©´ í† í°ì€ ì–¸ì œ, ì–´ë””ì„œ ë°›ì•„ì•¼ í•˜ëŠ”ë°?&amp;rdquo; ë¼ëŠ” ì§ˆë¬¸ì´ ë‚¨ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡ , ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ì„œ ë¡œê·¸ì¸ì— ì„±ê³µí•˜ë©´ Tokenì„ ë°œê¸‰í•´ì£¼ëŠ” ë°©ë²•ì´ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë¦¼ìœ¼ë¡œ ê·¸ë ¤ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-2.png"
width="1791"
height="1005"
srcset="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-2_hu_bdb98473ee1760d5.png 480w, https://blog.lemondouble.com/p/a63eb8199e2089b6/image-2_hu_29c0ba2a0836091e.png 1024w"
loading="lazy"
alt="ë¡œê·¸ì¸ í˜ì´ì§€ ì¶”ê°€"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;p>ì–´? ê·¸ëŸ°ë° &lt;code>auth.lemondouble.com&lt;/code> ì—ì„œ ë¡œê·¸ì¸í–ˆë‹¤ë©´, í† í°ì„ ì–´ë–»ê²Œ ê³µìœ í•  ìˆ˜ ìˆì„ê¹Œìš”? ì–´ë””ì— í† í°ì„ ì €ì¥í•´ì•¼ í• ê¹Œìš”?&lt;/p>
&lt;p>ê·¸ëŸ°ë° ë‚˜ëŠ” a.lemondouble.com, b.lemondouble.comê°™ì€ ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì—ì„œë„ í•´ë‹¹ í† í°ì„ ì´ìš©í•´ì„œ ë¡œê·¸ì¸ì„ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>(ì‚¬ì‹¤ ê½¤ ìì£¼ ìˆëŠ” ì¼ì´ê¸´ í•˜ì§€ë§Œ) a.lemondouble.comì—ì„œ ì´ë¯¸ SSO ë¡œê·¸ì¸ì„ í–ˆëŠ”ë°, b.lemondouble.comì—ì„œ ë¡œê·¸ì¸ì„ ë‹¤ì‹œ ì‹œí‚¨ë‹¤ë©´, (ìœ ì € ì •ë³´ê°€ ê³µìœ ë˜ë”ë¼ë„) ë„ˆë¬´ ê·€ì°®ì€ ì¼ì¼ ê²ƒì…ë‹ˆë‹¤!&lt;/p>
&lt;p>ìš°ë¦¬ëŠ” ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ, Cookieì— í† í°ì„ ë‹´ì„ ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ì–´, &lt;code>.lemondouble.com&lt;/code> ì—ë‹¤ê°€ Cookieë¥¼ ì„¤ì •í•˜ë©´, í•´ë‹¹ CookieëŠ” ëª¨ë“  ì„œë¸Œë„ë©”ì¸, ì¦‰ &lt;code>a.lemondouble.com&lt;/code> , &lt;code>auth.lemondouble.com&lt;/code>, &lt;code>'b.lemondouble.com'&lt;/code> ì— ì ‘ì†í•  ì‹œ ìë™ìœ¼ë¡œ ê°™ì´ ì „ì†¡ëœë‹¤ëŠ” ì ì„ ì´ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;forward-auth-token&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">token&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">domain&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;.lemondouble.com&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">//subdomainê¹Œì§€ ê³µìœ í•˜ë ¤ë©´ ì•ì— &amp;#34;.&amp;#34;ì„ ë¶™ì—¬ì¤˜ì•¼í•¨!
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê·¸ëŸ¬ë©´, ë§ì€ ì¼ì´ ê°„ë‹¨í•´ì§‘ë‹ˆë‹¤! ì •ë¦¬í•´ë³´ì£ .&lt;/p>
&lt;ol>
&lt;li>Forward AuthëŠ” í† í°ì´ ìˆë‹¤ë©´ í—ˆìš©, í† í°ì´ ì—†ë‹¤ë©´ ê±°ë¶€í•œë‹¤.&lt;/li>
&lt;li>ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´, ë¡œê·¸ì¸ í˜ì´ì§€ëŠ” ë¡œê·¸ì¸ ì„±ê³µì‹œ &lt;code>.lemondouble.com&lt;/code> ì— ì¿ í‚¤ë¥¼ ì„¤ì •í•˜ë„ë¡ í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ì—¬ê¸°ê¹Œì§€ ì •ë¦¬í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê·¸ë¦¼ì´ ë‚˜ì˜µë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-3.png"
width="1791"
height="1005"
srcset="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-3_hu_484549cb0de0ceb3.png 480w, https://blog.lemondouble.com/p/a63eb8199e2089b6/image-3_hu_a8977a718bd87cfb.png 1024w"
loading="lazy"
alt="ë¡œê·¸ì¸ ì´í›„ ì¿ í‚¤ ì €ì¥ê¹Œì§€ ê·¸ë¦¼"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;h4 id="2-3-jwt-í† í°-ì‚¬ìš©-ë°-ë§Œë£Œ-ì„¤ì •-ìœ íš¨ì„±-ê²€ì¦">2-3. JWT í† í° ì‚¬ìš© ë° ë§Œë£Œ ì„¤ì •, ìœ íš¨ì„± ê²€ì¦
&lt;/h4>&lt;p>ì! ê·¸ëŸ°ë° í† í° ì•ˆì—ëŠ” ì–´ë–¤ ê°’ì´ ë“¤ì–´ê°€ë©´ ì¢‹ì„ê¹Œìš”?&lt;/p>
&lt;p>ì´ ê²½ìš°, JWTê°€ ì ì ˆí•  ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. Statelessí•´ì•¼ í•˜ê³ , ìœ„ë³€ì¡°ê°€ ì•„ì£¼ ì–´ë ¤ìš´ í† í°ì´ì•¼ ë§ë¡œ ì´ ì‚¬ìš©ì‚¬ë¡€ì— ì•„ì£¼ ì í•©í•´ ë³´ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì•ˆì˜ ë‚´ìš©ì€.. ìœ ì € IDë‚˜ ì´ë©”ì¼ ì •ë„ê°€ ì¢‹ê² ë„¤ìš”.&lt;/p>
&lt;p>ê·¸ëŸ°ë° í† í°ì„ í•œë²ˆ ë°œê¸‰í–ˆìœ¼ë©´ ì²œë…„ë§Œë…„ ì¨ë„ ë ê¹Œìš”&amp;hellip;? ê·¸ëŸ¬ë©´ í† í°ì„ í•œë²ˆ íƒˆì·¨ë‹¹í•˜ë©´ ì²œë…„ ë§Œë…„ ì„œë²„ê°€ í„¸ë¦¬ê² ì£ ..? ë”°ë¼ì„œ, í† í° ìœ íš¨ ê¸°ê°„ ì„¤ì •ì´ í•„ìš”í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë³´ì•ˆê³¼ í¸ì˜ì„± ì‚¬ì´ì— ê³ ë ¤í•˜ë©´ ë  ê²ƒ ê°™ì€ë°, ì €ëŠ” í¸ì˜ìƒ 3600ì´ˆ (1ì‹œê°„) ì„ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¬ë©´&lt;/p>
&lt;ol>
&lt;li>JWTë¥¼ Exp (Expired Time)ì„ í˜„ì¬ì‹œê°„ + 3600ì´ˆë¡œ ë¡œê·¸ì¸ ì„œë²„ì—ì„œ ë°œê¸‰í•´ ì¤˜ì•¼ í•  ê²ƒ ê°™ë„¤ìš”. í¸ì˜ìƒ, Cookie ìœ ì§€ ì‹œê°„ë„ 3600ì´ˆë¡œ í†µì¼í•˜ë©´ ì¢‹ê² ë„¤ìš”.&lt;/li>
&lt;li>Forward Authì—ì„œ ê¸°ì¡´ì€ í† í°ì´ ìˆë‹¤ë©´ ë¬´ì¡°ê±´ í†µê³¼ì˜€ì§€ë§Œ, í† í° JWT ê²€ì¦ ë°, ë§Œë£Œ í† í°ì¼ ì‹œ ê°’ì´ ìœ íš¨í•˜ë”ë¼ë„ ê±°ì ˆí•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•´ì•¼ í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ê·¸ë¦¼ìœ¼ë¡œ ë‹¤ì‹œ ê·¸ë ¤ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-4.png"
width="1791"
height="1005"
srcset="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-4_hu_f8167bcf545e57fe.png 480w, https://blog.lemondouble.com/p/a63eb8199e2089b6/image-4_hu_e2c553dc3a6c119c.png 1024w"
loading="lazy"
alt="JWT í† í°ê³¼ ë§Œë£Œ ì¶”ê°€"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;h4 id="2-4-ë¦¬ë‹¤ì´ë ‰íŠ¸-ì²˜ë¦¬">2-4. ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬
&lt;/h4>&lt;p>ê·¸ëŸ°ë° ë§Œì•½ í† í°ì´ ìœ íš¨í•˜ì§€ ì•Šê±°ë‚˜, í† í°ì´ ì—†ë‹¤ë©´ ê·¸ëƒ¥ ì—ëŸ¬ í˜ì´ì§€ë§Œ ë³´ì—¬ì¤˜ë„ ê´œì°®ì„ê¹Œìš”?&lt;/p>
&lt;p>ë¬¼ë¡ &amp;hellip; ë‚´ê°€ í˜¼ì ì“°ë©´ ì•ˆ ë ê±° ë­ ìˆê² ìŠµë‹ˆê¹Œë§ˆëŠ”&amp;hellip; êµ‰ì¥íˆ ë§¤ë²ˆ ê·€ì°®ì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ëƒ¥ ì¸ì¦ ì‹¤íŒ¨í•˜ë©´ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œì¼œì£¼ë©´ í¸í•  ê²ƒ ê°™ë„¤ìš”.&lt;/p>
&lt;p>ë°”ë¡œ ì¶”ê°€í•´ ë´…ì‹œë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-5.png"
width="1791"
height="1005"
srcset="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-5_hu_38a5231d95f2f955.png 480w, https://blog.lemondouble.com/p/a63eb8199e2089b6/image-5_hu_31bfb85f4d9ae303.png 1024w"
loading="lazy"
alt="ë¦¬ë‹¤ì´ë ‰íŠ¸ ì¶”ê°€"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;p>ê·¸ëŸ°ë° ë³´í†µ SSO ì„±ê³µí•˜ë©´ ê¸°ì¡´ ì‚¬ì´íŠ¸ë¡œ ëŒì•„ê°€ì–ì•„ìš”? ê·¸ê²ƒë„ í•œë²ˆ ì¶”ê°€í•´ ë´…ì‹œë‹¤.&lt;/p>
&lt;p>ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë‚˜ í—¤ë” ë“±ìœ¼ë¡œ &amp;ldquo;ì›ë˜ ì–´ë””ì„œ ì™”ëŠ”ì§€&amp;quot;ë¥¼ ê¸°ì–µí•˜ê³ , ë¡œê·¸ì¸ì— ì„±ê³µí•˜ë©´ ì›ë˜ ì–´ë””ì„œ ì™”ëŠ”ì§€ ê¸°ì–µí•´ì„œ ë¡œê·¸ì¸ ì„œë²„ê°€ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬ë¥¼ í•´ ì£¼ë©´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-6.png"
width="1791"
height="1005"
srcset="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-6_hu_da59f5765128a134.png 480w, https://blog.lemondouble.com/p/a63eb8199e2089b6/image-6_hu_aadf5e9ca425c0f8.png 1024w"
loading="lazy"
alt="ì›ë˜ ì‚¬ì´íŠ¸ë¡œ ëŒì•„ê°€ê¸°"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="427px"
>&lt;/p>
&lt;p>ì•„.. OAuthëŠ” ì´ì•¼ê¸°ë„ ì•ˆ êº¼ëƒˆëŠ”ë° ë²Œì¨ ë³µì¡í•˜ë„¤ìš”. ì¼ë‹¨ í•œë²ˆ ë” í•´ ë´…ì‹œë‹¤..&lt;/p>
&lt;p>ë§Œì•½ í†µí•©ì¸ì¦ì´ ID/Password ë¡œê·¸ì¸ì´ë¼ë©´ ì—¬ê¸°ì„œ ì™„ì„±ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œ ì¡°ê¸ˆ í—·ê°ˆë¦´ ìˆ˜ ìˆì–´ì„œ ì •ë¦¬í•˜ê³  ê°€ë©´, ë¡œê·¸ì¸ ì„œë²„ì™€ Traeifkì˜ Forward Auth ì„œë²„ëŠ” ë™ì¼í•´ë„ ë¬´ë°©í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>êµ³ì´ ê·¸ë¦¼ê¹Œì§€ ê·¸ë¦¬ë©´ì„œ ì´ê±¸ ë‹¤ì‹œ ì“°ëŠ” ì´ìœ ëŠ”, Forward Auth ì¸ì¦ ì„œë²„ì™€ ë¡œê·¸ì¸ ì„œë²„ë¥¼ ë¶„ë¦¬í•  í•„ìš”ê°€ ì—†ì–´ì„œì…ë‹ˆë‹¤!&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-7.png"
width="1292"
height="730"
srcset="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-7_hu_c79449495156ba32.png 480w, https://blog.lemondouble.com/p/a63eb8199e2089b6/image-7_hu_29737db47c31b538.png 1024w"
loading="lazy"
alt="ì‹¤íŒ¨ì‹œ í”Œë¡œìš°ë¥¼ ë‹¤ì‹œ ì •ë¦¬í•œ ê·¸ë¦¼"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="424px"
>&lt;/p>
&lt;h4 id="2-5-oauth-ì‹œì‘">2-5. OAuth ì‹œì‘!
&lt;/h4>&lt;p>ì¼ë‹¨ ìŠ¤í™ì„ ì •í•˜ê³  ê°€ ë´…ì‹œë‹¤.&lt;/p>
&lt;p>ì €í¬ê°€ ë§Œë“¤ ìŠ¤í™ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ë§Œì•½ ì–´ë–¤ ì„œë¹„ìŠ¤ì— ì ‘ê·¼í–ˆëŠ”ë°, OAuth SSOê°€ í•„ìš”í•˜ë‹¤ë©´ ë°”ë¡œ í•´ë‹¹ Social Providerì˜ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤. (ì¦‰, ìš°ë¦¬ëŠ” ë¡œê·¸ì¸ í˜ì´ì§€ë¥¼ ë§Œë“¤ì§€ ì•ŠìŠµë‹ˆë‹¤!)&lt;/li>
&lt;li>ë¡œê·¸ì¸ì— ì„±ê³µí•˜ë©´ ì›ë˜ ì ‘ê·¼í•˜ë ¤ëŠ” ì„œë¹„ìŠ¤ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ë©ë‹ˆë‹¤!&lt;/li>
&lt;/ol>
&lt;p>ê·¸ë¦¬ê³  Client ID ë“±ë¡ ë“±ì˜ ê¸°ë³¸ë‚´ìš©ë“¤ì€ ìƒëµí•©ë‹ˆë‹¤. ì´ê±¸ í•˜ë‚˜í•˜ë‚˜ ì„¤ëª…í•˜ë©´ ì±… í•œ ê¶Œì´ ë‚˜ì™€ì„œìš”.. ë§Œì•½ OAuth 2.0 í”„ë¡œí† ì½œì— ëŒ€í•´ ì˜ ëª¨ë¥´ì‹ ë‹¤ë©´, ìƒí™œì½”ë”©ì˜ &lt;a class="link" href="https://opentutorials.org/course/3405" target="_blank" rel="noopener"
>Web2 - OAuth 2.0&lt;/a> ê°•ì˜ë¥¼ ì¶”ì²œë“œë¦´ê²Œìš”. (ê³µì§­ë‹ˆë‹¤!)&lt;/p>
&lt;h4 id="2-6-oauth-ì „ì²´-í”Œë¡œìš°">2-6. OAuth ì „ì²´ í”Œë¡œìš°
&lt;/h4>&lt;p>ì œê°€.. ì§„ì§œ ì´ê±¸ ì‰½ê²Œ ì„¤ëª…í•˜ë ¤ê³  ë…¸ë ¥í•´ë´¤ëŠ”ë°&amp;hellip; ì†”ì§íˆ ë‹µì´ ì•ˆ ì„œì„œìš”..&lt;/p>
&lt;p>ì „ì²´ í”Œë¡œìš°ë¥¼ ë³´ì—¬ë“œë¦¬ê³˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-8.png"
width="2013"
height="1092"
srcset="https://blog.lemondouble.com/p/a63eb8199e2089b6/image-8_hu_4261ade3f0ace299.png 480w, https://blog.lemondouble.com/p/a63eb8199e2089b6/image-8_hu_df0ff7956bdb6d4f.png 1024w"
loading="lazy"
alt="OAuth SSO ì „ì²´ í”Œë¡œìš°"
class="gallery-image"
data-flex-grow="184"
data-flex-basis="442px"
>&lt;/p>
&lt;p>í•µì‹¬ ì•„ì´ë””ì–´ëŠ” State Codeë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤!&lt;/p>
&lt;ul>
&lt;li>OAuth ì¸ì¦ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚¼ ë•Œ, ì„ì˜ì˜ ë¬¸ìì—´ì„ ìƒì„±í•´ ê°™ì´ (?state=ì„ì˜ì˜ë¬¸ìì—´) ë³´ë‚´ë©´, ì´í›„ ìœ ì €ê°€ ë¡œê·¸ì¸ ì„±ê³µ í›„ ëŒì•„ì˜¬ ë•Œ í•´ë‹¹ ë¬¸ìì—´ì„ ê°™ì´ ë³´ë‚´ì£¼ëŠ” ìŠ¤í™ì´ OAuth 2.0 í‘œì¤€ì— ìˆìŠµë‹ˆë‹¤. (í•„ìˆ˜ íŒŒë¼ë¯¸í„°ëŠ” ì•„ë‹ˆë¼, OAuth ì—°ë™ì„ í•˜ë©´ì„œ ëª» ë³´ì…¨ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤!)&lt;/li>
&lt;li>ì´ë¥¼ ì´ìš©í•´ì„œ ìœ ì €ê°€ &amp;ldquo;ì–´ë””ì„œ ì™”ëŠ”ì§€&amp;rdquo; ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ê¸°ë¡í•˜ê³ , ë¡œê·¸ì¸ ì„±ê³µ í›„ í•´ë‹¹ URLë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œì¼œì£¼ëŠ” ì•„ì´ë””ì–´ë¥¼ ì°¨ìš©í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ì „ì²´ í”Œë¡œìš°ëŠ” ìœ„ ê·¸ë¦¼ì„ ì°¸ê³ í•´ ì£¼ì‹œê³ , ê·¸ëŸ¬ë©´ ìš°ë¦¬ ì¸ì¦ ì„œë²„ëŠ” ë¬´ì—‡ì„ êµ¬í˜„í•´ì•¼ í• ê¹Œìš”?&lt;/p>
&lt;p>ì—”ë“œí¬ì¸íŠ¸ ë‹¨ í•˜ë‚˜ë¥¼ êµ¬í˜„í•˜ëŠ”ë°, ë‹¤ìŒì„ êµ¬í˜„í•˜ì‹œë©´ ë©ë‹ˆë‹¤. (ìœ„ì—ì„œ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. ì²˜ë¦¬ ìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤!)&lt;/p>
&lt;ol>
&lt;li>
&lt;p>ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ codeì™€ stateê°€ ìˆëŠ” ê²½ìš°, State Codeê°€ DBì— ì €ì¥ëœ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ë§Œì•½ DBì— í•´ë‹¹ State Codeê°€ ì¡´ì¬í•œë‹¤ë©´, íƒ€ì‚¬ OAuth Serverê³¼ í†µì‹ í•˜ì—¬ Authorization Codeë¥¼ ìœ ì € ì •ë³´ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ë³€í™˜í•œ ìœ ì € ì •ë³´ê°€ ë¯¸ë¦¬ ë“±ë¡ëœ ê¶Œí•œ ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ”ì§€ í™•ì¸í•˜ê³ , ë§Œì•½ ì—†ë‹¤ë©´ ì˜¤ë¥˜ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë§Œì•½ ê¶Œí•œ ë¦¬ìŠ¤íŠ¸ì— ìˆë‹¤ë©´, ë¡œê·¸ì¸ìš© ì‹ ê·œ JWTë¥¼ ìƒì„± í›„ Cookieì— &lt;code>.yourdomain.com&lt;/code> ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤. ì´ ë•Œ, ë³´ì•ˆì„ ìœ„í•´ secure, httpOnly ì„¤ì •ì„ ì¼œ ì£¼ë©´ ì¢‹ìŠµë‹ˆë‹¤. ë˜í•œ sameSite ì˜µì…˜ì€ &lt;code>'Lax'&lt;/code>ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ì´í›„ State Codeì™€ í•œ ìŒì¸ URIë¡œ ìœ ì €ë¥¼ Redirect ì‹œí‚µë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Cookieì— JWT í† í°ì´ ìˆëŠ” ê²½ìš°, JWT ê²€ì¦ í›„ ì •ìƒ JWTë¼ë©´ 200ì„ ë°˜í™˜í•©ë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ë§Œì•½ Cookieì— JWT í† í°ì´ ì•„ì˜ˆ ì—†ê±°ë‚˜, ë§Œë£Œëœ Cookieë¼ë©´ ë§Œë£Œëœ Cookieë¥¼ ì§€ìš°ê³ , State Codeì— &lt;code>X-Forwarded-Host&lt;/code> í—¤ë”ì™€ &lt;code>X-Forwarded-Uri&lt;/code>ë¥¼ íŒŒì‹±í•˜ì—¬ í˜„ì¬ URIë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤. ì´í›„ ì‹ ê·œ State Codeì™€ í•´ë‹¹ URI í˜ì–´ë¥¼ DBì— ì €ì¥í•˜ê³ , í˜„ì¬ APIë¥¼ Redirect URLë¡œ ì„¤ì •í•´ State Codeì™€ í•¨ê»˜ ì „ì†¡í•©ë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>TIP : ìœ ì €ê°€ ìš”ì²­í•œ URI : &lt;code>https://&amp;quot; + GetHeader(&amp;quot;X-Forwarded-Host&amp;quot;) + GetHeader(&amp;quot;X-Forwarded-Uri&amp;quot;)&lt;/code>&lt;/li>
&lt;/ul>
&lt;h4 id="2-7-ì¶”ê°€-ì„¤ì •">2-7. ì¶”ê°€ ì„¤ì •
&lt;/h4>&lt;p>ë§ˆì§€ë§‰ìœ¼ë¡œ.. Traefik ì„¤ì •ì— ë‹¤ìŒ ë‘ ì¤„ì„ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">- &amp;#34;--entryPoints.web.forwardedHeaders.insecure&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- &amp;#34;--entryPoints.websecure.forwardedHeaders.insecure&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í•´ë‹¹ ì¤„ì´ ì—†ìœ¼ë©´, X-forwared-for í—¤ë”ë“¤ì´ ë„˜ì–´ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ì œ ë¸”ë¡œê·¸ì˜ ê¸€ (&lt;a class="link" href="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-4.-traefik-https-%EC%9D%B8%EC%A6%9D-%EB%B0%8F-argocd-%EC%84%A4%EC%A0%95/" target="_blank" rel="noopener"
>4. Traefik https ì¸ì¦ ë° ArgoCD ì„¤ì •&lt;/a>) ì„ ì°¸ê³ í•˜ì…¨ë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•˜ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://traefik.io/blog/https-on-kubernetes-using-traefik-proxy/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">helm.cattle.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HelmChartConfig&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kube-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">valuesContent&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|-&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ports:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> web:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> redirectTo:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> port: websecure
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> priority: 10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> additionalArguments:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--log.level=INFO&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.email=yourMail@gmail.com&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.storage=/data/acme.json&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.tlschallenge=true&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.caServer=https://acme-v02.api.letsencrypt.org/directory&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--entryPoints.web.forwardedHeaders.insecure&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--entryPoints.websecure.forwardedHeaders.insecure&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´í›„ kubectl applyë¥¼ ì‹¤í–‰í•˜ì—¬, Forwared Auth ì„¤ì •ì„ ë§ˆë¬´ë¦¬ í•´ ì¤ì‹œë‹¤.!&lt;/p>
&lt;h3 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>ì‚¬ì‹¤ ë‚´ìš©ì´ ë„ˆë¬´ ë°©ëŒ€í•´ì„œ.. ê°€ëŠ¥í•œ ì‰½ê²Œ ì“´ë‹¤ê³  ë…¸ë ¥í–ˆëŠ”ë°, ì œëŒ€ë¡œ ì „ë‹¬ì€ ì•ˆ ë˜ì—ˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ë‚˜ì¤‘ì— ê¸€ì„ í•œë²ˆ ìˆ˜ì •í•´ì•¼ ë˜ì§€ ì•Šë‚˜ ì‹¶ë„¤ìš”.&lt;/p>
&lt;p>ê·¸ë˜ë„ í˜¹ì‹œ ëª¨ë¥´ë‹ˆ, ì°¸ê³ í•˜ì—¬ êµ¬ì¶•í•˜ì‹¤ ë¶„ë“¤ì€ ì´í•´ ì•ˆ ë˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤ë©´ ì•„ë˜ ëŒ“ê¸€ì´ë‚˜, &lt;a class="link" href="mailto:contact@lemondouble.com" >contact@lemondouble.com&lt;/a> ìœ¼ë¡œ í¸í•˜ê²Œ ì—°ë½ ì£¼ì„¸ìš”! íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ê¹Œì§€ ê°™ì´ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì•„ ê·¸ë¦¬ê³  í˜¹ì‹œ Golangì„ í• ì¤„ ì•„ì‹ ë‹¤ë©´, &lt;a class="link" href="https://github.com/thomseddon/traefik-forward-auth" target="_blank" rel="noopener"
>traefik-forward-auth&lt;/a> ë¥¼ ì°¸ê³ í•˜ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 10-1. Basic Authë¡œ ë‚´ë¶€ìš© ì„œë¹„ìŠ¤ ë³´í˜¸í•˜ê¸°</title><link>https://blog.lemondouble.com/p/771435ba12d3f38c/</link><pubDate>Sun, 07 Jan 2024 12:41:24 +0900</pubDate><guid>https://blog.lemondouble.com/p/771435ba12d3f38c/</guid><description>&lt;img src="https://blog.lemondouble.com/p/771435ba12d3f38c/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 10-1. Basic Authë¡œ ë‚´ë¶€ìš© ì„œë¹„ìŠ¤ ë³´í˜¸í•˜ê¸°" />&lt;p>&lt;strong>ì•„ë˜ ë‚´ìš©ì€ Sealed Secrets &lt;a class="link" href="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/#3-sealed-secrets-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-basic-auth-%EB%93%B1%EB%A1%9D%ED%95%B4%EB%B3%B4%EA%B8%B0" target="_blank" rel="noopener"
>ì„¹ì…˜ 3&lt;/a>ê³¼ ê²¹ì¹˜ëŠ” ë¶€ë¶„ì´ ë§ìŠµë‹ˆë‹¤. í•´ë‹¹ ì„¹ì…˜ì„ ì§„í–‰í•˜ì…¨ê³ , Basic Authì— ëŒ€í•´ ì˜ ì•„ì‹ ë‹¤ë©´ ìŠ¤í‚µí•´ë„ ë¬´ë°©í•©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;h3 id="1-ì„œë¡ ">1. ì„œë¡ 
&lt;/h3>&lt;p>ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í•˜ë‹¤ ë³´ë©´, ì´ëŸ°ì €ëŸ° ì„œë¹„ìŠ¤ë¥¼ ë§ì´ ì˜¬ë¦¬ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë¬¼ë¡  ë‚´ë¶€ë§ì—ì„œë§Œ ì„œë¹„ìŠ¤í•˜ëŠ”ê²ƒì´ ë³´ì•ˆìƒ ê°€ì¥ ì¢‹ê² ì§€ë§Œ, í´ëŸ¬ìŠ¤í„° ê´€ë¦¬ë¥¼ í•­ìƒ ë‚´ë¶€ë§ì—ì„œë§Œ í•  ìˆ˜ ì—†ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë†€ëŸ¬ê°”ëŠ”ë° ê°‘ìê¸° ë¬¸ì œê°€ ìƒê²¼ë‹¤ê±°ë‚˜ í•˜ëŠ” ê²½ìš°ê°€ ìˆì„ ìˆ˜ë„ ìˆê² ì£ .&lt;/p>
&lt;p>ì´ëŸ° ê²½ìš° í•´ê²°ë°©ë²•ì´ ë‘ ê°€ì§€ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>VPNì„ ì‚¬ìš©í•˜ì—¬, ë‹¤ë¥¸ ì»´í“¨í„°ì—ì„œ ë‚´ë¶€ë§ì— ì ‘ì†í•´ì„œ ê´€ë ¨ ì„œë¹„ìŠ¤ ì‚¬ìš©&lt;/li>
&lt;li>ì¸í„°ë„·ì— ì„œë¹„ìŠ¤ë¥¼ ì—´ì–´ë†“ë˜, ì¸ì¦ ë§¤ì»¤ë‹ˆì¦˜ì„ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©&lt;/li>
&lt;/ol>
&lt;p>ì €ì˜ ê²½ìš°ëŠ” 2ë¥¼ ì„ íƒí–ˆê³ , ê°œì¸ì ìœ¼ë¡œ SSO ì„œë²„ë¥¼ êµ¬ì¶•í•´ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ SSO ì‹œìŠ¤í…œì€ êµ¬ì¶• ê³¼ì •ì´ ë°©ëŒ€í•œ ê´€ê³„ë¡œ ê°€ì¥ ê°„ë‹¨í•œ ì¸ì¦ ë§¤ì»¤ë‹ˆì¦˜ ë¨¼ì € ì§„í–‰í•´ ë³´ë ¤ê³  í•©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="2-basic-authì˜-íë¦„">2. Basic Authì˜ íë¦„
&lt;/h3>&lt;p>&lt;img src="https://blog.lemondouble.com/p/771435ba12d3f38c/image.png"
width="713"
height="407"
srcset="https://blog.lemondouble.com/p/771435ba12d3f38c/image_hu_f9a42cbc30b65381.png 480w, https://blog.lemondouble.com/p/771435ba12d3f38c/image_hu_8fe13c92fd237b2c.png 1024w"
loading="lazy"
alt="Basic Auth, ì¶œì € : MDN"
class="gallery-image"
data-flex-grow="175"
data-flex-basis="420px"
>&lt;/p>
&lt;p>Basic AuthëŠ” ì—„ì²­ ê°„ë‹¨í•©ë‹ˆë‹¤!&lt;/p>
&lt;ol>
&lt;li>ì„œë²„ì—ê²Œ í˜ì´ì§€ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ì„œë²„ëŠ” ìš”ì²­ì„ ë°›ê³ , ì¸ì¦ ì •ë³´ê°€ ì—†ìœ¼ë©´ 401 ì‘ë‹µê³¼ í•¨ê»˜ ì¸ì¦ ë°©ë²• (Basic Auth) ë¥¼ ìš”êµ¬í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>í´ë¼ì´ì–¸íŠ¸ëŠ” ì‘ë‹µì„ ë°›ê³ , Basic Authë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.
&lt;ul>
&lt;li>ì´ ë•Œ, HTTP Authorization Headerì— &lt;code>Basic ${ì¸ì¦ í† í°}&lt;/code> ì˜ ê°’ì„ ë‹´ì•„ ë³´ëƒ…ë‹ˆë‹¤.&lt;/li>
&lt;li>ì´ ë•Œ, ì¸ì¦ í† í°ì€ Base64Encode(&amp;ldquo;userId:password&amp;rdquo;) ì…ë‹ˆë‹¤.&lt;/li>
&lt;li>ì˜ˆë¥¼ ë“¤ì–´ idê°€ lemondouble, íŒ¨ìŠ¤ì›Œë“œê°€ 1q2w3e4r!ë¼ë©´ &lt;code>&amp;quot;lemondouble:1q2w3e4r!&amp;quot;&lt;/code> ë¥¼ base64ë¡œ ì¸ì½”ë”©í•œ ê°’ì¸ &lt;code>bGVtb25kb3VibGU6MXEydzNlNHIh&lt;/code>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì„œë²„ëŠ” ì´ í† í°ì„ í™•ì¸í•œ í›„, ì •ìƒ ì‘ë‹µì„ ëŒë ¤ì¤ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;h3 id="3-basic-authì˜-ì¥ë‹¨ì ">3. Basic Authì˜ ì¥ë‹¨ì ?
&lt;/h3>&lt;p>ì¥ì  :&lt;/p>
&lt;ol>
&lt;li>ë¹ŒíŠ¸ì¸ì´ë‹¤! : ëŒ€ë¶€ë¶„ì˜ ë¸Œë¼ìš°ì €ì—ì„œ ë³„ë‹¤ë¥¸ ì„¤ì • ì—†ì´ë„ ì§€ì›í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>êµ¬í˜„ì´ ê°„í¸í•˜ë‹¤. : ëŒ€ë¶€ë¶„ì˜ ì›¹ í”„ë ˆì„ì›Œí¬ì—ì„œ ê¸°ë³¸ ì§€ì›í•©ë‹ˆë‹¤!&lt;/li>
&lt;/ol>
&lt;p>ë‹¨ì  :&lt;/p>
&lt;ol>
&lt;li>ë³´ì•ˆì´ ì·¨ì•½í•˜ë‹¤ : ìµœëŒ€ ë‹¨ì ì…ë‹ˆë‹¤.
&lt;ul>
&lt;li>íŒ¨ìŠ¤ì›Œë“œê°€ base64ë¡œ ì¸ì½”ë”© (=í‰ë¬¸)ìœ¼ë¡œ ë§¤ ìš”ì²­ë§ˆë‹¤ ì „ì†¡ë©ë‹ˆë‹¤.
&lt;ul>
&lt;li>Https í”„ë¡œí† ì½œì„ ì‚¬ìš©í•œë‹¤ë©´ ê´œì°®ê² ì§€ë§Œ, HTTP í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ë©´ ë§¤ ìš”ì²­ë§ˆë‹¤ í‰ë¬¸ìœ¼ë¡œ íŒ¨ìŠ¤ì›Œë“œê°€ ì „ì†¡ë©ë‹ˆë‹¤!&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²© ë“±ì„ ë°©ì–´í•˜ì§€ ì•ŠëŠ”ë‹¤.
&lt;ul>
&lt;li>Id/Passwordì˜ ë¬¸ì œì´ê² ì§€ë§Œ, Traefikì˜ ê¸°ë³¸ ì„¤ì •ëŒ€ë¡œë¼ë©´ ì¼ì • ìˆ˜ ì´ìƒ í‹€ë¦° ìš”ì²­ì„ ì‹œí‚¨ í´ë¼ì´ì–¸íŠ¸ë¥¼ ë“œë¡­í•œë‹¤ë˜ê°€ í•˜ëŠ” ê¸°ëŠ¥ì´ ì—†ìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>Id/Passwordê°€ ì·¨ì•½í•˜ë‹¤ë©´, ì–´ë–¤ ì•…ì˜ì  ê³µê²©ìê°€ ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²©ì„ í†µí•´ ì„œë¹„ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>ë”°ë¼ì„œ, ê°€ëŠ¥í•˜ë‹¤ë©´ í•´ë‹¹ ê¸°ëŠ¥ì€&lt;/p>
&lt;ol>
&lt;li>ì ‘ê·¼í•´ë„ ë³„ ë¬¸ì œ ì—†ëŠ” ì„œë¹„ìŠ¤ë¥¼ ëŒ€ìƒìœ¼ë¡œ, í˜¹ì€ ëª‡ëª‡ ìœ ì €ì—ê²Œë§Œ ê³µìœ í•˜ê³  ì‹¶ì€ ì„œë¹„ìŠ¤ë¥¼ ëŒ€ìƒìœ¼ë¡œ&lt;/li>
&lt;li>https í”„ë¡œí† ì½œì„ ì‚¬ìš©í•´ì„œ&lt;/li>
&lt;li>ì¶©ë¶„íˆ ê¸´ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ&lt;/li>
&lt;/ol>
&lt;p>ì„ ê¶Œì¥í•©ë‹ˆë‹¤!&lt;/p>
&lt;h3 id="4-basic-auth-ì„¤ì •-ë°©ë²•">4. Basic Auth ì„¤ì • ë°©ë²•
&lt;/h3>&lt;ul>
&lt;li>ì €í¬ëŠ” Seaeld Secretsë¥¼ ì´ìš©í•´, ì ‘ì† ì •ë³´ (Id/Password)ë¥¼ ì•”í˜¸í™”í•´ Gitì— ì €ì¥í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•  ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/li>
&lt;li>ì´ë ‡ê²Œ í•˜ëŠ” ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
&lt;ul>
&lt;li>ë¶ˆì‹œì˜ ì‚¬ê³ ê°€ ì¼ì–´ë‚¬ì„ ë•Œ, ì ‘ì† ì •ë³´ë¥¼ í¬í•¨í•˜ì—¬ ì‹ ì†í•˜ê²Œ í´ëŸ¬ìŠ¤í„°ë¥¼ ë³µêµ¬í•˜ê¸° ìœ„í•´ì„œ (Secrets ì •ë³´ë„ Gitì— ìˆìœ¼ë¯€ë¡œ, ë°°í¬ë§Œ í•˜ë©´ ë¨)&lt;/li>
&lt;li>ì•„ë¬´ë¦¬ Private Repoë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•˜ë”ë¼ë„, ìˆœê°„ì˜ ì‹¤ìˆ˜ë¡œ Id/Passwordê°€ ë…¸ì¶œë˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Disclaimer : ì•„ë˜ ë‚´ìš©ì€ Sealed Secrets &lt;a class="link" href="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/#3-sealed-secrets-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-basic-auth-%EB%93%B1%EB%A1%9D%ED%95%B4%EB%B3%B4%EA%B8%B0" target="_blank" rel="noopener"
>ì„¹ì…˜ 3&lt;/a>ê³¼ ë™ì¼í•©ë‹ˆë‹¤!&lt;/p>
&lt;p>Longhorn Dashboardë¥¼ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ì„¤ì •í•˜ë©°, Basic Auth ì„¤ì • ë°©ë²•ì„ ë°°ì›Œë´…ì‹œë‹¤.&lt;/p>
&lt;ol>
&lt;li>&lt;code>apt install apache2-utils&lt;/code> ì‹¤í–‰í•˜ì—¬ htpasswd ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>htpasswd -nb &amp;lt;id&amp;gt; &amp;lt;password&amp;gt; | openssl base64&lt;/code> ë¥¼ ì´ìš©í•˜ì—¬, id,passwordê°€ ë‹´ê¸´ Secret Stringì„ ì–»ìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ì•„ë¬´ í…ìŠ¤íŠ¸ í¸ì§‘ê¸°ë¡œ secret.yamlì„ ìƒì„±í•˜ê³ , ë‹¤ìŒì„ ì°¸ê³ í•˜ì—¬ Secretì„ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">users&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;2ì—ì„œ ì–»ì€ String&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>4.&lt;code>cat secret.yaml | kubeseal --controller-namespace=sealed-secrets-system --controller-name=sealed-secrets -oyaml &amp;gt; sealed-secrets.yaml&lt;/code> ë¥¼ ì…ë ¥í•˜ì—¬ sealed-secrets.yaml ì„ ì–»ìŠµë‹ˆë‹¤.
5. ë‹¤ìŒì„ ì°¸ê³ í•˜ì—¬ ingressë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>modules/longhorn-system/ingress.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-dashboard&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;ì›í•˜ëŠ” subdomain, ì˜ˆì‹œ:longhorn.lemon.com&amp;gt;`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">middlewares&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-frontend&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Middleware&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">basicAuth&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secret&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/longhorn-system/sealed-basic-auth-secret.yaml&lt;/code> ì—ëŠ”, ë°©ê¸ˆ ìƒì„±í•œ sealed-secrets.yamlì„ ë³µì‚¬ ë¶™ì—¬ë„£ê¸° í•´ ì¤ì‹œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bitnami.com/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SealedSecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">creationTimestamp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">encryptedData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">users&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">adfasdflavasdlfj...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">creationTimestamp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="6">
&lt;li>ì´í›„ ë°°í¬ë¥¼ ì§„í–‰í•´ ì¤ë‹ˆë‹¤.&lt;/li>
&lt;li>ì´í›„ ì ‘ì†í•˜ë©´ ì •ìƒì ìœ¼ë¡œ id/password í™•ì¸ ì°½ì´ ëœ¨ë©°, ë¡œê·¸ì¸ì„ í•˜ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ í˜ì´ì§€ê°€ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤!&lt;/li>
&lt;/ol>
&lt;h3 id="5-ë§ˆì¹˜ë©°">5. ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>Basic AuthëŠ” ì œ ì´ˆê¸° í´ëŸ¬ìŠ¤í„° ê´€ë¦¬ ë°©ë²•ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì™¸ë¶€ë¡œ ë…¸ì¶œë˜ëŠ” ì„œë¹„ìŠ¤ê°€ ë§ì§€ ì•Šë‹¤ë©´, Basic Authë¥¼ ì„¤ì •í•˜ê³  &lt;a class="link" href="https://lemondouble.github.io/p/fly.io-%EC%86%8C%EA%B0%9C-%EB%B0%8F-fly.io%EC%97%90-%EC%98%AC%EB%A6%AC%EA%B8%B0-%EC%A2%8B%EC%9D%80-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%B6%94%EC%B2%9C-vaultwarden/" target="_blank" rel="noopener"
>Bitwarden&lt;/a> ë“±ì˜ íŒ¨ìŠ¤ì›Œë“œ ë§¤ë‹ˆì €ë¥¼ ì‚¬ìš©í•´ ê´€ë¦¬í•˜ëŠ” ê²ƒ ë§Œìœ¼ë¡œë„ ì¶©ë¶„í•˜ë‹¤ê³  ëŠê¼ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ë‚˜ì¤‘ì— í”„ë¡œì íŠ¸ê°€ ë” ë§ì•„ì§„ë‹¤ë©´?&lt;/p>
&lt;p>ê·¸ ê²½ìš°ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ, SSO ì¸ì¦ ë°©ë²•ì„ ë‹¤ìŒ í¬ìŠ¤íŠ¸ì— ì˜¬ë¦¬ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¨, ì¸ì¦ ì„œë²„ë¥¼ DIYë¡œ ë§Œë“¤ì–´ ì „ì²´ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì œê³µí•´ë“œë¦¬ê¸° í˜ë“¤ ê²ƒ ê°™ì•„, ì¼ë‹¨ ì‚¬ìš© ê°€ëŠ¥í•œ Basic Auth ë¨¼ì € ì„¤ëª…ë“œë¦¼ì„ ì–‘í•´ ë¶€íƒë“œë¦½ë‹ˆë‹¤ ğŸ™‡&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 9. CloudNativePGë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ìš´ìš©í•˜ê¸°</title><link>https://blog.lemondouble.com/p/a4ded8cced5f045c/</link><pubDate>Tue, 12 Dec 2023 22:09:10 +0900</pubDate><guid>https://blog.lemondouble.com/p/a4ded8cced5f045c/</guid><description>&lt;img src="https://blog.lemondouble.com/p/a4ded8cced5f045c/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 9. CloudNativePGë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ìš´ìš©í•˜ê¸°" />&lt;h3 id="ì„œë¡ ">ì„œë¡ 
&lt;/h3>&lt;p>ë°ì´í„°ë² ì´ìŠ¤ëŠ” ê´€ë¦¬í•˜ê¸° ê¹Œë‹¤ë¡­ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¤ë¥¸ Podê³¼ ë‹¤ë¥´ê²Œ ë°ì´í„° ë³´ê´€, ë°±ì—…, ê´€ë¦¬ì—ë„ ì‹ ê²½ì¨ì•¼ í•˜ê³ , Failover ë° ì„±ëŠ¥ì—ë„ ê´€ì‹¬ì„ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë˜ì„œ ë‹¤ë¥¸ ì›Œí¬ë¡œë“œëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì—ì„œ ëŒë¦¬ë”ë¼ë„, DBë§Œí¼ì€ AWS RDSë“±ì˜ ê´€ë¦¬í˜• ì‹œìŠ¤í…œì´ë‚˜ ë³„ë„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ë„ í”í•œ ê²ƒìœ¼ë¡œ ì•Œê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ê·¸ê²Œ ì¤‘ìš”í• ê¹Œìš”? ì§‘ì—ì„œ ë°ì´í„°ì„¼í„°ë¥¼ ì°¨ë¦¬ëŠ”ë° ê´€ë¦¬í˜• DBMSë„ í•˜ë‚˜ì¯¤ ìˆì–´ì•¼ í•˜ì§€ ì•Šì„ê¹Œìš”?&lt;/p>
&lt;p>ê·¸ëŸ¬ë‹ˆê¹Œ í•œë²ˆ ë§Œë“¤ì–´ ë´…ì‹œë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ Operation Patternì„ ì‚¬ìš©í•œ &lt;a class="link" href="https://cloudnative-pg.io/" target="_blank" rel="noopener"
>CloudNativePG&lt;/a> ë¥¼ ì´ìš©í•´ Primary í•˜ë‚˜, Replica 2ê°œì§œë¦¬ í´ëŸ¬ìŠ¤í„°ë¥¼ ë°°í¬í•´ ë³´ê³  ë‚´ë¶€ë§ì—ì„œ ì ‘ì† ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •ê¹Œì§€ ì§„í–‰í•´ ë´…ë‹ˆë‹¤.&lt;/p>
&lt;p>Postgres OperatorëŠ” ì•„ë‹ˆì§€ë§Œ &lt;a class="link" href="https://nangman14.tistory.com/79#5.%20Mysql%20Operator%20Failover%20%ED%85%8C%EC%8A%A4%ED%8A%B8-1" target="_blank" rel="noopener"
>Mysql Operatorë¡œ Kubernetes í™˜ê²½ì—ì„œ Mysql DB ìš´ì˜í•˜ê¸°&lt;/a> ê¸€ì„ ì½ì–´ë³´ì‹œë©´ ë”°ë¼ì˜¤ëŠ”ë° ì¢€ ë” ë„ì›€ì´ ë ?ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="2-ì„¤ì¹˜">2. ì„¤ì¹˜
&lt;/h3>&lt;p>ì„¤ì¹˜ëŠ” ë‘ ë‹¨ê³„ë¡œ ë‚˜ëˆ ì„œ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>CNPG Operator ì„¤ì¹˜&lt;/li>
&lt;li>CNPG Cluster ì„¤ì¹˜&lt;/li>
&lt;/ol>
&lt;p>OperatorëŠ” Clusterê°€ ì •ìƒ ìƒíƒœë¥¼ ìœ ì§€í•˜ëŠ”ì§€ ê°ì‹œí•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ í´ëŸ¬ìŠ¤í„°ëŠ” 2.ë¥¼ í†µí•´ ì„¤ì¹˜í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì°¨ê·¼ì°¨ê·¼ ì‹œì‘í•´ ë´…ì‹œë‹¤! ì´ë²ˆì—ë„ ArgoCDë¥¼ ì´ìš©í•´ ë¹ ë¥´ê²Œ ë°°í¬í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>1. CNPG Operator ì„¤ì¹˜&lt;/strong>&lt;/p>
&lt;p>&lt;code>apps/enabled/cnpg-system.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">modules/cnpg-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;git@github.com:&amp;lt;YourOrganizationName&amp;gt;/&amp;lt;YourRepositoryName&amp;gt;.git&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HEAD&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/cnpg-system/cnpg.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://github.com/cloudnative-pg/cloudnative-pg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://cloudnative-pg.github.io/charts&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0.19.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">chart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cloudnative-pg&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê°„ë‹¨í•˜ì£ ? ì„¤ì¹˜ ì´í›„ ë°°í¬ë¥¼ ì§„í–‰í•´ CNPG Operatorë¥¼ ì„¤ì¹˜í•´ ì¤ì‹œë‹¤.&lt;/p>
&lt;p>&lt;strong>2. CNPG Cluster ì„¤ì¹˜&lt;/strong>&lt;/p>
&lt;p>ì €í¬ê°€ ë§Œë“¤ í´ëŸ¬ìŠ¤í„°ì˜ ëª¨ìŠµì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ë§¤ì¼ UTC 0ì‹œ (KST ê¸°ì¤€ ì•„ì¹¨ 9ì‹œ)ì— S3ì— Daily Backupì„ ì§„í–‰í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ì´ 3ê°œì˜ Podìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. ê° Podì€ ì—¬ëŸ¬ ë…¸ë“œì— ë¶„ì‚°ë˜ì–´ í˜¹ì‹œ ëª¨ë¥¼ ë¶ˆí–‰ì„(?) ì˜ˆë°©í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>192.168.0.x IPë¡œ ë‚´ë¶€ë§ì—ì„œ DB ì ‘ê·¼ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>í•˜ë‚˜í•˜ë‚˜ ì‹œì‘í•´ ë´…ì‹œë‹¤!&lt;/p>
&lt;p>&lt;code>apps/enabled/cnpg-cluster.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">modules/cnpg-cluster-16&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;git@github.com:&amp;lt;YourOrganizationName&amp;gt;/&amp;lt;YourRepositoryName&amp;gt;.git&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HEAD&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/cnpg-cluster/cluster.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://cloudnative-pg.io/documentation/1.21/quickstart/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">postgresql.cnpg.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">instances&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">superuserSecret&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">superuser-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enableSuperuserAccess&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">primaryUpdateStrategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unsupervised&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Persistent storage configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">10Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pvcTemplate&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessModes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">ReadWriteOnce&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">requests&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">1Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storageClassName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-ssd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumeMode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Filesystem&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Backup properties&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">backup&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">retentionPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;90d&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">barmanObjectStore&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destinationPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">s3://lemon-backup/cnpg-backup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">s3Credentials&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessKeyId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">aws-backup-secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ACCESS_KEY_ID&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretAccessKey&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">aws-backup-secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ACCESS_SECRET_KEY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">wal&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">compression&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gzip&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê´€ë¦¬ í¸ì˜ë¥¼ ìœ„í•´ Superuser ì ‘ê·¼ì„ í—ˆìš©í•´ ì£¼ê³ ,
DB ìš©ëŸ‰ì€ 10GBë¡œ ì£¼ì—ˆìŠµë‹ˆë‹¤. (ì´í›„ í™•ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.)&lt;/p>
&lt;p>ì´ì™¸ì— ë§Œì•½ ë¶ˆì˜ì˜ ì‚¬ê³ ê°€ ë‹¥ì³¤ì„ ë•Œ(&amp;hellip;) ì‰½ê²Œ ë°±ì—…í•  ìˆ˜ ìˆë„ë¡ ë°±ì—… ìŠ¤í† ë¦¬ì§€ë¥¼ AWS S3ì— ë°±ì—… íŒŒì¼ì„ ì €ì¥í•˜ê²Œ ì„¤ì •í•˜ê³ , ìµœëŒ€ 90ì¼ê¹Œì§€ ë³´ê´€í•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>modules/cnpg-cluster/daily-backup.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">postgresql.cnpg.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ScheduledBackup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">daily-backup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">schedule&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;0 0 0 * * *&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Daily&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">backupOwnerReference&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">self&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cluster&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ê°„ë‹¨í•œ Daily Backup ë¦¬ì†ŒìŠ¤ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>modules/cnpg-cluster/lb.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-lb-rw&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">postgres&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5432&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5432&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cnpg.io/cluster&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">role&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">primary&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">LoadBalancer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">loadBalancerIP&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">192.168.0.206&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì €ì˜ ê²½ìš° 192.168.0.206 ì£¼ì†Œë¡œ ì ‘ê·¼ì„ í—ˆìš©í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤.
ì´í›„ ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒë‚˜ ê´€ë¦¬ ì‹œì— ë‚´ë¶€ ë§ì—ì„œ &lt;code>192.168.0.206&lt;/code> ë¡œ ì ‘ê·¼í•˜ì—¬ ê´€ë¦¬ê°€ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>modules/cnpg-cluster/sealed-aws-secrets.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bitnami.com/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SealedSecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">aws-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">annotations&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">encryptedData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ACCESS_KEY_ID&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">adffd...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ACCESS_SECRET_KEY&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Aadfads...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>AWSì—ì„œ S3FullAccess, ë˜ëŠ” íŠ¹ì • ë²„í‚·ì˜ ì•¡ì„¸ìŠ¤ ê¶Œí•œì„ ì¤€ í›„ ACCESS KEY, Secretì„ ë°œê¸‰ë°›ì€ í›„, ì´ì „ì— ì„¤ì •í–ˆë˜ Sealed Secretì„ ì´ìš©í•´ ë“±ë¡í•´ ì¤ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>modules/cnpg-cluster/sealed-superuser-secrets.yaml&lt;/code>&lt;/p>
&lt;p>ìƒì„± ê³¼ì •ì´ ì¡°ê¸ˆ ë³µì¡í•©ë‹ˆë‹¤!&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">superuser-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kubernetes.io/basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">stringData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">username&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;ë‚´ê°€ ì“¸ ID, b64ì¸ì½”ë”© ì—†ì´ ì›ë³¸ ê·¸ëŒ€ë¡œ&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">password&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;ë‚´ê°€ ì“¸ íŒ¨ìŠ¤ì›Œë“œ, b64ì¸ì½”ë”© ì—†ì´ ì›ë³¸ ê·¸ëŒ€ë¡œ&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ìœ„ì™€ ê°™ì€ Secretì„ ë¨¼ì € secret.yamlì´ë€ ì´ë¦„ìœ¼ë¡œ ìƒì„± í›„,&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">cat secret.yaml &lt;span class="p">|&lt;/span> kubeseal --controller-namespace&lt;span class="o">=&lt;/span>sealed-secrets-system --controller-name&lt;span class="o">=&lt;/span>sealed-secrets -oyaml &amp;gt; sealed-superuser-secrets.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë¡œ Sealed Secretìœ¼ë¡œ ë³€ê²½ í›„, Sealed Secretì„ ì‚¬ìš©í•©ë‹ˆë‹¤!&lt;/p>
&lt;p>ì´í›„ í”„ë¡œë¹„ì €ë‹ì„ ê¸°ë‹¤ë¦¬ê³ , (ì‹œê°„ì´ ì¢€ ê±¸ë¦½ë‹ˆë‹¤.) 192.168.0.206ìœ¼ë¡œ ë°©ê¸ˆ ì„¤ì •í•œ ID/Passwordë¥¼ í†µí•´ ë¡œê·¸ì¸í•˜ì—¬ DBë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>&lt;strong>ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì—ˆë‹¤ë©´, ë‹¤ìŒë‚  ì•Œë¦¼ì„ ê±¸ì–´ ê¼­!! S3 í•´ë‹¹ í´ë”ì— ì •ìƒìœ¼ë¡œ ë°±ì—…ë˜ëŠ”ì§€ í™•ì¸í•´ ì£¼ì„¸ìš”!!!&lt;/strong>&lt;/p>
&lt;h3 id="3ë³µêµ¬">3.ë³µêµ¬
&lt;/h3>&lt;p>í•˜ë£¨ê°€ ì§€ë‚˜ ì •ìƒ ë°±ì—…ì´ ë˜ì—ˆë‹¤ë©´, &lt;strong>ê¼­! ë³µì›ì´ ë˜ëŠ”ì§€ í™•ì¸&lt;/strong> í•˜ì‹œê¸¸ ë°”ëë‹ˆë‹¤.
ë‚ ì•„ê°€ê³  í™•ì¸í•˜ë©´ ë„ˆë¬´ ëŠ¦ì–´ìš”&amp;hellip;&lt;/p>
&lt;p>ì œ ë³µì› ì„¤ì • íŒŒì¼ì„ ê³µìœ  ë“œë¦½ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://cloudnative-pg.io/documentation/1.17/quickstart/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">postgresql.cnpg.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">instances&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">superuserSecret&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">superuser-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">primaryUpdateStrategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unsupervised&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">bootstrap&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#ì¶”ê°€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">recovery&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">clusterBackup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">10Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pvcTemplate&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessModes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">ReadWriteOnce&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">requests&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">1Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storageClassName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-ssd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumeMode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Filesystem&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">externalClusters&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#ì¶”ê°€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">clusterBackup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">barmanObjectStore&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">serverName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cnpg-cluster&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destinationPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">s3://lemon-backup/postgres-backup&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">s3Credentials&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessKeyId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">aws-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ACCESS_KEY_ID&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretAccessKey&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">aws-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ACCESS_SECRET_KEY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">wal&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">compression&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gzip&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì‹ ê·œ í´ëŸ¬ìŠ¤í„°ë¥¼ ìœ„ì™€ ê°™ì´ bootstrap, externalClusters ì˜µì…˜ì„ ì¶”ê°€í•˜ë©´ í´ëŸ¬ìŠ¤í„°ê°€ ì²˜ìŒ ì‹œì‘ë  ë•Œ, ê¸°ì¡´ S3 íŒŒì¼ì„ ì´ìš©í•´ ìë™ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³µêµ¬í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì ‘ì†/ í™•ì¸ í›„ ë³µêµ¬ê°€ ëë‚¬ìœ¼ë©´ bootstrap, externalClusters ì˜µì…˜ì„ ì§€ìš´ í›„ ê¸°ì¡´ì˜ ë°±ì—… ì˜µì…˜ì„ ë‹¤ì‹œ ì¶”ê°€í•´ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ë•Œ ì£¼ì˜í•  ì ìœ¼ë¡œ,
Postgresì˜ ë©”ì´ì € ë²„ì „ì´ ë‹¤ë¥¸ ê²½ìš° ë³µêµ¬ê°€ ì •ìƒì ìœ¼ë¡œ ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ì–´ ì œê°€ 1.16ë²„ì „ Operatorë¥¼ ì‚¬ìš©í•˜ë‹¤ (Postgres 15), Operatorë¥¼ 1.21(ê¸°ë³¸ê°’ìœ¼ë¡œ Postgres 16 Operator)ê¹Œì§€ ì—…ë°ì´íŠ¸ë¥¼ í–ˆë‹¤ í•˜ë”ë¼ë„ ê¸°ìƒì„±ëœ í´ëŸ¬ìŠ¤í„°ëŠ” ìˆ˜ë™ ì—…ê·¸ë ˆì´ë“œë¥¼ í•´ ì£¼ì§€ ì•ŠëŠ” ì´ìƒ PG 15ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ ë–„, ë§Œì•½ ì¥ì• ê°€ ìƒê²¨ ë³µêµ¬ë¥¼ ì‹œë„í•˜ëŠ” ê²½ìš° Operator ë²„ì „ì´ 1.21 ë²„ì „ì´ë¯€ë¡œ PG16ì´ í”„ë¡œë¹„ì €ë‹ ë  ê²ƒì´ê³ , ì´ ê²½ìš° ê¸°ì¡´ S3ì— ì €ì¥ëœ ë°ì´í„°ê°€ PG15 ë°ì´í„°ì´ë¯€ë¡œ ë³µêµ¬ê°€ ì•ˆ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ëŸ° ê²½ìš°ëŠ” Operatorë¥¼ ì„¤ì¹˜ ë‹¹ì‹œë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œí•˜ì—¬ ë™ì¼ ë²„ì „ì˜ PGë¥¼ ì˜¬ë¦° í›„ ë³µêµ¬ -&amp;gt; ì—…ë°ì´íŠ¸ë¥¼ ì§„í–‰í•˜ê±°ë‚˜, Imageë¥¼ ì„¤ì •í•˜ì—¬ ë™ì¼ ë©”ì´ì € ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ” ë²•ì´ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>ê°€ëŠ¥í•˜ë‹¤ë©´, ì‹ ê·œ í´ëŸ¬ìŠ¤í„°ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ ì •ìƒ ë³µêµ¬ê°€ ë˜ëŠ”ì§€ ê¼­ í™•ì¸í•˜ê³ , ì´í›„ ë‹¤ìŒ ë‚´ìš©ì„ ì§„í–‰í•˜ëŠ”ê±¸ ê¼­! ì¶”ì²œë“œë¦½ë‹ˆë‹¤!!&lt;/strong>&lt;/p>
&lt;h3 id="4-í´ëŸ¬ìŠ¤í„°-ì—…ë°ì´íŠ¸">4. í´ëŸ¬ìŠ¤í„° ì—…ë°ì´íŠ¸
&lt;/h3>&lt;p>ë§ˆì´ë„ˆ ì—…ë°ì´íŠ¸ì˜ ê²½ìš°ëŠ” ìë™ìœ¼ë¡œ ì§„í–‰ë˜ë‚˜, ë©”ì´ì € ë²„ì „ ì—…ë°ì´íŠ¸ì‹œì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì§„í–‰í•˜ë©´ ë³´?í†µ ë³„ë¬¸ì œ ì—†ì„ê²ë‹ˆë‹¤. (15 -&amp;gt; 16 ì§„í–‰í•´ ë´„)&lt;/p>
&lt;p>ì˜¨ë¼ì¸ ì—…ë°ì´íŠ¸ì˜ ê²½ìš°ëŠ” &lt;a class="link" href="https://www.enterprisedb.com/blog/current-state-major-postgresql-upgrades-cloudnativepg-kubernetes" target="_blank" rel="noopener"
>The Current State of Major PostgreSQL Upgrades with CloudNativePG&lt;/a> ë¥¼ ì°¸ê³ í•˜ì‹œê³ ,&lt;/p>
&lt;p>ì˜¤í”„ë¼ì¸ ì—…ë°ì´íŠ¸ (ë‹¤ìš´íƒ€ì„ì´ ë°œìƒí•´ë„ ë¬¸ì œX) ë¼ë©´&lt;/p>
&lt;ol>
&lt;li>ê¸°ì¡´ í´ëŸ¬ìŠ¤í„°ì—ì„œ pg_dumpallë¡œ ë°ì´í„° ë¤í”„&lt;/li>
&lt;li>ì‹ ê·œ í´ëŸ¬ìŠ¤í„° ìƒì„±&lt;/li>
&lt;li>1ì—ì„œ ë¤í”„ëœ¬ ë°ì´í„°ë¥¼ 2ì— ë¶€ìŒ&lt;/li>
&lt;li>ê¸°ì¡´ í´ëŸ¬ìŠ¤í„°ë¥¼ ë°”ë¼ë³´ë˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹ ê·œ í´ëŸ¬ìŠ¤í„°ë¥¼ ë°”ë¼ë³´ë„ë¡ ë³€ê²½&lt;/li>
&lt;li>í…ŒìŠ¤íŠ¸ í›„ ê¸°ì¡´ í´ëŸ¬ìŠ¤í„° ì‚­ì œ&lt;/li>
&lt;/ol>
&lt;h3 id="5-ë¯¸ì¹˜ë©°">5. ë¯¸ì¹˜ë©°
&lt;/h3>&lt;p>ì €ëŠ” í˜„ì¬ CNPGë¥¼ ì´ìš©í•´ ì•½ 7~8ê°œì›”ê°„ ì„œë²„ë¥¼ ì •ìƒì ìœ¼ë¡œ ìš´ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì œê°€ ì²­ì†Œí•˜ë‹¤ ì„ ì„ ìì£¼ ë¹¼ë¨¹ëŠ”ê±¸ ê°ì•ˆí•˜ë©´(&amp;hellip;) ì¼ë°˜ì ì¸ ìƒí™©ì—ì„œ ì¶©ë¶„íˆ ê²¬ê³ í•œ Postgres DBë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆê³ , ì œê°€ ì‹¤ìˆ˜ë¡œ í´ëŸ¬ìŠ¤í„° ì „ì›ì„ ì „ë¶€ ë‚ ë ¸ì„ ë•Œë„ ê¸°ì¡´ S3ì—ì„œ ê°„ë‹¨íˆ ë°ì´í„°ë¥¼ ë³µêµ¬í•  ìˆ˜ ìˆì–´ ì‹ ë¢°ì„±ì´ ê½¤ ë†’ì€ ì‹œìŠ¤í…œì´ë¼ëŠ” ìƒê°ì„ í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë¬¼ë¡ , ëˆì˜ ì—¬ìœ ê°€ ìˆìœ¼ë©´ ê´€ë¦¬í˜• RDBë¥¼ ì“°ëŠ”ê²Œ ê°€ì¥ ì¢‹ì€ ì„ íƒì´ê² ìŠµë‹ˆë‹¤ë§Œ, ê¸°ìˆ ì¦ëª… ê²¸ ì´ëŸ¬í•œ ì‹œìŠ¤í…œì´ ìˆë‹¤ëŠ” ê²ƒë„ ì•Œì•„ì£¼ì…¨ìœ¼ë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ì´ ì‹œì ì—ì„œ, ì„œë²„ ë“±ì— í•„ìš”í•œ ì‹œìŠ¤í…œì´ ëª¨ë‘ ê°–ì¶°ì ¸ ê°œë°œì„ ì‹œì‘í•  ìˆ˜ ìˆê²Œ ë˜ì…¨ì„ ê²ë‹ˆë‹¤. ê°„ë‹¨í•œ ê²ƒë¶€í„° í•˜ë‚˜ì”© ë§Œë“¤ì–´ ë´ìš”.&lt;/p>
&lt;p>ê·¸ë¦¬ê³  ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ì—ì„œ í•´ë‹¹ DBëŠ” cnpg-lb-rw.cnpg-cluster ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ &lt;code>jdbc:postgresql://cnpg-lb-rw.cnpg-cluster:5432/my_app&lt;/code> ì²˜ëŸ¼ìš”.&lt;/p>
&lt;p>ê¸´ ê¸€ ì½ëŠë¼ ìˆ˜ê³  ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤! ë‹¤ìŒì—” nvidia-device-pluginì„ ì´ìš©í•˜ì—¬ K3Sì—ì„œ GPU ì‚¬ìš© ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤!&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 8-1. Docker Registry UI ì„¤ì • ë° Registry GC ì‚¬ìš©ë²•</title><link>https://blog.lemondouble.com/p/a68cc3e1f5e8a95b/</link><pubDate>Sun, 10 Dec 2023 11:39:46 +0900</pubDate><guid>https://blog.lemondouble.com/p/a68cc3e1f5e8a95b/</guid><description>&lt;img src="https://blog.lemondouble.com/p/a68cc3e1f5e8a95b/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 8-1. Docker Registry UI ì„¤ì • ë° Registry GC ì‚¬ìš©ë²•" />&lt;h3 id="1-private-registryëŠ”-ì¢‹ì€ë°-ê´€ë¦¬í•˜ê¸°ê°€-ë„ˆë¬´-ê¹Œë‹¤ë¡œì›Œìš”">1. Private RegistryëŠ” ì¢‹ì€ë°, ê´€ë¦¬í•˜ê¸°ê°€ ë„ˆë¬´ ê¹Œë‹¤ë¡œì›Œìš”!
&lt;/h3>&lt;p>CLIë¥¼ ì—„ì²­ ì¢‹ì•„í•˜ëŠ” ì‚¬ëŒë„ ìˆì§€ë§Œ.. ì €ëŠ” ì»¤ë§¨ë“œ ì™¸ìš°ëŠ”ê±¸ ì •ë§ ëª» í•˜ëŠ” ê³ ë¡œ.. GUIì™€ ê¸°ë¡ì„ ì„ í˜¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>Docker Registryë„ CLIë¡œë„ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ì§€ë§Œ, ì¢€ ë” í¸í•˜ê²Œ í•˜ê¸° ìœ„í•´ &lt;a class="link" href="https://github.com/klausmeyer/docker-registry-browser" target="_blank" rel="noopener"
>docker-registry-browser&lt;/a> ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ëŸ° ëŠë‚Œì˜ GUIë¥¼ ì‚¬ìš©í•  ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/a68cc3e1f5e8a95b/image.png"
width="548"
height="647"
srcset="https://blog.lemondouble.com/p/a68cc3e1f5e8a95b/image_hu_140d9691a2521560.png 480w, https://blog.lemondouble.com/p/a68cc3e1f5e8a95b/image_hu_bbbf3b800cb8a84b.png 1024w"
loading="lazy"
alt="Alt text"
class="gallery-image"
data-flex-grow="84"
data-flex-basis="203px"
>&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/a68cc3e1f5e8a95b/image-1.png"
width="532"
height="430"
srcset="https://blog.lemondouble.com/p/a68cc3e1f5e8a95b/image-1_hu_3661c3b3fd7db3fd.png 480w, https://blog.lemondouble.com/p/a68cc3e1f5e8a95b/image-1_hu_d774dc02ee5b7955.png 1024w"
loading="lazy"
alt="Alt text"
class="gallery-image"
data-flex-grow="123"
data-flex-basis="296px"
>&lt;/p>
&lt;h3 id="2-ì„¤ì¹˜">2. ì„¤ì¹˜
&lt;/h3>&lt;p>ê¸°ì¡´ docker-registry-systemì— ê°™ì´ ì„¤ì¹˜í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê¸°ì¡´ íŒŒì¼ ë°‘ì— &amp;mdash; ì¶”ê°€ í›„ ì‘ì„±í•´ ì£¼ì„¸ìš”.&lt;/p>
&lt;p>&lt;code>modules/docker-registry-system/deployment.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">...&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ê¸°ì¡´ deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nodeSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">node-type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">worker&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-pod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">klausmeyer/docker-registry-browser:1.7.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">envFrom&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">secretRef&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-secrets-sealed-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/docker-registry-system/service.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">...&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ê¸°ì¡´ service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ClusterIP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/docker-registry-system/ingress.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-ingress&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`UIë¥¼ ë³´ì—¬ì¤„ URL ì˜ˆì‹œ:docker-ui.lemon.com`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì¶”ê°€ë¡œ Basic Auth ì„¤ì •ì„ ì§„í–‰í•˜ë ¤ë©´ &lt;a class="link" href="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/" target="_blank" rel="noopener"
>Sealed Secretsë¥¼ í†µí•œ ë¹„ë°€ ê´€ë¦¬ + Traefik Basic Auth ì„¤ì •&lt;/a> ì„ ì°¸ê³ í•´ ì£¼ì„¸ìš”.&lt;/p>
&lt;p>&lt;code>modules/docker-registry-system/sealed-docker-registry-ui-secrets.yaml&lt;/code>&lt;/p>
&lt;p>sealed secrets GUIì— ë“¤ì–´ê°€ ë‹¤ìŒ Secretì„ ì¶”ê°€í•©ë‹ˆë‹¤. (ì°¸ê³  Docs &lt;a class="link" href="https://github.com/klausmeyer/docker-registry-browser/blob/master/docs/README.md" target="_blank" rel="noopener"
>Link&lt;/a>)&lt;/p>
&lt;ul>
&lt;li>BASIC_AUTH_USER : registry ë¡œê·¸ì¸ì— ì‚¬ìš©í•˜ëŠ” ìœ ì €ëª…&lt;/li>
&lt;li>BASIC_AUTH_PASSWORD : íŒ¨ìŠ¤ì›Œë“œ&lt;/li>
&lt;li>DOCKER_REGISTRY_URL : https://&amp;lt;ë‚´ê°€ ë“±ë¡í•œ Registry ì£¼ì†Œ&amp;gt;&lt;/li>
&lt;li>ENABLE_DELETE_IMAGES : true&lt;/li>
&lt;li>SECRET_KEY_BASE : openssl rand -hex 64 ì‹¤í–‰ í›„ ë‚˜ì˜¨ ê°’&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bitnami.com/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SealedSecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ui-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">annotations&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">encryptedData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">BASIC_AUTH_USER&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">afdfads...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">BASIC_AUTH_PASSWORD&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">fadvbads..&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">DOCKER_REGISTRY_URL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dfd..&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ENABLE_DELETE_IMAGES&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">afdgd...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">SECRET_KEY_BASE&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dffdf...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì‚¬ìš©ë²•ì€ ì§ê´€ì ì´ë¯€ë¡œ, ì§ì ‘ ì‚¬ìš©í•´ ë³´ëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤!&lt;/p>
&lt;h3 id="3-registry-gc">3. Registry GC
&lt;/h3>&lt;p>Docker Registry UIì—ì„œ ì´ë¯¸ì§€ë¥¼ ì§€ìš°ë”ë¼ë„ (í˜¹ì€ CLIë¡œ ì´ë¯¸ì§€ë¥¼ ì§€ìš°ë”ë¼ë„) ì¦‰ì‹œ ë””ìŠ¤í¬ ìš©ëŸ‰ì´ ì¤„ì–´ë“¤ì§„ ì•ŠìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ëŠ” GUI/CLIì—ì„œ ì´ë¯¸ì§€ë¥¼ ì§€ìš¸ ë•Œ, ì‹¤ì œë¡œ ë¬¼ë¦¬ì  ì‚­ì œê°€ ì¼ì–´ë‚˜ëŠ” ê²ƒì´ ì•„ë‹Œ í•´ë‹¹ ì´ë¯¸ì§€ì˜ Manifestë§Œì„ ì§€ìš°ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì‹¤ì œ ë°ì´í„° ì‚­ì œëŠ” Registry GCë¥¼ ëª…ì‹œì ìœ¼ë¡œ ìˆ˜í–‰í•  ë•Œ ì¼ì–´ë‚©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë” ìì„¸í•œ ì´ì•¼ê¸°ë¥¼ í•  ìˆ˜ ìˆì§€ë§Œ, ì˜¤ëŠ˜ì€ ì¼ë‹¨ ì‚¬ìš©ì— ì´ˆì ì„ ë§ì¶”ê¸°ì— ìì„¸í•œ ì´ì•¼ê¸°ëŠ” ìƒëµí•©ë‹ˆë‹¤.&lt;/p>
&lt;p>(ê´€ë ¨ ë‚´ìš©ì´ ì¢€ ë” ê¶ê¸ˆí•˜ì‹œë©´ &lt;a class="link" href="https://blog.naver.com/alice_k106/221530340759" target="_blank" rel="noopener"
>íˆ¬ëª… ì…€ë¡œíŒì§€ ì´ë¡ ì„ í†µí•œ Overlay FS ì‚¬ìš© ë°©ë²•ê³¼ ìœ ë‹ˆì˜¨ ë§ˆìš´íŠ¸&lt;/a> ë¼ëŠ” ê¸€ì„ ë¨¼ì € ì½ì€ í›„, Docker registryì™€ ì´ë¯¸ì§€ ì‚­ì œ ë“±ì˜ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.)&lt;/p>
&lt;ul>
&lt;li>Registry GC ì§„í–‰í•˜ê¸°&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>!! ì£¼ì˜! GC ì§„í–‰ ë„ì¤‘ì—ëŠ” ë ˆí¬ì§€í† ë¦¬ì—ì„œ Pull/Pushê°€ ì¼ì–´ë‚˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ë¨¼ì € í™•ì¸í•˜ê³  ì‘ì—…í•´ ì£¼ì„¸ìš”!&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>&lt;code>kubectl get pod -n docker-registry-system&lt;/code> ì„ ì´ìš©í•˜ì—¬, Registryì˜ Podì„ ì°¾ì•„ ì¤ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>kubectl exec -it pod/&amp;lt;registry-pod-name&amp;gt; -n docker-registry-system -- /bin/registry garbage-collect /etc/docker/registry/config.yml&lt;/code> ì„ ì‹¤í–‰í•˜ì—¬ GCë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ì´í›„ Longhorn Dashboardì—ì„œ Volume ì„ íƒ -&amp;gt; Trim Filesystemì„ ëˆŒëŸ¬ Actual Sizeë¥¼ ì¬ê³„ì‚°í•´ì¤ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;h3 id="4-ë§ˆì¹˜ë©°">4. ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>ì´ë¥¼ í†µí•´ Docker UI, GC ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ì œ Private Registry ë° ê´€ë¦¬ ë°©ë²•ì´ ìƒê²¼ìœ¼ë‹ˆ, ë§ˆìŒ í¸í•˜ê²Œ ì„œë²„ë¥¼ ê°œë°œ(?) í•˜ì…”ì„œ ì›í•˜ì‹œëŠ” ì„œë²„ë¥¼ ì§‘ì–´ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ë‹¤ìŒ ì‹œê°„ì—ëŠ” CloudNativePGë¥¼ ì´ìš©í•˜ì—¬ ì¿ ë²„ë„¤í‹°ìŠ¤ ìœ„ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ´ë¦¬ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 8. Private Docker Registry ë° ì ‘ì† ID/PW ì„¤ì •í•˜ê¸°</title><link>https://blog.lemondouble.com/p/be354d4b5f50a3ee/</link><pubDate>Sun, 10 Dec 2023 10:08:50 +0900</pubDate><guid>https://blog.lemondouble.com/p/be354d4b5f50a3ee/</guid><description>&lt;img src="https://blog.lemondouble.com/p/be354d4b5f50a3ee/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 8. Private Docker Registry ë° ì ‘ì† ID/PW ì„¤ì •í•˜ê¸°" />&lt;h3 id="1-ì„œë¡ ">1. ì„œë¡ 
&lt;/h3>&lt;p>ì´ì™• ì¸í”„ë¼ ê°–ì¶˜ê±° Private Docker Registryë„ ì§ì ‘ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.&lt;/p>
&lt;p>ì €ì˜ ê²½ìš°ëŠ”, ì´í›„ ì´ í´ëŸ¬ìŠ¤í„°ì— ë³„ë„ë¡œ ê°œì¸ ì„œë²„ë“¤ì„ ì˜¬ë ¤ ì‚¬ìš©í•˜ê³  ìˆì–´ í•´ë‹¹ ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ Private Registryë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë§Œì•½ Dockerhubì— ëˆì„ ì§€ë¶ˆí•  ì˜í–¥ì´ ìˆê±°ë‚˜, Public Imageë¡œë„ ì¶©ë¶„í•˜ë‹¤ë©´ ì´ ê°€ì´ë“œë¥¼ ë”°ë¥´ì‹¤ í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì €í¬ëŠ” Private Repoë¥¼ ì‚¬ìš©í•  ê²ƒì´ê¸° ë–„ë¬¸ì—, ID,Password ì„¤ì •ë„ ë™ì‹œì— ì§„í–‰í•©ë‹ˆë‹¤!&lt;/p>
&lt;h3 id="2-ì„¤ì¹˜">2. ì„¤ì¹˜
&lt;/h3>&lt;p>ì´ë²ˆì—ë„ ArgoCDë¡œ ë¹ ë¥´ê²Œ ì„¤ì¹˜í•´ë´…ì‹œë‹¤!&lt;/p>
&lt;p>&lt;code>modules/docker-registry-system/pvc.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">PersistentVolumeClaim&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-docker-registry-pvc&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">accessModes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">ReadWriteOnce&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storageClassName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-ssd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">requests&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">300Gi&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì €ì˜ ê²½ìš° ML ì„œë²„ë¥¼ ìš´ì˜í•´ ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆê°€ í° ê´€ê³„ë¡œ, ë„‰ë„‰í•˜ê²Œ 300Giì •ë„ ì¤¬ëŠ”ë° í•„ìš”í•˜ì‹œë‹¤ë©´ ìˆ˜ì •í•˜ì…”ì„œ ì‚¬ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>modules/docker-registry-system/service.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry-service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">LoadBalancer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-port&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">protocol&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">TCP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">loadBalancerIP&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">192.168.0.202&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/docker-registry-system/deployment.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nodeSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">node-type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">worker&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry:2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">REGISTRY_HTTP_ADDR&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0.0.0.0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">5000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">REGISTRY_AUTH&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">htpasswd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">REGISTRY_AUTH_HTPASSWD_REALM&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">REGISTRY_AUTH_HTPASSWD_PATH&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/auth/registry.password&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">REGISTRY_STORAGE_DELETE_ENABLED&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumeMounts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">lv-storage&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mountPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/var/lib/registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">subPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-account-htpasswd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mountPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">readOnly&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">lv-storage&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">persistentVolumeClaim&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">claimName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-docker-registry-pvc&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-account-htpasswd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secret&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secretName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-account-htpasswd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>docker-registry-account-htpasswd ë¼ëŠ” Secretì„ í†µí•´ Registryì—ì„œ ì‚¬ìš©í•  ID, Passwordë¥¼ ì§€ì •í•©ë‹ˆë‹¤. í•´ë‹¹ ë‚´ìš©ì€ ë’¤ì—ì„œ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>modules/docker-registry-system/sealed-docker-registry-account-htpasswd.yaml&lt;/code>&lt;/p>
&lt;p>Secrets ì„¤ì •ì´ ì¡°ê¸ˆ ë³µì¡í•©ë‹ˆë‹¤. Step By Stepìœ¼ë¡œ ë”°ë¼ì™€ ë´…ì‹œë‹¤!&lt;/p>
&lt;ol>
&lt;li>Control Nodeì—ì„œ &lt;code>htpasswd -Bbn &amp;lt;id&amp;gt; &amp;lt;password&amp;gt;&lt;/code> ë¡œ Docker Registryì—ì„œ ì‚¬ìš©í•  id/password Stringì„ ì–»ìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ê¸°ì¡´ 7-1ì—ì„œ ì„¤ì •í•œ kubeseal-webguië¥¼ ì´ìš©í•˜ì—¬ í•´ë‹¹ Secretì„ ì•”í˜¸í™”í•©ë‹ˆë‹¤.
&lt;img src="https://blog.lemondouble.com/p/be354d4b5f50a3ee/image.png"
width="1872"
height="354"
srcset="https://blog.lemondouble.com/p/be354d4b5f50a3ee/image_hu_fa3ed3747bfcbc96.png 480w, https://blog.lemondouble.com/p/be354d4b5f50a3ee/image_hu_10e1a299fd0e60d2.png 1024w"
loading="lazy"
alt="ì˜ˆì‹œ"
class="gallery-image"
data-flex-grow="528"
data-flex-basis="1269px"
>&lt;/li>
&lt;li>í•´ë‹¹ Secretì„ sealed-docker-registry-account-htpasswd.yaml ë¡œ ë¶™ì—¬ë„£ê¸° í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bitnami.com/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SealedSecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-account-htpasswd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">annotations&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">encryptedData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">registry.password&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dfadf...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/docker-registry-system/ingress.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-ingress&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">docker-registry-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;ì‚¬ìš©í•  subdomain&amp;gt;`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry-service&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-ì •ìƒ-ì‘ë™-í™•ì¸">3. ì •ìƒ ì‘ë™ í™•ì¸
&lt;/h3>&lt;p>ì •ìƒ ì‘ë™ì´ í™•ì¸ë˜ì—ˆë‹¤ë©´, ì´í›„ ë°°í¬í•©ë‹ˆë‹¤!&lt;/p>
&lt;p>ë°°í¬ê°€ ë˜ì—ˆë‹¤ë©´, ì •ìƒì ìœ¼ë¡œ id/passwordë¡œ ë¡œê·¸ì¸ì´ ì´ë¤„ì§€ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>dockerê°€ ê¹”ë ¤ìˆëŠ” ê³³ì—ì„œ í„°ë¯¸ë„ë¡œ ë‹¤ìŒì„ ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">docker login &amp;lt;my-registry.lemon.com&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´í›„ id/passwordë¥¼ ì…ë ¥í•˜ê³ , ì •ìƒ ë¡œê·¸ì¸ì´ ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="4-private-registryì—ì„œ-ì´ë¯¸ì§€-ë°›ì•„ì˜¤ëŠ”-ë²•">4. Private Registryì—ì„œ ì´ë¯¸ì§€ ë°›ì•„ì˜¤ëŠ” ë²•
&lt;/h3>&lt;p>ì´ì œ Id/Passwordê°€ ìˆëŠ” Private Registryì—ì„œ ì´ë¯¸ì§€ë¥¼ Pull í•´ì˜¤ëŠ” ë°©ë²•ì„ ì•Œì•„ì•¼ê² ì£ ? ê·¸ë˜ì•¼ ì˜¬ë¦° ì´ë¯¸ì§€ë¥¼ ì“¸ ìˆ˜ ìˆì„í…Œë‹ˆê¹Œìš”.&lt;/p>
&lt;p>ì œê°€ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì¼ë‹¨ ì˜¬ë ¤ë“œë¦½ë‹ˆë‹¤. ë” ê¹”ë”í•œ ë°©ë²•ì´ ìˆì„ ê²ƒ ê°™ì€ë°, í˜¹ì‹œ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ì„¸ìš”!&lt;/p>
&lt;p>ë§Œì•½ auth-server-system ì´ë¼ëŠ” namespaceì—ì„œ&lt;/p>
&lt;ol>
&lt;li>&lt;code>kubectl create secret docker-registry regcred --docker-server=&amp;lt;your-registry-server&amp;gt; --docker-username=&amp;lt;your-name&amp;gt; --docker-password=&amp;lt;your-pword&amp;gt; --docker-email=&amp;lt;your-email&amp;gt;&lt;/code> ì„ ì´ìš©í•˜ì—¬ default Namespaceì— regcredë¼ëŠ” secretì„ ë§Œë“­ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>kubectl get secret regcred --output=yaml &amp;gt; secret.yaml&lt;/code> ì„ ì´ìš©í•˜ì—¬ secret.yamlì— secret ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. í•´ë‹¹ Secretì€ ì–´ë”˜ê°€ì— ë°±ì—…í•´ ë‘¡ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>kubectl delete secret regcred&lt;/code> ë¥¼ ì…ë ¥í•˜ì—¬ default namespaceì— ë§Œë“  secretì„ ì‚­ì œí•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ì´í›„ 2ì˜ Secretì— Namespaceë¥¼ ìˆ˜ì •í•˜ì—¬ ë‚´ê°€ ì‚¬ìš©í•  namespaceë¡œ ë³€ê²½í•©ë‹ˆë‹¤. (ì˜ˆì‹œ : auth-server-system)&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">.dockerconfigjson&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ddfadf...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">regcred&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server-system&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ë§¤ë²ˆ ì—¬ê¸°ë¥¼ ë³€ê²½&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kubernetes.io/dockerconfigjson&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="5">
&lt;li>ì´í›„ &lt;code>cat secret.yaml | kubeseal --controller-namespace=sealed-secrets-system --controller-name=sealed-secrets -oyaml &amp;gt; sealed-regcred.yaml&lt;/code> ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•˜ì—¬ Sealed Secretì„ ìƒì„±í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>Sealed regcredë¥¼ ë°°í¬ì‹œ ê°™ì´ ë°°í¬í•˜ê³ , Deploymentì— ë‹¤ìŒê³¼ ê°™ì´ ImagePullSecretì„ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">replicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">selector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matchLabels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nodeSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">node-type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">worker&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">auth-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">registry.lemon.com/auth_server_repository:2023.12.10.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containerPort&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">imagePullSecrets&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">regcred&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ì´ê±¸ ì¶”ê°€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="5-ë§ˆì¹˜ë©°">5. ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>ì¶•í•˜í•©ë‹ˆë‹¤! ì´ì œ Private Docker Registry êµ¬ì¶•ì„ ì™„ë£Œí•´,&lt;/p>
&lt;p>Id/Passwordë¥¼ ì´ìš©í•´ ë‚´ ì´ë¯¸ì§€ë“¤ì„ ì•ˆì „í•˜ê²Œ ì§€í‚¬ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ì´ì œ ë‹¤ìŒì—” Web UIë¥¼ í†µí•´ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•˜ëŠ” ë²•ì„ ì•Œë ¤ë³´ê³ , Docker GC ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 7-1. Web UIë¥¼ í†µí•´ ê°„í¸í•˜ê²Œ Sealed Secrets ë§Œë“¤ê¸°</title><link>https://blog.lemondouble.com/p/567b4c177bdb8401/</link><pubDate>Sun, 10 Dec 2023 00:41:05 +0900</pubDate><guid>https://blog.lemondouble.com/p/567b4c177bdb8401/</guid><description>&lt;img src="https://blog.lemondouble.com/p/567b4c177bdb8401/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 7-1. Web UIë¥¼ í†µí•´ ê°„í¸í•˜ê²Œ Sealed Secrets ë§Œë“¤ê¸°" />&lt;h3 id="1-ì„œë¡ ">1. ì„œë¡ 
&lt;/h3>&lt;p>Sealed Secrets ë‹¤ ê´œì°®ì€ë°, ë¬¸ì œê°€ í•˜ë‚˜ ìˆë‹¤ë©´ ë§¤ë²ˆ ì„¤ì •í•  ë–„ë§ˆë‹¤ Secrets.yaml ë§Œë“¤ê³ &amp;hellip; CLIë¡œ Sealed Secretsë¡œ ë³€ê²½í•œ ë’¤ì—.. Gitì— ì¶”ê°€í•˜ëŠ”ê²Œ ëë‚´ì£¼ê²Œ ê·€ì°®ë‹¤ëŠ” ì ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ê±¸ ì¢€ ë” í¸í•˜ê²Œ í•˜ê¸° ìœ„í•´ &lt;a class="link" href="https://github.com/Jaydee94/kubeseal-webgui" target="_blank" rel="noopener"
>kubeseal-webgui&lt;/a>ë¥¼ ì´ìš©í•´ ê°„ë‹¨íˆ Web UIë¥¼ ë§Œë“¤ì–´ ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/567b4c177bdb8401/image.png"
width="1865"
height="464"
srcset="https://blog.lemondouble.com/p/567b4c177bdb8401/image_hu_52844b61b80af706.png 480w, https://blog.lemondouble.com/p/567b4c177bdb8401/image_hu_7fc09472df2897da.png 1024w"
loading="lazy"
alt="Kubeseal webui, ê°„ë‹¨íˆ ì›¹ì—ì„œ Secretì„ ì„¤ì •í•˜ê³  Sealed Secretsë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤."
class="gallery-image"
data-flex-grow="401"
data-flex-basis="964px"
>&lt;/p>
&lt;h3 id="2-ì„¤ì¹˜">2. ì„¤ì¹˜
&lt;/h3>&lt;p>ArgoCDë¥¼ ì´ìš©í•´ ë˜ ê°„ë‹¨íˆ ì„¤ì¹˜í•´ ë´…ì‹œë‹¤!&lt;/p>
&lt;p>&lt;code>modules/sealed-secrets-system/kubeseal-webgui.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://github.com/Jaydee94/kubeseal-webgui&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kubeseal-webgui&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://jaydee94.github.io/kubeseal-webgui&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5.1.4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">chart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kubeseal-webgui&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">helm&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">parameters&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">api.url&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://&amp;lt;web uië¥¼ ì‚¬ìš©í•  subdomain ì˜ˆì‹œ:seal.lemon.com&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealedSecrets.autoFetchCert&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;true&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealedSecrets.controllerName&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealedSecrets.controllerNamespace&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">sources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/sealed-secrets-system/ingress.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-ingress&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;web uië¥¼ ì‚¬ìš©í•  subdomain ì˜ˆì‹œ:seal.lemon.com&amp;gt;`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kubeseal-webgui&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í•„ìš”í•˜ë‹¤ë©´ Basic AuthëŠ” &lt;a class="link" href="https://lemondouble.github.io/p/%EC%A7%91%EC%97%90%EC%84%9C-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%84%BC%ED%84%B0-%EC%B0%A8%EB%A6%AC%EA%B8%B0-7.-sealed-secrets%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%B9%84%EB%B0%80-%EA%B4%80%EB%A6%AC--traefik-basic-auth-%EC%84%A4%EC%A0%95/" target="_blank" rel="noopener"
>ì´ì „ ê¸€&lt;/a>ì„ ì°¸ê³ í•˜ì—¬ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„ í•´ë‹¹ UIë¥¼ í†µí•´ ê°„ë‹¨íˆ Sealed Secretsë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤!&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 7. Sealed Secretsë¥¼ í†µí•œ ë¹„ë°€ ê´€ë¦¬ + Traefik Basic Auth ì„¤ì •</title><link>https://blog.lemondouble.com/p/1379182f14a62e9b/</link><pubDate>Sun, 10 Dec 2023 00:41:05 +0900</pubDate><guid>https://blog.lemondouble.com/p/1379182f14a62e9b/</guid><description>&lt;img src="https://blog.lemondouble.com/p/1379182f14a62e9b/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 7. Sealed Secretsë¥¼ í†µí•œ ë¹„ë°€ ê´€ë¦¬ + Traefik Basic Auth ì„¤ì •" />&lt;h3 id="1-sealed-secrets">1. Sealed Secrets?
&lt;/h3>&lt;p>ì €í¬ëŠ” ì§€ê¸ˆ GitOpsë¥¼ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì¦‰ Gitì— í´ëŸ¬ìŠ¤í„°ì™€ ê´€ë ¨ëœ ëª¨ë“  ì„¤ì •ì„ ì˜¬ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ°?ë°? ì¿ ë²„ë„¤í‹°ìŠ¤ Secretì€? ì•”í˜¸í™” ê¸°ëŠ¥ì´ ì—†ìŠµë‹ˆë‹¤. base64ë¡œ ë””ì½”ë”©í•˜ë©´ ëˆ„êµ¬ë‚˜ í‰ë¬¸ìœ¼ë¡œ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¬ë©´ Gitì—?ì˜¬ë¦¬ë©´?ì•ˆ?ë˜ê² ì£ ?&lt;/p>
&lt;p>ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‚˜ì˜¨ ê²ƒì´ Sealed Secretsì…ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>í´ëŸ¬ìŠ¤í„°ëŠ” ì•”/ë³µí˜¸í™” í‚¤ë¥¼ ê°€ì§‘ë‹ˆë‹¤.&lt;/li>
&lt;li>ìœ ì €ëŠ” Gitì— íŒŒì¼ì„ ì˜¬ë¦¬ê¸° ì „, í•´ë‹¹ í´ëŸ¬ìŠ¤í„°ê°€ ê°€ì§€ê³  ìˆëŠ” í‚¤ë¡œ ì•”í˜¸í™”ë¥¼ í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>Gitì— ì•”í˜¸í™”ëœ Secretì´ ì˜¬ë¼ê°‘ë‹ˆë‹¤. ëˆ„êµ¬ë‚˜ ë³¼ ìˆœ ìˆê² ì§€ë§Œ, ë³µí˜¸í™”ëŠ” ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ì•ˆì „í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ì´í›„ ArgoCDë“±ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ì— í•´ë‹¹ Secretì„ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ë©´, Sealed Secret ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì•”í˜¸í™”ë¥¼ í’€ì–´ ìë™ìœ¼ë¡œ ë³µí˜¸í™” í•´ ì¤ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>Sealed Secrets Github : &lt;a class="link" href="https://github.com/bitnami-labs/sealed-secrets" target="_blank" rel="noopener"
>Link&lt;/a>&lt;/p>
&lt;h3 id="2-sealed-secrets-ì¶”ê°€í•˜ê¸°">2. Sealed Secrets ì¶”ê°€í•˜ê¸°
&lt;/h3>&lt;p>ArgoCDë¥¼ í†µí•´ ìˆœì‹ê°„ì— ë°°í¬ë¥¼ í•´ì¹˜ì›Œ ë´…ë‹ˆë‹¤!&lt;/p>
&lt;p>&lt;code>apps/enabled/sealed-secrets-system.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">modules/sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;git@github.com:&amp;lt;YourOrganizationName&amp;gt;/&amp;lt;YourRepositoryName&amp;gt;.git&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HEAD&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/sealed-secrets-system/sealed-secrets.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://bitnami-labs.github.io/sealed-secrets&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">2.13.3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">chart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">helm&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">releaseName&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sealed-secrets&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´í›„ ë°°í¬ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„ë¡œëŠ”, ë‹¤ìŒ ì»¤ë§¨ë“œë¥¼ ì´ìš©í•˜ì—¬ kubeseal ì»¤ë§¨ë“œë¼ì¸ ë„êµ¬ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">KUBESEAL_VERSION&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;0.23.0&amp;#39;&lt;/span> &lt;span class="c1">#2023.12 ê¸°ì¤€ ìµœì‹ ë²„ì „&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget &lt;span class="s2">&amp;#34;https://github.com/bitnami-labs/sealed-secrets/releases/download/v&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">KUBESEAL_VERSION&lt;/span>&lt;span class="p">:?&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">/kubeseal-&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">KUBESEAL_VERSION&lt;/span>&lt;span class="p">:?&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">-linux-arm64.tar.gz&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar -xvzf kubeseal-&lt;span class="si">${&lt;/span>&lt;span class="nv">KUBESEAL_VERSION&lt;/span>&lt;span class="p">:?&lt;/span>&lt;span class="si">}&lt;/span>-linux-arm64.tar.gz kubeseal
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo install -m &lt;span class="m">755&lt;/span> kubeseal /usr/local/bin/kubeseal
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>secret.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mysecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mynamespace&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">users&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bGVtb246JGFwcjEkL0ZYczZGam0kMkpJZWNlQy45UWc5QjV5NUw2TzVoMAoK&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë‹¤ìŒê³¼ ê°™ì€ ì»¤ë§¨ë“œë¡œ, Sealed Secretsë¥¼ ìƒì„± í›„ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">cat secret.yaml &lt;span class="p">|&lt;/span> kubeseal --controller-namespace&lt;span class="o">=&lt;/span>kube-sealed-secrets-system --controller-name&lt;span class="o">=&lt;/span>sealed-secrets -oyaml &amp;gt; sealed-secrets.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-sealed-secrets-ì´ìš©í•˜ì—¬-basic-auth-ë“±ë¡í•´ë³´ê¸°">3. Sealed Secrets ì´ìš©í•˜ì—¬ Basic Auth ë“±ë¡í•´ë³´ê¸°
&lt;/h3>&lt;p>Basic AuthëŠ” ì—„ì²­ ì—„ì²­ ê°„ë‹¨íˆ ë§í•˜ë©´, ID Password ë¡œê·¸ì¸ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/1379182f14a62e9b/image.png"
width="310"
height="231"
srcset="https://blog.lemondouble.com/p/1379182f14a62e9b/image_hu_bc6f55abfd4216ba.png 480w, https://blog.lemondouble.com/p/1379182f14a62e9b/image_hu_b95aa3aeebb6dd2.png 1024w"
loading="lazy"
alt="ì´ëŸ° ê±° (Id, passsword ë¡œê·¸ì¸)"
class="gallery-image"
data-flex-grow="134"
data-flex-basis="322px"
>&lt;/p>
&lt;p>Longhorn Dashboardë¥¼ ì™¸ë¶€ ì¸í„°ë„·ì—ì„œë„ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ Ingressë¥¼ ì„¤ì •í•˜ê³ , Id/Password ë¡œê·¸ì¸ì„ ë¶™ì—¬ ë´…ì‹œë‹¤! (Control01ì—ì„œ ì§„í–‰)&lt;/p>
&lt;ol>
&lt;li>&lt;code>apt install apache2-utils&lt;/code> ì‹¤í–‰í•˜ì—¬ htpasswd ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>htpasswd -nb &amp;lt;id&amp;gt; &amp;lt;password&amp;gt; | openssl base64&lt;/code> ë¥¼ ì´ìš©í•˜ì—¬, id,passwordê°€ ë‹´ê¸´ Secret Stringì„ ì–»ìŠµë‹ˆë‹¤.&lt;/li>
&lt;li>ì•„ë¬´ í…ìŠ¤íŠ¸ í¸ì§‘ê¸°ë¡œ secret.yamlì„ ìƒì„±í•˜ê³ , ë‹¤ìŒì„ ì°¸ê³ í•˜ì—¬ Secretì„ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Secret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">users&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;2ì—ì„œ ì–»ì€ String&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>4.&lt;code>cat secret.yaml | kubeseal --controller-namespace=sealed-secrets-system --controller-name=sealed-secrets -oyaml &amp;gt; sealed-secrets.yaml&lt;/code> ë¥¼ ì…ë ¥í•˜ì—¬ sealed-secrets.yaml ì„ ì–»ìŠµë‹ˆë‹¤.
5. ë‹¤ìŒì„ ì°¸ê³ í•˜ì—¬ ingressë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>modules/longhorn-system/ingress.yaml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-dashboard&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;ì›í•˜ëŠ” subdomain, ì˜ˆì‹œ:longhorn.lemon.com&amp;gt;`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">middlewares&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-frontend&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Middleware&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">basicAuth&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">secret&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>modules/longhorn-system/sealed-basic-auth-secret.yaml&lt;/code> ì—ëŠ”, ë°©ê¸ˆ ìƒì„±í•œ sealed-secrets.yamlì„ ë³µì‚¬ ë¶™ì—¬ë„£ê¸° í•´ ì¤ì‹œë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bitnami.com/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">SealedSecret&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">creationTimestamp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">encryptedData&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">users&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">adfasdflavasdlfj...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">creationTimestamp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system-basic-auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="6">
&lt;li>ì´í›„ ë°°í¬ë¥¼ ì§„í–‰í•´ ì¤ë‹ˆë‹¤.&lt;/li>
&lt;li>ì´í›„ ì ‘ì†í•˜ë©´ ì •ìƒì ìœ¼ë¡œ id/password í™•ì¸ ì°½ì´ ëœ¨ë©°, ë¡œê·¸ì¸ì„ í•˜ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ í˜ì´ì§€ê°€ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤!&lt;/li>
&lt;/ol>
&lt;h3 id="3-ë°±ì—…-ë°-ë³µêµ¬">3. ë°±ì—… ë° ë³µêµ¬
&lt;/h3>&lt;p>ì´ì œ ìš°ë¦¬ëŠ” Gitì— Secret ê°™ì€ ë¯¼ê° ì •ë³´ë„ ì €ì¥í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ê·¼ë° ë‹¤ ì¢‹ì€ë°, í´ëŸ¬ìŠ¤í„°ê°€ ë°•ì‚´ë‚˜ì„œ ë³µí˜¸í™” í‚¤ë¥¼ ìƒì–´ë²„ë¦¬ë©´ ìš°ë¦¬ë„ ë¹„ë°€ì„ í’€ ìˆ˜ ì—†ê²Œ ë˜ì–´ë²„ë¦¬ê² ì£ ?&lt;/p>
&lt;p>ë”°ë¼ì„œ, ì•”/ë³µí˜¸í™” í‚¤ë¥¼ &lt;strong>ë°˜ë“œì‹œ&lt;/strong> ë°±ì—…í•´ì•¼ í•©ë‹ˆë‹¤!&lt;/p>
&lt;ul>
&lt;li>ë°±ì—… ë°©ë²•&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>&lt;code>kubectl get secret -n sealed-secrets-system -l sealedsecrets.bitnami.com/sealed-secrets-key -o yaml &amp;gt;master.key&lt;/code> ë¥¼ ì…ë ¥í•˜ì—¬ mater.keyë¥¼ ì–´ë”˜ê°€ì— ê¼­ ë°±ì—…í•´ ë‘¡ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>ë³µêµ¬ ë°©ë²•&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>ë°©ê¸ˆ ë°±ì—…í–ˆë˜ master.keyë¥¼ í´ëŸ¬ìŠ¤í„°ì— ë³µì‚¬í•˜ê³ , &lt;code>kubectl apply -f master.key&lt;/code> ë¥¼ ì…ë ¥í•˜ì—¬ master keyë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>sealed-secrets-systemì— ì¡´ì¬í•˜ëŠ” Pod í•˜ë‚˜ë¥¼ ì£½ì—¬ì„œ ìƒˆ Keyë¥¼ ì½ê²Œ ë§Œë“­ë‹ˆë‹¤. (ArgoCDì—ì„œ ê°„í¸í•˜ê²Œ ê°€ëŠ¥)&lt;/li>
&lt;/ol>
&lt;h3 id="4-ë§ˆì¹˜ë©°">4. ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>ì €í¬ëŠ” ì´ì œ Sealed Secretsë¥¼ í†µí•´ Gitì— ëª¨ë“  ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ ,&lt;/p>
&lt;p>Traefik Basic Authë¥¼ ì´ìš©í•´ ë‚´ë¶€ ì„œë¹„ìŠ¤ë¥¼ ì™¸ë¶€ì— (ìµœì†Œí•œì˜ ë³´ì•ˆì„ ê°–ì¶°) ê³µê°œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ê·¸ëŸ¼ ë‹¤ìŒ ì‹œê°„ì—ëŠ”, Private Docker Registryë¥¼ êµ¬ì¶•í•˜ëŠ” ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤!&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 6. ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ ì¶”ê°€ ë° Longhornì„ í†µí•œ ì œê³µí•˜ê¸°</title><link>https://blog.lemondouble.com/p/615befc538a81902/</link><pubDate>Sat, 09 Dec 2023 10:48:57 +0900</pubDate><guid>https://blog.lemondouble.com/p/615befc538a81902/</guid><description>&lt;img src="https://blog.lemondouble.com/p/615befc538a81902/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 6. ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ ì¶”ê°€ ë° Longhornì„ í†µí•œ ì œê³µí•˜ê¸°" />&lt;h3 id="1-ì‹ ê·œ-ë””ìŠ¤í¬-ì¶”ê°€-ë°-ë§ˆìš´íŠ¸">1. ì‹ ê·œ ë””ìŠ¤í¬ ì¶”ê°€ ë° ë§ˆìš´íŠ¸
&lt;/h3>&lt;ul>
&lt;li>í•´ë‹¹ ë‚´ìš©ì€ ì¼ë°˜ì ì¸ SSD / HDD ë§ˆìš´íŠ¸ì™€ ë™ì¼í•©ë‹ˆë‹¤! ë­”ê°€ ì˜ ì•ˆ ëœë‹¤ë©´, &lt;code>ìš°ë¶„íˆ¬ í•˜ë“œë””ìŠ¤í¬ ë§ˆìš´íŠ¸&lt;/code> ë“±ì„ ê²€ìƒ‰í•˜ì…”ì„œ ë”°ë¼í•´ë„ ë¬´ë°©í•©ë‹ˆë‹¤!&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>
&lt;p>SSD, HDDë¥¼ ë¼ì¦ˆë² ë¦¬ íŒŒì´ì— ì—°ê²°í•©ë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>sudo fdisk -l&lt;/code> ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•˜ì—¬, ë§ˆìš´íŠ¸í•œ í•˜ë“œ ë””ìŠ¤í¬ì˜ ì´ë¦„ì„ ì°¾ìŠµë‹ˆë‹¤. ì œ ê²½ìš° &lt;code>/dev/sda&lt;/code>ì…ë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/615befc538a81902/image.png"
width="534"
height="287"
srcset="https://blog.lemondouble.com/p/615befc538a81902/image_hu_1dae27b23fdd1c39.png 480w, https://blog.lemondouble.com/p/615befc538a81902/image_hu_c847eecb63d233a8.png 1024w"
loading="lazy"
alt="ë§ˆìš´íŠ¸ëœ í•˜ë“œë””ìŠ¤í¬ ë‚´ìš©"
class="gallery-image"
data-flex-grow="186"
data-flex-basis="446px"
>&lt;/p>
&lt;ol start="3">
&lt;li>&lt;code>sudo wipefs -a /dev/&amp;lt;ë°©ê¸ˆ í™•ì¸í•œ ë””ìŠ¤í¬&amp;gt;&lt;/code> ë¥¼ ì…ë ¥í•˜ì—¬ ì£¼ì˜í•˜ì—¬ ë””ìŠ¤í¬ë¥¼ í¬ë§·í•©ë‹ˆë‹¤. (ì˜ˆì‹œ : &lt;code>sudo wipefs -a /dev/sda&lt;/code>)&lt;/li>
&lt;li>&lt;code>sudo mkfs.ext4 /dev/&amp;lt;ë°©ê¸ˆ í™•ì¸í•œ ë””ìŠ¤í¬&amp;gt;&lt;/code> ë¥¼ ì…ë ¥í•˜ì—¬ ë””ìŠ¤í¬ë¥¼ ext4 í¬ë§·ìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>sudo blkid -s UUID -o value /dev/&amp;lt;ë°©ê¸ˆ í™•ì¸í•œ ë””ìŠ¤í¬&amp;gt;&lt;/code> ë¥¼ ì…ë ¥í•˜ì—¬, í•´ë‹¹ ë””ìŠ¤í¬ì˜ ê³ ìœ  ID (680dfccb-9d8f-431c-ab3b-8c1e6c86e04f í˜•íƒœ)ë¥¼ ë°›ì•„ì˜µë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>sudo mkdir /storage-ssd&lt;/code> (ìœ„ì¹˜ëŠ” ììœ , ì €ëŠ” í¸ì˜ìƒ Rootì— &lt;code>/storage-ssd&lt;/code> ë¼ëŠ” í´ë”ì— ë§ˆìš´íŠ¸í–ˆìŠµë‹ˆë‹¤.) ë¡œ ë§ˆìš´íŠ¸í•  í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>sudo ê¶Œí•œìœ¼ë¡œ &lt;code>/etc/fstab&lt;/code>ì„ ì—´ì–´ ì œì¼ ë§ˆì§€ë§‰ ì¤„ì— &lt;code>UUID=7cf3fc21-74d6-4c01-a835-f8bd36bc3f7b /storage-ssd ext4 defaults 0 0&lt;/code>ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. (6ë²ˆì—ì„œ ìƒì„±í•œ í´ë”ì— ë§ˆìš´íŠ¸)&lt;/li>
&lt;li>&lt;code>sudo mount -a&lt;/code>ë¥¼ í†µí•´ ë°©ê¸ˆ ë“±ë¡í•œ ë””ìŠ¤í¬ë¥¼ ë§ˆìš´íŠ¸í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;h3 id="2-ì‹ ê·œ-ë””ìŠ¤í¬-longhorn-ë“±ë¡">2. ì‹ ê·œ ë””ìŠ¤í¬ Longhorn ë“±ë¡
&lt;/h3>&lt;p>ì´ì œ ìƒˆë¡œìš´ ë””ìŠ¤í¬ë¥¼ Longhornì— ë“±ë¡í•´ ë´…ì‹œë‹¤!&lt;/p>
&lt;ol>
&lt;li>ì•„ê¹Œ ì„¤ì •í•œ ë¡œë“œë°¸ëŸ°ì„œ ip (&lt;code>http://192.168.0.201/&lt;/code>) ë¥¼ ë¸Œë¼ìš°ì €ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤.&lt;/li>
&lt;li>Node -&amp;gt; í•´ë‹¹ Node ì„ íƒ -&amp;gt; Edit Node and disksë¥¼ ì„ íƒí•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/615befc538a81902/image-1.png"
width="1869"
height="545"
srcset="https://blog.lemondouble.com/p/615befc538a81902/image-1_hu_78df89f1413de630.png 480w, https://blog.lemondouble.com/p/615befc538a81902/image-1_hu_a8d54df4ad3bca4b.png 1024w"
loading="lazy"
alt="Longhorn ì„¤ì • ìŠ¤í¬ë¦°ìƒ·, Edit Node and disks"
class="gallery-image"
data-flex-grow="342"
data-flex-basis="823px"
>&lt;/p>
&lt;ol start="3">
&lt;li>
&lt;p>disk tagì— StorageClassì‹œ ì„¤ì •í•œ &lt;code>diskSelector&lt;/code> ê³¼ ê°™ì€ íƒœê·¸ë¥¼ ì…ë ¥í•´ í•´ë‹¹ ë””ìŠ¤í¬ê°€ í•´ë‹¹ StorageClassì— ì†í•œë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì¤ë‹ˆë‹¤. ì´í›„ Pathë¥¼ ìœ„ì—ì„œ ì„¤ì •í•œ Mount í´ë”ë¡œ ì§€ì •í•©ë‹ˆë‹¤.
&lt;img src="https://blog.lemondouble.com/p/615befc538a81902/image-2.png"
width="820"
height="602"
srcset="https://blog.lemondouble.com/p/615befc538a81902/image-2_hu_6c3143b2b1016ff9.png 480w, https://blog.lemondouble.com/p/615befc538a81902/image-2_hu_a0fbf505509eb243.png 1024w"
loading="lazy"
alt="Longhorn ì„¤ì • ìŠ¤í¬ë¦°ìƒ·"
class="gallery-image"
data-flex-grow="136"
data-flex-basis="326px"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ì´í›„ ì €ì¥ì„ ëˆ„ë¥´ê³ , ì •ìƒì ìœ¼ë¡œ ë³¼ë¥¨ì´ ì¸ì‹ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="3-ë§ˆì¹˜ë©°">3. ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤! ì´ì œ Longhornì„ ì´ìš©í•´ ì´í›„ì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ì•ˆì •ì ìœ¼ë¡œ ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ ì‹œìŠ¤í…œì„ ê³µê¸‰í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤!&lt;/p>
&lt;p>ì´ ë‹¤ìŒìœ¼ë¡  Sealed Secretsë¥¼ í†µí•´ íŒ¨ìŠ¤ì›Œë“œ ë“±ì˜ ë¯¼ê°ì •ë³´ë¥¼ Gitì„ í†µí•´ ê´€ë¦¬í•˜ëŠ” ë²•ì„ ì•Œì•„ë³´ê³ , ê·¸ ë‹¤ìŒ Private Docker Registryë¥¼ êµ¬í˜„í•´ ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ê°ì‚¬í•©ë‹ˆë‹¤!&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 5. ArgoCD GitOps ì„¤ì • ë° Longhorn ì„¤ì¹˜</title><link>https://blog.lemondouble.com/p/107eed6a453d6238/</link><pubDate>Sat, 09 Dec 2023 09:16:13 +0900</pubDate><guid>https://blog.lemondouble.com/p/107eed6a453d6238/</guid><description>&lt;img src="https://blog.lemondouble.com/p/107eed6a453d6238/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 5. ArgoCD GitOps ì„¤ì • ë° Longhorn ì„¤ì¹˜" />&lt;h3 id="1-gitops-ì‹œì‘">1. GitOps ì‹œì‘
&lt;/h3>&lt;p>ì´ì œ ArgoCDë¥¼ ì„¤ì¹˜í•˜ì˜€ìœ¼ë‹ˆ, ë¦¬í¬ì§€í† ë¦¬ êµ¬ì¡°ë¥¼ ì •ë¦¬í•´ ë´…ì‹œë‹¤.&lt;/p>
&lt;p>ì €í¬ëŠ” App On Apps íŒ¨í„´ì„ ì´ìš©í•˜ì—¬ ê°„ê²°í•œ ë°°í¬ ë°©ë²•ì„ ë§Œë“¤ì–´ ë³¼ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í•´ê°€ ë˜ì§€ ì•Šë”ë¼ë„ ì¼ë‹¨ ë”°ë¼ì™€ ì£¼ì„¸ìš”.&lt;/p>
&lt;p>ì§€ë‚œ ì‹œê°„ì— ë§Œë“  ë¹ˆ ë ˆí¬ì§€í† ë¦¬ë¥¼ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ ì£¼ì„¸ìš”.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">/apps
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ã„´/disabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ã„´/enabled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/modules
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´í›„, init í´ë”ì— ì´ì „ì— ì‘ì—…í–ˆë˜ ip_address_pool.yaml, (argoCDì˜) ingress.yaml, traefik-update.yaml, values.yamlì„ ì „ë¶€ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>Gitì— ìµœì´ˆ ì„¤ì • ë‹¹ì‹œì˜ íŒŒì¼ë“¤ì„ ì €ì¥í•´ ë‘ ìœ¼ë¡œì¨, ì´í›„ í´ëŸ¬ìŠ¤í„°ë¥¼ ë³µêµ¬í•´ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œ ë¹ ë¥´ê²Œ í•´ë‹¹ ì„¤ì • íŒŒì¼ë“¤ì„ &lt;code>kubectl -f íŒŒì¼ëª…&lt;/code> ìœ¼ë¡œ ì ìš©í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì•„ë˜ì™€ ê°™ì´ íŒŒì¼ë“¤ì„ ì¶”ê°€í•˜ê³ , README.mdë¥¼ í•˜ë‚˜ ì¶”ê°€í•´ì„œ ì§€ê¸ˆê¹Œì§€ ì–´ë–¤ ì‘ì—…ì„ í–ˆëŠ”ì§€ ì ì–´ë‘ë©´, í´ëŸ¬ìŠ¤í„°ê°€ ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ ë³µêµ¬ì‹œ í° ë„ì›€ì´ ë©ë‹ˆë‹¤. README.mdëŠ” ì§ì ‘ ì‘ì„±í•´ ì£¼ì„¸ìš”!&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">/init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ã„´ ip_address_pool.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ã„´ ingress.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ã„´ traefik-update.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ã„´ values.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´í›„, init í´ë” ì•ˆì— ë‹¤ìŒ yaml íŒŒì¼ì„ ì°¸ì¡°í•´ root-app.yamlì„ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;ì¢‹ì•„í•˜ëŠ” ì•„ë¬´ ì´ë¦„ (ì œ ê²½ìš°ëŠ” lemon-k8s-apps)&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;git@github.com:&amp;lt;YourOrganizationName&amp;gt;/&amp;lt;YourRepositoryName&amp;gt;.git&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HEAD&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">apps/enabled&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">syncPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">syncOptions&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">CreateNamespace=true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í•˜ë‚˜í•˜ë‚˜ ëœ¯ì–´ë³´ë©´&lt;/p>
&lt;ol>
&lt;li>ArgoCDê°€ ê´€ë¦¬í•˜ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ í•˜ë‚˜ ì¶”ê°€&lt;/li>
&lt;li>ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ Githubì˜ ë‚´ ë ˆí¬ì§€í† ë¦¬ë¥¼ ì°¸ê³ &lt;/li>
&lt;li>PathëŠ” ìœ„ì—ì„œ ì„¤ì •í•œ apps/enabled ì•ˆì— ìˆëŠ” ëª¨ë“  yaml íŒŒì¼ì„ ì‹¤í–‰&lt;/li>
&lt;/ol>
&lt;p>ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„ &lt;code>kubectl apply -f root-app.yaml&lt;/code> í•˜ì—¬ root appì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„, ArgoCDë¡œ ëŒì•„ê°€ ë‚´ ìƒˆë¡œìš´ ì²« ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜ ë–´ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. Syncê°€ ì‹¤íŒ¨í•˜ê³ , ë¦¬í¬ì§€í† ë¦¬ì— í•´ë‹¹ Pathê°€ ì—†ë‹¤ê³  ë‚˜ì˜¨ë‹¤ë©´ ì •ìƒ ì—°ê²°ëœ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="2-longhorn-ì„¤ì¹˜">2. Longhorn ì„¤ì¹˜
&lt;/h3>&lt;ul>
&lt;li>ë©”ì¸ USB (OSê°€ ê¹”ë ¤ìˆëŠ” USB) ì´ì™¸ì— ìµœì†Œí•œ í•˜ë‚˜ ì´ìƒì˜ ìŠ¤í† ë¦¬ì§€ìš© USB, SSD, HDDê°€ ê½‚í˜€ ìˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>2023.12 ê¸°ì¤€ ArgoCDë¡œ ìµœì´ˆ ì„¤ì¹˜ì‹œ Longhornì˜ ì´ˆê¸° Batch Jobì´ ì‹¤íŒ¨í•˜ëŠ” ë²„?ê·¸ê°€ ìˆì–´ ìˆ˜ë™ìœ¼ë¡œ í•œë²ˆ ì„¤ì¹˜ í›„, ArgoCDë¡œ ì´ì „í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>Longhornì€ ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ ê´€ë¦¬ìë¡œì¨, ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. (ì½ê¸° ê·€ì°¬ë‹¤ë©´, ê°„ë‹¨íˆ S3ì™€ ë¹„ìŠ·í•œ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•©ë‹ˆë‹¤!)&lt;/p>
&lt;ol>
&lt;li>&lt;strong>ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ ì €ì¥&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>ë‚´ íŒŒì¼ì„ ì„¤ì •ì— ë”°ë¼ Nê°œì˜ ìŠ¤í† ë¦¬ì§€ì— ë¶„ì‚° ì €ì¥í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë§Œì•½ ì–´ë–¤ ì¬í•´ë¡œ ì¸í•´ í•œ ìŠ¤í† ë¦¬ì§€ê°€ íŒŒê´´ë˜ë”ë¼ë„ í•´ë‹¹ ìŠ¤í† ë¦¬ì§€ì— ìˆì—ˆë˜ ë°ì´í„°ë“¤ì„ ë‹¤ë¥¸ ìŠ¤í† ë¦¬ì§€ë¡œ ìë™ìœ¼ë¡œ ì´ì „í•˜ì—¬ ìµœì†Œ Nê°œì˜ ë³µì¬ë³¸ì´ ìœ ì§€ë˜ë„ë¡ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ë¥¼ í†µí•´, ë§Œì•½ SSD í•˜ë‚˜ê°€ ë»‘ë‚˜ë”ë¼ë„ ë‹¤ë¥¸ ìŠ¤í† ë¦¬ì§€ì— ë™ì¼í•œ ë°ì´í„°ê°€ ìˆìœ¼ë¯€ë¡œ, í”„ë¡œê·¸ë¨ ë° ì‹œìŠ¤í…œì´ ì •ìƒ ìš´ìš©ë˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol start="2">
&lt;li>&lt;strong>Storage Tiering&lt;/strong>&lt;/li>
&lt;/ol>
&lt;p>ë§Œì•½ ì–´ë–¤ ì‹œìŠ¤í…œì€ I/Oê°€ êµ‰ì¥íˆ í—¤ë¹„í•œ ì›Œí¬ë¡œë“œë¼ ë†’ì€ ìŠ¤í† ë¦¬ì§€ ì„±ëŠ¥ì„ í•„ìš”ë¡œ í•˜ê³ ,&lt;/p>
&lt;p>ì–´ë–¤ ì‹œìŠ¤í…œì€ ìì£¼ ì½ì§€ ì•ŠëŠ” íŒŒì¼ì´ ì—„ì²­ ë§ì•„, ìŠ¤í† ë¦¬ì§€ ì„±ëŠ¥ë³´ë‹¨ ìš©ëŸ‰ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>Longhornì€ StorageClassë¥¼ ì§€ì›í•˜ì—¬, ì´ë¥¼ í†µí•´ ë‹¨ê³„ë³„ë¡œ ìŠ¤í† ë¦¬ì§€ë¥¼ ë‚˜ëˆ  ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ì–´ I/Oê°€ ì¤‘ìš”í•œ ê²½ìš°ëŠ” NVME SSDë§Œ ëª¨ì—¬ìˆëŠ” ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤ë¥¼, ë‹¨ìˆœ íŒŒì¼ ì €ì¥ì´ ë§ì´ í•„ìš”í•œ ê²½ìš°ëŠ” HDDë§Œ ìˆëŠ” ìŠ¤í† ë¦¬ì§€ í´ë˜ìŠ¤ë¥¼ í• ë‹¹í•˜ëŠ” ì‹ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë”°ë¼ì„œ! ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ í†µí•´ Longhornì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">helm repo add longhorn https://charts.longhorn.io
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">helm repo update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">helm install longhorn longhorn/longhorn --namespace longhorn-system --create-namespace --set service.ui.loadBalancerIP&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;192.168.0.201&amp;#34;&lt;/span> --set service.ui.type&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;LoadBalancer&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì—ˆë‹¤ë©´, ë¸Œë¼ìš°ì €ì—ì„œ &lt;code>http://192.168.0.201&lt;/code>ë¡œ ë“¤ì–´ê°€ì„œ Longhorn UIê°€ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="3-1-argocdë¥¼-ì´ìš©í•´-ì„¤ì¹˜í•˜ê¸°---ì„¤ì •íŒŒì¼-ì¶”ê°€">3-1. ArgoCDë¥¼ ì´ìš©í•´ ì„¤ì¹˜í•˜ê¸° - ì„¤ì •íŒŒì¼ ì¶”ê°€
&lt;/h3>&lt;p>ì´ì œ ì„¤ì¹˜ê°€ í•œë²ˆ ì™„ë£Œë˜ì—ˆìœ¼ë‹ˆ, ê¸°ì¡´ ì„¤ì¹˜í–ˆë˜ Longhornì„ ArgoCDë¡œ ì˜®ê²¨ë³´ë„ë¡ í•©ì‹œë‹¤.&lt;/p>
&lt;p>í´ë” êµ¬ì¡° ë° ë°°í¬ ì „ëµì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¡œ, root-appì„ ë°°í¬í•˜ë©´ í•˜ìœ„ ì•±ë“¤ì´ ìë™ìœ¼ë¡œ ëœ¨ë„ë¡ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/107eed6a453d6238/image.png"
width="778"
height="432"
srcset="https://blog.lemondouble.com/p/107eed6a453d6238/image_hu_3ea8daa42d2ba4ba.png 480w, https://blog.lemondouble.com/p/107eed6a453d6238/image_hu_bd170f73974dbe5c.png 1024w"
loading="lazy"
alt="í´ë” êµ¬ì¡°, Root Appì´ enabled í´ë”ë¥¼, ë°°í¬, enables í´ë” ì•„ë˜ì˜ yaml íŒŒì¼ë“¤ì´ modules/íŒŒì¼ëª…ì„ ë°°í¬í•œë‹¤."
class="gallery-image"
data-flex-grow="180"
data-flex-basis="432px"
>&lt;/p>
&lt;p>ì´ê²ƒë„ ë§ˆì°¬ê°€ì§€ë¡œ, ì¼ë‹¨ ë”°ë¼í•´ ë³´ë„ë¡ í•©ë‹ˆë‹¤. ì•„ë˜ íŒŒì¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;code>apps/enabled/longhorn-system.yaml&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">modules/longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;git@github.com:&amp;lt;YourOrganizationName&amp;gt;/&amp;lt;YourRepositoryName&amp;gt;.git&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HEAD&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>modules/longhorn-system ì„ ìë™ ë°°í¬í•˜ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;code>modules/longhorn-system/longhorn.yaml&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argoproj.io/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Application&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">destination&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://kubernetes.default.svc&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">repoURL&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;https://charts.longhorn.io&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">targetRevision&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1.5.3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">chart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">helm&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">parameters&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">service.ui.loadBalancerIP&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">192.168.0.201&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">service.ui.type&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">value&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">LoadBalancer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">project&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>helm.paramters&lt;/code> ë¥¼ í†µí•´ ìœ„ì™€ ê°™ì´, values.yamlì— ë“¤ì–´ê°ˆ ê°’ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;code>modules/longhorn-system/longhorn.yaml&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">StorageClass&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">storage.k8s.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-ssd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">provisioner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">driver.longhorn.io&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">allowVolumeExpansion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">reclaimPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;Delete&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumeBindingMode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Immediate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">parameters&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">numberOfReplicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;2&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fsType&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ext4&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">diskSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ssd&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">StorageClass&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">storage.k8s.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">longhorn-hdd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">provisioner&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">driver.longhorn.io&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">allowVolumeExpansion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">reclaimPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;Delete&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumeBindingMode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Immediate&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">parameters&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">numberOfReplicas&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fsType&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;ext4&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">diskSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;hdd&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ssd, hdd ìŠ¤í† ë¦¬ì§€ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ë§Œì•½ USB ë“±ì„ ì‚¬ìš©í•˜ê³  ê³„ì‹œë‹¤ë©´, ì´ë¦„ì„ longhorn-usb ë“±ìœ¼ë¡œ ë³€ê²½í•˜ì…”ë„ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>numberOfReplicas&lt;/code> : ë³µì œë³¸ì˜ ê°œìˆ˜ì…ë‹ˆë‹¤. ì €ì˜ ê²½ìš° SSDëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì— í•„ìš”í•œ ë°ì´í„° ì €ì¥ìš©ì´ë‹ˆ ì•ˆì •ì„±ì„ ìœ„í•´ ìµœì†Œ 2ê°œ, HDDëŠ” ë‹¨ìˆœ íŒŒì¼ ì €ì¥ìš©ì´ë¼ 1ê°œë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.
&lt;code>fsType&lt;/code> : íŒŒì¼ì‹œìŠ¤í…œì˜ íƒ€ì…ì…ë‹ˆë‹¤. ext4ë¥¼ ì‚¬ìš©í•  ì˜ˆì •ì…ë‹ˆë‹¤. ê°€ì´ë“œë¥¼ ë”°ë¼ì˜¤ì‹ ë‹¤ë©´, ë™ì¼í•˜ê²Œ ì„¤ì •í•˜ë©´ ë©ë‹ˆë‹¤.
&lt;code>diskSelector&lt;/code> : ì´í›„ Disk ë“±ë¡ì‹œ ì‚¬ìš©í•©ë‹ˆë‹¤. ê¸°ì–µí•´ ë‘ë„ë¡ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì‘ì—…ì„ ì™„ë£Œí•˜ì…¨ë‹¤ë©´, Git commit í›„ Pushí•©ë‹ˆë‹¤!&lt;/p>
&lt;h3 id="3-2-argocdë¥¼-ì´ìš©í•´-ì„¤ì¹˜í•˜ê¸°---ì‹¤ì œ-ë°°í¬í•˜ê¸°">3-2. ArgoCDë¥¼ ì´ìš©í•´ ì„¤ì¹˜í•˜ê¸° - ì‹¤ì œ ë°°í¬í•˜ê¸°
&lt;/h3>&lt;p>ì´ì œ ì´ˆê¸° ì„¤ì •í–ˆë˜ ArgoCDì— ë“¤ì–´ê°€ ì§ì ‘ ë°°í¬ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/107eed6a453d6238/image-1.png"
width="1153"
height="402"
srcset="https://blog.lemondouble.com/p/107eed6a453d6238/image-1_hu_d326f640262ba2.png 480w, https://blog.lemondouble.com/p/107eed6a453d6238/image-1_hu_70eb5013a3909b3c.png 1024w"
loading="lazy"
alt="ArgoCD Root App ì‚¬ì§„"
class="gallery-image"
data-flex-grow="286"
data-flex-basis="688px"
>&lt;/p>
&lt;p>ì €í¬ê°€ ì•Œì•„ì•¼ í•˜ëŠ” ê²ƒì€ &lt;code>Sync&lt;/code>, &lt;code>Refresh&lt;/code> ë²„íŠ¼ì…ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;code>Sync&lt;/code> : Gitì—ì„œ ìƒˆë¡œìš´ í´ëŸ¬ìŠ¤í„° ìƒíƒœë¥¼ ê°€ì ¸ì˜¨ í›„, ì‹¤ì œ í´ëŸ¬ìŠ¤í„° ìƒíƒœë¥¼ Gitê³¼ ë™ê¸°í™”í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>Refresh&lt;/code> : Gitì—ì„œ ìƒˆë¡œìš´ í´ëŸ¬ìŠ¤í„° ìƒíƒœë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. í´ëŸ¬ìŠ¤í„°ë¥¼ ë™ê¸°í™”í•˜ì§„ ì•ŠìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;p>ë”°ë¼ì„œ, Syncë¥¼ ëˆ„ë¥´ë©´ ArgoCDê°€ ë°°í¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„ Longhorn-system -&amp;gt; Longhornì„ ì°¨ë¡€ì°¨ë¡€ íƒ€ê³  ê°€ Sync ë²„íŠ¼ì„ ëˆŒëŸ¬ ë°°í¬ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>ê³ ìƒí•˜ì…¨ìŠµë‹ˆë‹¤! ë“œë””ì–´ ì§€ê¸ˆê¹Œì§€ ì¤‘êµ¬ë‚œë°©ìœ¼ë¡œ ìˆë˜ Yaml íŒŒì¼ë“¤ì„ ì •ë¦¬í•˜ê³ , GitOpsë¥¼ í–¥í•œ ì²« ë°œì„ ë‚´ë”›ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ì œ ë‹¤ìŒ ì‹œê°„ì—ëŠ” ì‹¤ì œ SSD, HDDë¥¼ Longhornì„ í†µí•´ ë“±ë¡í•´ ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 4. Traefik https ì¸ì¦ ë° ArgoCD ì„¤ì •</title><link>https://blog.lemondouble.com/p/f10efbc0bcc4c537/</link><pubDate>Wed, 06 Dec 2023 05:21:00 +0900</pubDate><guid>https://blog.lemondouble.com/p/f10efbc0bcc4c537/</guid><description>&lt;img src="https://blog.lemondouble.com/p/f10efbc0bcc4c537/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 4. Traefik https ì¸ì¦ ë° ArgoCD ì„¤ì •" />&lt;p>ë§Œì•½, ì‹œìŠ¤í…œì„ Gitì„ í†µí•´ ê´€ë¦¬í•˜ë©´ ì–´ë–¨ê¹Œìš”?
ë‚´ê°€ í•„ìš”í•œ ì»¨í…Œì´ë„ˆ ì¢…ë¥˜, ê°œìˆ˜ ë“±ì„ ì „ë¶€ Gitì— ì„ ì–¸í•˜ê³  Gitì— ì„ ì–¸ë˜ì–´ ìˆëŠ” ê·¸ëŒ€ë¡œ í´ëŸ¬ìŠ¤í„°ê°€ ìš´ì˜ëœë‹¤ë©´, êµ‰ì¥íˆ í¸í•˜ì§€ ì•Šì„ê¹Œìš”?&lt;/p>
&lt;p>êµ³ì´ í´ëŸ¬ìŠ¤í„° ì´ê³³ì €ê³³ì„ í™•ì¸í•˜ì§€ ì•Šë”ë¼ë„, Gitì— ì˜¬ë¼ì™€ ìˆëŠ” ì„¤ì •ê°’ë§Œ í™•ì¸í•˜ë©´ ë  í…Œë‹ˆê¹Œìš”.&lt;/p>
&lt;p>ë˜í•œ, ë§Œì•½ ë°°í¬ ë„ì¤‘ ë¬¸ì œê°€ ìƒê²¼ë‹¤ë©´ ë°”ë¡œ Revertí•´ë²„ë¦´ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œìš”? ë˜, ì—¬ëŸ¬ ì‚¬ëŒì´ ê°™ì€ í´ëŸ¬ìŠ¤í„°ë¥¼ ê´€ë¦¬í•˜ë©´ì„œ ìƒê¸°ëŠ” ë¬¸ì œë„ ìš°ë¦¬ê°€ í•­ìƒ í•˜ëŠ” PRì„ í†µí•´ ê´€ë¦¬í•  ìˆ˜ ìˆì„ ê±°êµ¬ìš”.&lt;/p>
&lt;p>ë§ˆì§€ë§‰ìœ¼ë¡œ, ë§Œì•½ í´ëŸ¬ìŠ¤í„°ì— ê°‘ì‘ìŠ¤ëŸ½ê²Œ ë¬¸ì œê°€ ìƒê²¨ ëª¨ë“  ë…¸ë“œê°€ ë‹¤ìš´ë˜ì–´ ë²„ë ¸ë”ë¼ë„, ì„ ì–¸í•œ ìƒíƒœê°’ì´ Gitì— ìˆìœ¼ë¯€ë¡œ ë‹¤ë¥¸ í´ëŸ¬ìŠ¤í„°ë¥¼ í†µí•´ì„œë¼ë„ ë¹ ë¥´ê²Œ ë³µêµ¬ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆì„ ê²ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ¬í•œ ë°©ë²•ì„ GitOpsë¼ê³  ë¶€ë¥´ë©°, ArgoCDëŠ” Gitì— ì„ ì–¸ëœ ìƒíƒœì™€ í´ëŸ¬ìŠ¤í„°ì˜ ìƒíƒœë¥¼ ë˜‘ê°™ì´ ë§ì¶°ì£¼ëŠ”ë° ë„ì›€ì„ ì£¼ëŠ” íˆ´ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„ ë°°í¬í•´ì•¼ í•  ì‹œìŠ¤í…œì´ ì •ë§ ì •ë§ ë§ì•„ì„œ, ì œì¼ ë¨¼ì € ì´ëŸ¬í•œ GitOpsë¥¼ ë„ì™€ì£¼ëŠ” ArgoCDë¥¼ ë¨¼ì € ì„¤ì¹˜í•©ì‹œë‹¤.&lt;/p>
&lt;p>ë˜í•œ ArgoCD ì™¸ë¶€ ì ‘ì†ì´ ê°€ëŠ¥í•˜ë„ë¡, Traefikì˜ LetsEncrypt ì„¤ì • ë“±ì„ ê°™ì´ ì§„í–‰í•´ ë´…ì‹œë‹¤.&lt;/p>
&lt;h3 id="traefik-letsencrypt-certification-ì ìš©">Traefik Letsencrypt Certification ì ìš©
&lt;/h3>&lt;ul>
&lt;li>ì°¸ê³ í•œ ê¸€ : &lt;a class="link" href="https://traefik.io/blog/https-on-kubernetes-using-traefik-proxy/" target="_blank" rel="noopener"
>HTTPS on Kubernetes Using Traefik Proxy&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Control Nodeì—ì„œ ë‹¤ìŒì„ ì°¸ê³ í•˜ì—¬ traefik-update.yamlì„ í•˜ë‚˜ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># https://traefik.io/blog/https-on-kubernetes-using-traefik-proxy/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">helm.cattle.io/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">HelmChartConfig&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">kube-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">valuesContent&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|-&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> ports:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> web:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> redirectTo:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> port: websecure
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> priority: 10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> additionalArguments:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--log.level=INFO&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.email=yourMail@gmail.com&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.storage=/data/acme.json&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.tlschallenge=true&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - &amp;#34;--certificatesresolvers.le.acme.caServer=https://acme-v02.api.letsencrypt.org/directory&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´í›„ &lt;code>kubectl apply -f traefik-update.yaml&lt;/code>ì„ ì´ìš©í•´ í´ëŸ¬ìŠ¤í„°ì— ì ìš©í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„, IngressRouteì—ì„œ CertifiactionResolverë¡œ le(letsEcnrypt)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤. (ë¬´ìŠ¨ ì´ì•¼ê¸´ì§€ ëª¨ë¥´ê² ë‹¤ë©´, ì§„í–‰í•˜ë‹¤ ë³´ë©´ ì´í•´í•˜ê²Œ ë©ë‹ˆë‹¤.)&lt;/p>
&lt;h3 id="argocd-ì„¤ì¹˜">ArgocD ì„¤ì¹˜
&lt;/h3>&lt;p>ArgoCDë¥¼ ì„¤ì¹˜í•˜ê³ , Github SSOë¥¼ ì—°ë™í•´ ë´…ì‹œë‹¤.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>DNS ì„¤ì •ì„ ì§„í–‰í•©ë‹ˆë‹¤. ArgoCDë¥¼ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì‹œ ì‚¬ìš©í•  ì„œë¸Œë„ë©”ì¸ì„ í˜„ì¬ IP ì£¼ì†Œì™€ ì—°ê²°í•´ ì¤ë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.findip.kr/" target="_blank" rel="noopener"
>ë‚´ IP ë³´ê¸°&lt;/a> ì— ë“¤ì–´ê°€ì„œ ë‚´ IPë¥¼ í™•ì¸í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>DNSë¥¼ êµ¬ë§¤í•œ ê³³ì— ê°€ì„œ A ë ˆì½”ë“œë¡œ IP4 Addressì— ë°©ê¸ˆ í™•ì¸í•œ ë‚´ IPë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Github Organization&lt;/code>ì„ í•˜ë‚˜ ìƒì„±í•˜ê³ , ì ì ˆí•œ Roleì„ í•˜ë‚˜ ë§Œë“­ë‹ˆë‹¤. ì €ì˜ ê²½ìš°ëŠ” ê°œì¸ìš© Organizationì— Adminì´ë€ Roleì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Orignization -&amp;gt; Settings -&amp;gt; Developer Settings -&amp;gt; OAuth Appsì— ê°€ì„œ ìƒˆë¡œìš´ OAuth ì•±ì„ í•˜ë‚˜ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/f10efbc0bcc4c537/image.png"
width="437"
height="485"
srcset="https://blog.lemondouble.com/p/f10efbc0bcc4c537/image_hu_c231ba5a67452548.png 480w, https://blog.lemondouble.com/p/f10efbc0bcc4c537/image_hu_1e4c6eede4383ce3.png 1024w"
loading="lazy"
alt="ArgoCD OAuth ì„¤ì •, Authorization callback URLì´ ì¤‘ìš”"
class="gallery-image"
data-flex-grow="90"
data-flex-basis="216px"
>&lt;/p>
&lt;p>ì´ë•Œ, Authorization callback URLì„ &lt;code>https://&amp;lt;ë°©ê¸ˆ ì„¤ì •í•œ ë„ë©”ì¸&amp;gt;/api/dev/callback&lt;/code> ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
ë‚˜ë¨¸ì§€ëŠ” ììœ ë¡­ê²Œ ë°”ê¾¸ì…”ë„ ìƒê´€ì—†ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„ &lt;code>Client ID, Secret&lt;/code> ì„ ë°œê¸‰ í›„ ê¸°ì–µí•©ë‹ˆë‹¤.&lt;/p>
&lt;ol start="4">
&lt;li>values.yaml íŒŒì¼ ìƒì„±&lt;/li>
&lt;/ol>
&lt;p>ë‹¤ìŒ íŒŒì¼ì„ ì°¸ê³ í•˜ì—¬ &lt;code>values.yaml&lt;/code> íŒŒì¼ì„ ì‘ì„±í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">configs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">params&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Traefikì´ Https ì—°ê²° í•´ ì£¼ë¯€ë¡œ Insecure ëª¨ë“œë¡œ ê°€ë™&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server.insecure&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">rbac&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Built-in Policy : https://github.com/argoproj/argo-cd/blob/master/assets/builtin-policy.csv&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">policy.default&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">role:readonly&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">policy.csv&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> g, &amp;lt;Github Organization ì´ë¦„&amp;gt;:&amp;lt;ìƒì„±í•œ Role ì´ë¦„&amp;gt;, role:admin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">url&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://&amp;lt;ì„¤ì •í•œ ë„ë©”ì¸ ì´ë¦„&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dex.config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> connectors:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - type: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> id: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> name: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> config:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> clientID: &amp;lt;ë°©ê¸ˆ ë°œê¸‰ë°›ì€ Client ID&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> clientSecret: &amp;lt;ë°©ê¸ˆ ë°œê¸‰ë°›ì€ Client Secret&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> orgs:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - name: &amp;lt;Github Organization ì´ë¦„&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì˜ˆë¥¼ ë“¤ì–´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">configs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">params&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Traefikì´ Https ì—°ê²° í•´ ì£¼ë¯€ë¡œ Insecure ëª¨ë“œë¡œ ê°€ë™&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">server.insecure&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">rbac&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Built-in Policy : https://github.com/argoproj/argo-cd/blob/master/assets/builtin-policy.csv&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">policy.default&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">role:readonly&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">policy.csv&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> g, LemonLemon:Admin, role:admin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">server&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">url&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://argo.lemon.com&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dex.config&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> connectors:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - type: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> id: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> name: github
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> config:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> clientID: vadf45a6sdfad
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> clientSecret: adsfvasd45f6ads4f56asd7
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> orgs:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> - name: LemonLemon&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="5">
&lt;li>ingress.yaml íŒŒì¼ ìƒì„±&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd-ingress&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">entryPoints&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">websecure&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;ì„¤ì •í•œ ë„ë©”ì¸ ì´ë¦„&amp;gt;`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">priority&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argo-cd-argocd-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`&amp;lt;ì„¤ì •í•œ ë„ë©”ì¸ ì´ë¦„&amp;gt;`) &amp;amp;&amp;amp; Headers(`Content-Type`, `application/grpc`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">priority&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">11&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argo-cd-argocd-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">scheme&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">h2c&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì•„ë˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">traefik.containo.us/v1alpha1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IngressRoute&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd-ingress&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argocd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">entryPoints&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">websecure&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">routes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`https://argo.lemon.com`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">priority&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argo-cd-argocd-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Rule&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">match&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Host(`https://argo.lemon.com`) &amp;amp;&amp;amp; Headers(`Content-Type`, `application/grpc`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">priority&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">11&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">argo-cd-argocd-server&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">80&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">scheme&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">h2c&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">tls&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">certResolver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">le&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="6">
&lt;li>&lt;code>values.yaml&lt;/code>ê³¼ &lt;code>ingress.yaml&lt;/code>ì„ ì‘ì„±í–ˆë‹¤ë©´, ë‹¤ìŒ ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•˜ì—¬ argocdë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">kubectl create namespace argocd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">helm repo add argo https://argoproj.github.io/argo-helm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">helm install -n argocd argo-cd argo/argo-cd -f values.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl apply -f ingress.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì ê¹ ê¸°ë‹¤ë¦° í›„, ì„¤ì •í•œ ë„ë©”ì¸ (ì œ ê²½ìš°ëŠ” &lt;code>https://argo.lemon.com&lt;/code>) ë¡œ ë“¤ì–´ê°€ë©´ ì •ìƒì ìœ¼ë¡œ ArgoCDê°€ ë°˜ê²¨ì¤ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„ &lt;code>Log in Via Github&lt;/code> ë²„íŠ¼ì„ í´ë¦­í•´ ë¡œê·¸ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë¡œê·¸ì¸ì´ ì„±ê³µí–ˆë‹¤ë©´ ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ëœ ê²½ìš°ì…ë‹ˆë‹¤!&lt;/p>
&lt;p>â€» Tip : 401 ì—ëŸ¬ê°€ ë‚œë‹¤ë©´, í•œë²ˆ argocd ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ argocd-server íŒŸì„ í•œë²ˆ ì£½ì—¬ë³´ì„¸ìš”&lt;/p>
&lt;h3 id="argocd-git-private-repo-ì—°ê²°">ArgoCD Git Private Repo ì—°ê²°
&lt;/h3>&lt;p>ë§Œì•½ í´ëŸ¬ìŠ¤í„°ë¥¼ Public Repoë¡œ ì‚¬ìš©í•œë‹¤ë©´ ì´ ì„¤ì •ì€ ìƒëµí•´ë„ ë˜ê² ì§€ë§Œ, í˜¹ì‹œ ëª¨ë¥¼ ì‚¬ê³ ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ Gitì—ì„œë„ private Repoë¥¼ ì‚¬ìš©í•˜ê³ , ArgoCDì—ì„œë„ ì—°ê²°í•´ì„œ ì‚¬ìš©í•´ ë´…ì‹œë‹¤.&lt;/p>
&lt;p>Githubì—ì„œ ìƒˆë¡œìš´ ë ˆí¬ì§€í† ë¦¬ (ë¹ˆ ë ˆí¬ì§€í† ë¦¬) ë¥¼ í•˜ë‚˜ ì¶”ê°€í•œ í›„, í•´ë‹¹ ë ˆí¬ì§€í† ë¦¬ë¥¼ ArgoCDì™€ ì—°ë™í•´ ë´…ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ArgoCD ë¡œê·¸ì¸ í›„ Settings -&amp;gt; Repository -&amp;gt; Connect Repoë¥¼ ëˆ„ë¦…ë‹ˆë‹¤.&lt;/li>
&lt;li>connection method via ssh, Nameì€ ì•„ë¬´ê±°ë‚˜, ProejctëŠ” default, Repository URLì€ git cloneì‹œ &lt;code>ssh ì£¼ì†Œ&lt;/code>ë¥¼, SSH private key dataëŠ” Control01 ë…¸ë“œì˜ &lt;code>~/.ssh/id_rsa&lt;/code> ë¥¼ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ì–´ ì¤ë‹ˆë‹¤.&lt;/li>
&lt;li>Gitì„ ì—°ê²°í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/f10efbc0bcc4c537/image-1.png"
width="694"
height="522"
srcset="https://blog.lemondouble.com/p/f10efbc0bcc4c537/image-1_hu_3c9d729fa56b024c.png 480w, https://blog.lemondouble.com/p/f10efbc0bcc4c537/image-1_hu_2ae804f1083bf7a9.png 1024w"
loading="lazy"
alt="Github ì—°ë™ ì˜ˆì‹œ"
class="gallery-image"
data-flex-grow="132"
data-flex-basis="319px"
>&lt;/p>
&lt;h3 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>ì˜¤ëŠ˜ì€ Traefik Ingress ì„¤ì •, ArgoCD ì„¤ì¹˜ ë° Git ì—°ë™ê¹Œì§€ë¥¼ ì§„í–‰í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¤ìŒ í¬ìŠ¤íŠ¸ì—ì„œëŠ” ì§€ê¸ˆê¹Œì§€ ì–´ì§ˆëŸ¬ ë†¨ë˜(?) yaml íŒŒì¼ì„ ì •ë¦¬í•˜ê³ , App of Appsë¥¼ ì´ìš©í•˜ì—¬ ë¦¬í¬ì§€í† ë¦¬ êµ¬ì¡°ë¥¼ ì •ë¦¬í•˜ê³ , ë§Œì•½ ì¥ì• ê°€ ë‚˜ë”ë¼ë„ í´ë¦­ í•œ ë²ˆìœ¼ë¡œ ë³µêµ¬í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì–¸ì œë‚˜ ê·¸ë ‡ë“¯, í‹€ë¦° ë‚´ìš©ì´ ìˆë‹¤ë©´ ì•Œë ¤ ì£¼ì„¸ìš”!&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 3. Helm ì„¤ì¹˜ ë° MetalLBë¡œ ë¡œë“œ ë°¸ëŸ°ì„œ ì„¤ì •í•˜ê¸°</title><link>https://blog.lemondouble.com/p/06a98c88458a5fb7/</link><pubDate>Wed, 06 Dec 2023 05:20:00 +0900</pubDate><guid>https://blog.lemondouble.com/p/06a98c88458a5fb7/</guid><description>&lt;img src="https://blog.lemondouble.com/p/06a98c88458a5fb7/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 3. Helm ì„¤ì¹˜ ë° MetalLBë¡œ ë¡œë“œ ë°¸ëŸ°ì„œ ì„¤ì •í•˜ê¸°" />&lt;h3 id="helm-ì„¤ì¹˜">Helm ì„¤ì¹˜
&lt;/h3>&lt;ul>
&lt;li>ì°¸ê³ í•œ ê¸€ : &lt;a class="link" href="https://helm.sh/docs/intro/install/" target="_blank" rel="noopener"
>Installing Helm&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ë‹¤ìŒ ì»¤ë§¨ë“œë¥¼ ì°¨ë¡€ë¡œ ì…ë ¥í•˜ì—¬ Helmì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">700&lt;/span> get_helm.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./get_helm.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´í›„, kubeconfig íŒŒì¼ì„ ì„¤ì •í•´ ì¤ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">cp /etc/rancher/k3s/k3s.yaml ~/.kube/config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">600&lt;/span> ~/.kube/config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´í›„ bashrc ì œì¼ ë°‘ì— ë‹¤ìŒ í•œ ì¤„ì„ ì¶”ê°€í•œ í›„, &lt;code>source ~/.bashrc&lt;/code> ë¡œ Shell ì„¤ì •ì„ ì¦‰ì‹œ ì ìš©ì‹œí‚µë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">KUBECONFIG&lt;/span>&lt;span class="o">=&lt;/span>~/.kube/config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Helmì€ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ì™€ ë¹„ìŠ·í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì˜ˆë¥¼ ë“¤ì–´ì„œ, ì œê°€ Kafkaë¥¼ í´ëŸ¬ìŠ¤í„° ëª¨ë“œë¡œ ì„¤ì¹˜í•˜ë ¤ê³  í•œë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤.&lt;/p>
&lt;p>ì œê°€ ì¼ì¼íˆ Kafkaë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ì— ë„ìš°ë ¤ë©´, Kafka Container ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™€ì„œ í´ëŸ¬ìŠ¤í„° ì˜µì…˜ì„ í‚¤ê³ , ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í•´ ì£¼ê³ &amp;hellip; í•˜ëŠ” ì‘ì—…ì„ ì „ë¶€ í•´ ì¤˜ì•¼ í•  ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ë˜í•œ, Kafka ë²„ì „ ì—…ê·¸ë ˆì´ë“œë¥¼ í•œë‹¤ê³  ìƒìƒì„ í•´ ë´…ì‹œë‹¤.&lt;/p>
&lt;p>ìš°ë¦¬ê°€ ì‘ì„±í•œ Kafka í´ëŸ¬ìŠ¤í„° Yaml íŒŒì¼ì—ì„œ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë²„ì „ì„ ì˜¬ë¦¬ê³ .. ë§Œì•½ í´ëŸ¬ìŠ¤í„° ì„¤ì¹˜ë¥¼ í•˜ë©´ì„œ ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ë¥¼ ê°€ì ¸ë‹¤ ì¼ë‹¤ë©´ í˜¸í™˜ì´ ë˜ëŠ”ì§€ í™•ì¸í•˜ê³ &amp;hellip; ë“±ë“±ë“±ì˜ ë³µì¡í•œ ì‘ì—…ì´ ê¸°ë‹¤ë¦¬ê³  ìˆì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>í•˜ì§€ë§Œ ëˆ„ê°€ ì´ ì‘ì—…ì„ ë¯¸ë¦¬ í•´ ë‘ì—ˆë‹¤ë©´?&lt;/p>
&lt;p>ê·¸ê²ƒì„ &lt;code>Helm Chart&lt;/code> ë¼ê³  ë¶€ë¥´ê³ , ì €í¬ëŠ” &lt;code>Helm install Kafka&lt;/code> ë§Œ ì…ë ¥í•˜ë©´ ì´ë¯¸ ë„¤íŠ¸ì›Œí¬, í´ëŸ¬ìŠ¤í„° ì„¤ì •ì´ ì™„ë£Œëœ ì¹´í”„ì¹´ í´ëŸ¬ìŠ¤í„°ë¥¼ ì–»ì„ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¼ë° ë§Œì•½ ëª¨ë‘ ê°™ì€ Helm Chartë¥¼ ì‚¬ìš©í•œë‹¤ë©´, ì‹¤í—˜ìš©ìœ¼ë¡œ Kafak ì»¨í…Œì´ë„ˆ í•œ ëŒ€ë§Œ ë„ì›Œë³´ê¸°ë¥¼ ì›í•˜ëŠ” ìš°ë¦¬ê°™ì€(?) ì‚¬ëŒê³¼, Kafka ìˆ˜ë°±ëŒ€ê°€ í´ëŸ¬ìŠ¤í„°ë¥¼ ì´ë¤„ì•¼ í•˜ëŠ” í° íšŒì‚¬ê°€, ì„œë¡œ ê°™ì€ ì„¤ì •ì„ ì‚¬ìš©í•  ìˆ˜ ë°–ì— ì—†ì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ëŸ° ê²½ìš°ë¥¼ ëŒ€ë¹„í•´, Helmë° ChartëŠ” &lt;code>Values.yaml&lt;/code> ì´ë¼ëŠ” ì¶”ê°€ ì„¤ì • íŒŒì¼ì„ ì œê³µí•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì¦‰, ë§Œì•½ ë‚´ê°€ ì»¨í…Œì´ë„ˆ í•œ ëŒ€ë§Œ í•„ìš”í•˜ë‹¤ë©´ ì°¨íŠ¸ì˜ &lt;code>values.yaml&lt;/code> ì„ ì˜ ì½ê³ , &lt;code>kafka.container-count : 1&lt;/code> ê³¼ ê°™ì´ ì„¤ì •í•˜ë©´ í•´ë‹¹ ë³€ìˆ˜ê°€ ì£¼ì…ë¨ìœ¼ë¡œì¨, Helm Chartë¥¼ ë‚´ê°€ í•„ìš”í•œ ì„¤ì •ì„ ë„£ì–´ ìœ ì—°í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì‹ì…ë‹ˆë‹¤. (ë§ˆì¹˜ ì„œë²„ì˜ í™˜ê²½ ë³€ìˆ˜ ê°™ì´ìš”!)&lt;/p>
&lt;h3 id="metallb-ì„¤ì¹˜">MetalLB ì„¤ì¹˜
&lt;/h3>&lt;ul>
&lt;li>ì°¸ê³ í•œ ê¸€ : &lt;a class="link" href="https://metallb.universe.tf/installation/" target="_blank" rel="noopener"
>Installation With Helm&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ì´ì œ Helmì„ ì‚¬ìš©í•´ ë¡œë“œë°¸ëŸ°ì„œì¸ MetalLBë¥¼ ì„¤ì¹˜í•´ ë´…ì‹œë‹¤!&lt;/p>
&lt;p>ë‹¤ìŒ ì»¤ë§¨ë“œë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì…ë ¥í•©ë‹ˆë‹¤. ë³„ë‹¤ë¥¸ ë§ì´ ì—†ë‹¤ë©´ ëª¨ë“  ì»¤ë§¨ë“œëŠ” &lt;code>Control Node&lt;/code>ì—ì„œ ì…ë ¥í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">helm repo add metallb https://metallb.github.io/metallb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">helm upgrade --install metallb metallb/metallb --create-namespace --namespace metallb-system --wait
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´í›„ &lt;code>ip-address-pool.yaml&lt;/code> ì´ë€ íŒŒì¼ì„ í•˜ë‚˜ ìƒì„±í•´, ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ê³  &lt;code>kubectl apply -f ip-address-pool.yaml&lt;/code> ì„ ì…ë ¥í•˜ì—¬ ì ìš©ì‹œí‚µë‹ˆë‹¤.&lt;/p>
&lt;p>ì•„ë˜ëŠ”, ë¡œë“œë°¸ëŸ°ì„œ ë“±ì˜ IPê°€ í•„ìš”í•œ ì„œë¹„ìŠ¤ì— 192.168.0.200~192.168.0.250 ì‚¬ì´ì˜ IPë¥¼ í• ë‹¹í•´ ì£¼ê² ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">metallb.io/v1beta1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">IPAddressPool&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ipaddresspool&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">metallb-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">addresses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">192.168.0.200-192.168.0.250&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nn">---&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">metallb.io/v1beta1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">L2Advertisement&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">default&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">namespace&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">metallb-system&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ipAddressPools&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">ipaddresspool&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´ì œ, ì •ìƒì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆë‹¤ë©´ LoadBalancerë¥¼ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ì— IPê°€ í• ë‹¹ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>kubectl get svc -n kube-system&lt;/code> ë¥¼ ì…ë ¥í•´ &lt;code>traefik&lt;/code>ì˜ &lt;code>EXTERNAL-IP&lt;/code> ë¶€ë¶„ì´ 192.168.0.xxx ë¥¼ í• ë‹¹ë°›ì•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì•„ë§ˆ ë³„ë„ë¡œ ì„¤ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´, 192.168.0.200ì„ í• ë‹¹ë°›ì•˜ì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ê³µìœ ê¸°-í¬íŠ¸-í¬ì›Œë”©-ì„¤ì •">ê³µìœ ê¸° í¬íŠ¸ í¬ì›Œë”© ì„¤ì •
&lt;/h3>&lt;p>Traefikì˜ IPë¥¼ í™•ì¸í–ˆë‹¤ë©´, (ë‹¤ìŒ ì‹œê°„ì— í•´ì•¼ í•  ì¼ì„) í•˜ë‚˜ë§Œ ë¯¸ë¦¬ í•´ ë‘ë„ë¡ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê³µìœ ê¸°ì˜ í¬íŠ¸í¬ì›Œë”© ì„¤ì •ì„ ì°¾ì•„, 80, 443ë²ˆ í¬íŠ¸ë¥¼ ìœ„ì—ì„œ í™•ì¸í•œ Traefikì˜ IPë¡œ í¬íŠ¸í¬ì›Œë”© í•´ ì¤ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/06a98c88458a5fb7/image.png"
width="895"
height="652"
srcset="https://blog.lemondouble.com/p/06a98c88458a5fb7/image_hu_157c4119cc3f9e1e.png 480w, https://blog.lemondouble.com/p/06a98c88458a5fb7/image_hu_6e461918f2863c9d.png 1024w"
loading="lazy"
alt="IpTime ê³µìœ ê¸° ì„¤ì • í˜ì´ì§€. 80,443 í¬íŠ¸ë¥¼ í¬íŠ¸í¬ì›Œë”©í–ˆë‹¤."
class="gallery-image"
data-flex-grow="137"
data-flex-basis="329px"
>&lt;/p>
&lt;h3 id="metallbëŠ”-ì–´ë–»ê²Œ-ì‘ë™í•˜ë‚˜ìš”">MetalLBëŠ” ì–´ë–»ê²Œ ì‘ë™í•˜ë‚˜ìš”?
&lt;/h3>&lt;p>MetalLBëŠ” ARP ëª¨ë“œì™€ BGP ëª¨ë“œ ë‘ê°€ì§€ë¡œ ì‘ë™í•  ìˆ˜ ìˆìœ¼ë‚˜, ì €í¬ëŠ” ARP ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ARP ëª¨ë“œì˜ ì‘ë™ ë°©ë²•ì— ëŒ€í•´ ì•„ì£¼ ê°„ë‹¨íˆ(?) ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ë¯¸ì§€ë¥¼ ë³´ê¸° ì „ì—, ë°°ê²½ ì§€ì‹ì´ ì•½ê°„ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>Mac AddrëŠ” í•˜ë“œì›¨ì–´ì— ë°•í˜€ìˆëŠ” ì£¼ì†Œë¡œ, ê³µì¥ ì¶œê³ ì‹œë¶€í„° ìˆìœ¼ë©° ê³ ìœ í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ê³µìœ ê¸°(ë¼ìš°í„°)ì˜ í¬íŠ¸í¬ì›Œë”©ì€, íŠ¹ì •í•œ í¬íŠ¸ë¡œ ì™¸ë¶€ ìš”ì²­ì„ ë°›ì•˜ì„ ì‹œ ë‚´ë¶€ë§ì˜ íŠ¹ì • IPë¡œ ë³€í™˜í•´ ìš”ì²­ì„ í•˜ëŠ” ì—­í• ì„ í•´ ì¤ë‹ˆë‹¤.
&lt;ul>
&lt;li>ì˜ˆë¥¼ ë“¤ì–´ ìœ„ì— ì„¤ì •í•œ 80ë²ˆ í¬íŠ¸, 443ë²ˆ í¬íŠ¸ì— 192.168.0.200ìœ¼ë¡œ ì„¤ì •ì„ í•´ ë‘ì—ˆë‹¤ë©´, http(80í¬íŠ¸), https(443í¬íŠ¸) ì— ëŒ€í•´ ë‚´ë¶€ë§ì—ì„œ 192.168.0.200 ì„ ê°€ì§„ ë…¸ë“œë¥¼ ì—°ê²°í•´ ì¤ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>ì´í›„ì˜ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ íë¦„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/06a98c88458a5fb7/image-1.png"
width="626"
height="818"
srcset="https://blog.lemondouble.com/p/06a98c88458a5fb7/image-1_hu_deba61cbc8595c7.png 480w, https://blog.lemondouble.com/p/06a98c88458a5fb7/image-1_hu_35043886145bf359.png 1024w"
loading="lazy"
alt="ì™¸ë¶€ì—ì„œ https, ê³µìœ ê¸° IPë¡œ ì ‘ê·¼"
class="gallery-image"
data-flex-grow="76"
data-flex-basis="183px"
>&lt;/p>
&lt;ol>
&lt;li>&lt;code>https://&lt;/code> ë¡œ ì„œë²„ì— ì ‘ê·¼í•˜ë©´, &lt;code>443&lt;/code> í¬íŠ¸ë¥¼ ì™¸ë¶€ì—ì„œ ìš”ì²­í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/06a98c88458a5fb7/image-2.png"
width="844"
height="919"
srcset="https://blog.lemondouble.com/p/06a98c88458a5fb7/image-2_hu_f23fc924967eb8f5.png 480w, https://blog.lemondouble.com/p/06a98c88458a5fb7/image-2_hu_df26e0ae0a278046.png 1024w"
loading="lazy"
alt="ê³µìœ ê¸°ê°€ 192.168.0.200ì„ ëª¨ë¥´ë¯€ë¡œ ARP Request"
class="gallery-image"
data-flex-grow="91"
data-flex-basis="220px"
>&lt;/p>
&lt;ol start="2">
&lt;li>ì €í¬ê°€ ìœ„ì—ì„œ ì„¤ì •í•œ &lt;code>í¬íŠ¸ í¬ì›Œë”©&lt;/code> ì„¤ì •ìœ¼ë¡œ ì¸í•´, ë¼ìš°í„°ëŠ” &lt;code>192.168.0.200&lt;/code>ì—ê²Œ íŠ¸ë˜í”½ì„ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ë¼ìš°í„°ëŠ” í˜„ì¬ &lt;code>192.168.0.200&lt;/code> ì£¼ì†Œë¥¼ ëª¨ë¥´ë¯€ë¡œ &lt;code>ë‚´ë¶€ë§ì˜ ëª¨ë‘ì—ê²Œ 192.168.0.200 ë‚˜ì™€ë¼&lt;/code> ëŠ” ìš”ì²­ì„ ë¿Œë¦½ë‹ˆë‹¤. (ARP Request)&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/06a98c88458a5fb7/image-3.png"
width="679"
height="909"
srcset="https://blog.lemondouble.com/p/06a98c88458a5fb7/image-3_hu_25434dd586a7c885.png 480w, https://blog.lemondouble.com/p/06a98c88458a5fb7/image-3_hu_836dd748e40531e4.png 1024w"
loading="lazy"
alt="Traefikì´ ìˆëŠ” ë…¸ë“œê°€ Response"
class="gallery-image"
data-flex-grow="74"
data-flex-basis="179px"
>&lt;/p>
&lt;ol start="3">
&lt;li>ê·¸ëŸ¬ë©´ Traefikì´ ìˆëŠ” Nodeê°€ &lt;code>í—‰ ì „ë°ì—¼;;&lt;/code> í•˜ê³  ìê¸° &lt;code>Mac Address&lt;/code>ë¥¼ ë‹´ì€ ì‘ë‹µì„ ë³´ëƒ…ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ë¼ìš°í„°ëŠ” ì™¸ë¶€ì—ì„œ ë“¤ì–´ì˜¨ íŠ¸ë˜í”½ì„ &lt;code>AA-AA-AA-AA&lt;/code>ë¡œ ë³´ë‚´ë©´ ëœë‹¤ëŠ”ê±¸ ì•Œê²Œ ë©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/06a98c88458a5fb7/image-4.png"
width="635"
height="906"
srcset="https://blog.lemondouble.com/p/06a98c88458a5fb7/image-4_hu_258b0de15d83b8e4.png 480w, https://blog.lemondouble.com/p/06a98c88458a5fb7/image-4_hu_ef29ee008af2ab79.png 1024w"
loading="lazy"
alt="ì™¸ë¶€ì™€ Traefik Nodeê°€ í†µì‹  ê°€ëŠ¥"
class="gallery-image"
data-flex-grow="70"
data-flex-basis="168px"
>&lt;/p>
&lt;ol start="4">
&lt;li>ë”°ë¼ì„œ ì´ì œ ì„œë¡œ íŠ¸ë˜í”½ ì „ë‹¬ì´ ê°€ëŠ¥í•˜ë‹ˆ, í†µì‹ ì´ ê°€ëŠ¥í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;h3 id="í—·ê°ˆë¦¬ëŠ”-ì ">í—·ê°ˆë¦¬ëŠ” ì 
&lt;/h3>&lt;p>ê·¸ëŸ¬ë©´? í—·ê°ˆë¦¬ëŠ” ë¶€ë¶„ì´ ìƒê¹ë‹ˆë‹¤. í•˜ë‚˜í•˜ë‚˜ ëŒ€ëµ ì •ë¦¬í•´ë³´ë©´&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>ì•„ë‹ˆ ê·¸ëŸ¬ë©´ í•œ ë…¸ë“œê°€ IPê°€ ì—¬ëŸ¬ê°œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‚˜?&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ì˜ˆë¥¼ ë“¤ì–´, ì•„ê¹Œì˜ ì˜ˆì‹œë¼ë©´ AA-AA-AA-AAëŠ” ì´ë¯¸ DHCP ì„œë²„ë¡œë¶€í„° ë‚´ë¶€ IP í•˜ë‚˜ë¥¼ í• ë‹¹ë°›ì•˜ì„ ê²ƒì…ë‹ˆë‹¤.&lt;/li>
&lt;li>ê·¸ëŸ¬ë©´ ì—¬ê¸°ì— ì¶”ê°€ë¡œ IPë¥¼ í• ë‹¹ë°›ëŠ” ê±´ê°€? ë¼ê³  ìƒê°í•˜ë©´ ë§ìŠµë‹ˆë‹¤!&lt;/li>
&lt;li>&lt;code>MetalLB ì‹œìŠ¤í…œì—ì„  í•œ ë…¸ë“œê°€ ì—¬ëŸ¬ê°œì˜ ë‚´ë¶€ IPë¥¼ í• ë‹¹ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ë§Œì•½ Traefikì´ ìˆëŠ” ë…¸ë“œê°€ ì£½ìœ¼ë©´ ì–´ë–»ê²Œ ë¼ìš”?&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>ë‹¹ì—°íˆ? ì ê¹ ë™ì•ˆ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ê²Œ ë‹¤ìš´ë©ë‹ˆë‹¤.&lt;/li>
&lt;li>ëŒ€ì‹  Traefikì´ ë‹¤ë¥¸ ë…¸ë“œì— ëœ° ê±°ê³ , ê·¸ ë’¤ ìƒˆë¡œ ARP Request/Responseë¥¼ ì§„í–‰í•˜ë©´ ìƒˆë¡œìš´ Mac Address(Node)ë¡œ í¬ì›Œë”©ë˜ë¯€ë¡œ ì¥ì• ê°€ ë³µêµ¬ë˜ê²Œ ë©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ARP ResponseëŠ” ëˆ„ê°€ í•´ì£¼ëŠ”ê±°ì—ìš”?&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>MetalLB ì»¨í…Œì´ë„ˆê°€ ARP Response ë°, í•´ë‹¹ ì£¼ì†Œë¡œ ë“¤ì–´ì˜¨ íŠ¸ë˜í”½ì„ Pod (ì—¬ê¸°ì„œëŠ” Traefik) ìœ¼ë¡œ ìš´ë°˜í•´ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>í•´ë‹¹ ë‚´ìš©ì€ ë¬¸ì„œë¥¼ ì°¾ì•„ë³´ë©° í•œ ë…ìì—°êµ¬ì…ë‹ˆë‹¤. (íŠ¹íˆ MetalLB ìª½ì€)&lt;/p>
&lt;p>í˜¹ì‹œ í‹€ë¦° ê²Œ ìˆë‹¤ë©´ ì–¸ì œë“ ì§€ ìˆ˜ì •í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤!&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 2. í´ëŸ¬ìŠ¤í„° ì´ˆê¸° ì„¤ì • í¸</title><link>https://blog.lemondouble.com/p/f4efced2e8d5b1d8/</link><pubDate>Sun, 03 Dec 2023 22:20:29 +0900</pubDate><guid>https://blog.lemondouble.com/p/f4efced2e8d5b1d8/</guid><description>&lt;img src="https://blog.lemondouble.com/p/f4efced2e8d5b1d8/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 2. í´ëŸ¬ìŠ¤í„° ì´ˆê¸° ì„¤ì • í¸" />&lt;h3 id="í•˜ë“œì›¨ì–´">í•˜ë“œì›¨ì–´
&lt;/h3>&lt;p>&lt;img src="https://blog.lemondouble.com/p/f4efced2e8d5b1d8/image.png"
width="1280"
height="720"
srcset="https://blog.lemondouble.com/p/f4efced2e8d5b1d8/image_hu_636fb7220c25dab6.png 480w, https://blog.lemondouble.com/p/f4efced2e8d5b1d8/image_hu_4f627d111cbccfa1.png 1024w"
loading="lazy"
alt="í•˜ë“œì›¨ì–´ êµ¬ì„± ë„ì‹"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>ìœ„ ê·¸ë¦¼ì„ ì°¸ê³ í•˜ì—¬, í•˜ë“œì›¨ì–´ êµ¬ì„±ì„ ì‹œì¼œ ì¤ë‹ˆë‹¤.&lt;/p>
&lt;p>ì»´í“¨í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì§‘ì´ë¼ë©´ ì•„ë§ˆ ë†’ì€ í™•ë¥ ë¡œ ë¼ìš°í„°ì™€ ê¸°ë³¸ ë°ìŠ¤í¬íƒ‘ì€ ì„¤ì •ë˜ì–´ ìˆì„í…Œë‹ˆ, ìœ„ ë„ì‹ì—ì„œ ì´ˆë¡ìƒ‰ ë¶€ë¶„ë§Œ ì¶”ê°€í•˜ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì¸í„°ë„·ì—ì„œ ìŠ¤ìœ„ì¹˜í—ˆë¸Œ (Unmanaged Switch)ë¥¼ êµ¬ë§¤í•˜ì…¨ë‹¤ë©´, ë‹¨ìˆœíˆ ë¼ì¦ˆë² ë¦¬ íŒŒì´ì˜ ëœì„ ì„ ì „ë¶€ ìŠ¤ìœ„ì¹˜í—ˆë¸Œì— ì—°ê²°í•˜ê³ , ê³µìœ ê¸°ì—ì„œ ì¸í„°ë„· ì„ ì„ í•˜ë‚˜ ë“¤ê³ ì™€ì„œ ìŠ¤ìœ„ì¹˜ì— ì—°ê²°í•˜ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ë¼ì¦ˆë² ë¦¬-íŒŒì´-ì„¤ì •">ë¼ì¦ˆë² ë¦¬ íŒŒì´ ì„¤ì •
&lt;/h3>&lt;p>ì´ì „ì˜ ì œê°€ ë°œí–‰í•œ ê¸€ì¸ &lt;a class="link" href="https://lemondouble.github.io/p/%EB%82%B4%EA%B0%80-%EB%B3%B4%EB%A0%A4%EA%B3%A0-%EC%98%AC%EB%A6%AC%EB%8A%94-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4-%EC%B4%88%EA%B8%B0-%EC%84%B8%ED%8C%85/" target="_blank" rel="noopener"
>ë‚´ê°€ ë³´ë ¤ê³  ì˜¬ë¦¬ëŠ” ë¼ì¦ˆë² ë¦¬ íŒŒì´ ì´ˆê¸° ì„¸íŒ…&lt;/a> ê³¼, &lt;a class="link" href="https://lemondouble.github.io/p/sd%EC%B9%B4%EB%93%9C-%EC%84%B8%EA%B0%9C-%EB%82%A0%EB%A0%A4%EB%A8%B9%EA%B3%A0-%ED%99%94%EB%82%98%EC%84%9C-%EC%93%B0%EB%8A%94-%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC%ED%8C%8C%EC%9D%B4-usb-boot-%EC%84%B8%ED%8C%85-%EB%B0%A9%EB%B2%95/" target="_blank" rel="noopener"
>SDì¹´ë“œ ì„¸ê°œ ë‚ ë ¤ë¨¹ê³  í™”ë‚˜ì„œ ì“°ëŠ” ë¼ì¦ˆë² ë¦¬íŒŒì´ USB Boot ì„¸íŒ… ë°©ë²•&lt;/a>, í˜¹ì€ íƒ€ ë¸”ë¡œê·¸ì˜ ê¸€ì„ ì°¸ê³ í•˜ì—¬ ë¼ì¦ˆë² ë¦¬ íŒŒì´ì— ìš°ë¶„íˆ¬ ì„œë²„ 22.04ë¥¼ ì„¤ì¹˜í•´ ì¤ë‹ˆë‹¤.&lt;/p>
&lt;p>SDì¹´ë“œë¡œë„ í´ëŸ¬ìŠ¤í„° êµ¬ì¶•ì€ ê°€ëŠ¥í•˜ë‚˜, USB Boot ì„¤ì •ì„ í•œ í›„ USBë¡œ ë¶€íŒ…í•˜ëŠ”ê²ƒì„ &lt;strong>ê°•ë ¥í•˜ê²Œ ê¶Œì¥&lt;/strong> ë“œë¦½ë‹ˆë‹¤.&lt;/p>
&lt;p>ì—¬ê¸°ê¹Œì§€ ì˜¤ì…¨ë‹¤ë©´, ë¼ì¦ˆë² ë¦¬ íŒŒì´ Ubuntu ì„¤ì¹˜ + SSH ì—°ê²°ì´ ê°€ëŠ¥í•˜ë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„, &lt;code>sudo apt update -y &amp;amp;&amp;amp; sudo apt upgrdae -y &amp;amp;&amp;amp; sudo apt install linux-modules-extra-raspi&lt;/code> ë¡œ í•„ìš”í•œ ì¢…ì†ì„± ì„¤ì¹˜ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤. (&lt;a class="link" href="https://lemondouble.github.io/p/%EB%9D%BC%EC%A6%88%EB%B2%A0%EB%A6%AC-%ED%8C%8C%EC%9D%B4--ubuntu-22.04%EC%97%90-k3s-%EC%84%A4%EC%B9%98%ED%95%B4%EC%84%9C-%EC%93%B0%EA%B8%B0/" target="_blank" rel="noopener"
>ë¼ì¦ˆë² ë¦¬ íŒŒì´ + Ubuntu 22.04ì— K3S ì„¤ì¹˜í•´ì„œ ì“°ê¸°&lt;/a> ì°¸ê³ )&lt;/p>
&lt;h3 id="dhcp-ì„œë²„-ì„¤ì •">DHCP ì„œë²„ ì„¤ì •
&lt;/h3>&lt;p>ì´í›„, ìµœì´ˆ í•œë²ˆ ëª¨ë“  íŒŒì´ë¥¼ ì¼œ ì£¼ê³  ë‚˜ë©´ íŒŒì´ê°€ ë‚´ë¶€ IPë¥¼ í• ë‹¹ë°›ê²Œ ë©ë‹ˆë‹¤. (ì„¤ì •ì„ ë°”ê¾¸ì§€ ì•Šì•˜ë‹¤ë©´, 192.168.0.X í˜•íƒœ)&lt;/p>
&lt;p>ë³„ë„ë¡œ ì„¤ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´, ì´ ë‚´ë¶€ ì£¼ì†ŒëŠ” íŒŒì´ì˜ ì „ì›ì´ ì¼œì§ˆ ë•Œë§ˆë‹¤ &lt;strong>ë‚¨ëŠ” IP ì¤‘ í•˜ë‚˜&lt;/strong> ë¥¼ ê°€ì ¸ì™€ì„œ ì„¤ì •í•˜ê²Œ ë˜ëŠ”ë°, ì´ ê²½ìš° IPê°€ ìœ ë™ì ìœ¼ë¡œ ë°”ë€Œì–´ ë§¤ë²ˆ ë³„ë„ë¡œ ë…¸ë“œì˜ IPë¥¼ ê³µìœ ê¸° ê´€ë¦¬ì í˜ì´ì§€ ë“±ì—ì„œ í™•ì¸í•´ì•¼ í•˜ëŠ” ë²ˆê±°ë¡œì›€ì´ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;del>(ì •í™•íˆëŠ”, ë°”ë€” ìˆ˜ë„ ì•ˆ ë°”ë€” ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë ¤ê³  í•˜ê¸´ í•˜ì§€ë§Œ, ë§Œì¼ì„ ìœ„í•´ ë¯¸ë¦¬ ì„¸íŒ…í•´ ë‘¡ë‹ˆë‹¤.)&lt;/del>&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/f4efced2e8d5b1d8/image-1.png"
width="885"
height="641"
srcset="https://blog.lemondouble.com/p/f4efced2e8d5b1d8/image-1_hu_74b9b3e3180dff62.png 480w, https://blog.lemondouble.com/p/f4efced2e8d5b1d8/image-1_hu_8044fe9d9372071.png 1024w"
loading="lazy"
alt="IpTime DHCP ì„œë²„ ì„¤ì •"
class="gallery-image"
data-flex-grow="138"
data-flex-basis="331px"
>&lt;/p>
&lt;p>ìœ„ì™€ ê°™ì´ DHCP ì„œë²„ ì„¤ì • (Iptime ê¸°ì¤€) ê³¼ ë¹„ìŠ·í•œ ë©”ë‰´ë¥¼ ì°¾ì•„, ìµœì´ˆ ì—°ê²°ëœ íŒŒì´ì˜ &lt;strong>Mac Addr&lt;/strong> (1A-2B-3C&amp;hellip;) ë¥¼ ì…ë ¥í•œ í›„, íŠ¹ì • IPë¥¼ í• ë‹¹í•´ ì¤ì‹œë‹¤.&lt;/p>
&lt;p>ì €ëŠ” í¸ì˜ìƒ 192.168.0.20(Control Node), 192.168.0.21~30(Worker Node)ë¡œ ì„¤ì •í•˜ì˜€ìœ¼ë‚˜, í•´ë‹¹ IPëŠ” í¸í•˜ì‹  ëŒ€ë¡œ ì„¤ì •í•˜ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„ Windows ì‚¬ìš©ìë¼ë©´ Puttyë¥¼ ì´ìš©í•´, Linuxë‚˜ Mac ì‚¬ìš©ìë¼ë©´ ssh CLIë¥¼ í†µí•´ ì—°ê²° ì¤€ë¹„ë¥¼ í•©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="supabase-ê°€ì…-ë°-postgres-ì ‘ì†-ê¶Œí•œ-ê°€ì ¸ì˜¤ê¸°">Supabase ê°€ì… ë° Postgres ì ‘ì† ê¶Œí•œ ê°€ì ¸ì˜¤ê¸°
&lt;/h3>&lt;p>Control Nodeë¥¼ ì„¸ëŒ€ë‚˜ í• ë‹¹í•˜ê¸°ì—” ìì›ì´ ë„ˆë¬´ ì•„ê¹ê³ , 1ëŒ€ë§Œ í• ë‹¹í•˜ìë‹ˆ ë§Œì•½ Control Nodeê°€ ì£½ì—ˆì„ ì‹œ ë³µêµ¬ê°€ ì–´ë ¤ì›Œì„œ ì„ íƒí•œ ì°¨ì„ ì±…ìœ¼ë¡œ,&lt;/p>
&lt;p>ì €í¬ëŠ” ë§Œì•½ Control Nodeê°€ ì£½ë”ë¼ë„ Stateë¥¼ ì™¸ë¶€ SaaSì— ë³´ê´€í•˜ì—¬, ë§Œì•½ Control Nodeê°€ ì£½ë”ë¼ë„ Control Nodeë¥¼ êµì²´í•˜ë©´ ì™¸ë¶€ Storageì—ì„œ ìƒíƒœë¥¼ ê°€ì ¸ì™€ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬ì¶•í•  ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ë¥¼ ìœ„í•´ì„œ ë¬´ë£Œ DBë¥¼ ì œê³µí•˜ëŠ” &lt;strong>Supabase&lt;/strong> ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/f4efced2e8d5b1d8/image-2.png"
width="327"
height="696"
srcset="https://blog.lemondouble.com/p/f4efced2e8d5b1d8/image-2_hu_769f5dc1fc09fcba.png 480w, https://blog.lemondouble.com/p/f4efced2e8d5b1d8/image-2_hu_636b355639711fbc.png 1024w"
loading="lazy"
alt="500MBê¹Œì§€ ê³µì§œ!"
class="gallery-image"
data-flex-grow="46"
data-flex-basis="112px"
>&lt;/p>
&lt;p>&lt;a class="link" href="https://supabase.com/" target="_blank" rel="noopener"
>Supabase&lt;/a> ì— ê°€ì…í•œ í›„, Postgres ì ‘ì† ê¶Œí•œì„ ì„¤ì • í›„ ê°€ì ¸ì˜µë‹ˆë‹¤.&lt;/p>
&lt;p>ì„¤ì •í•  ìˆ˜ ìˆë‹¤ë©´, SupabaseëŠ” PgBouncerë„ ì§€ì›í•˜ë‹ˆ, PgBouncerë„ ì„¤ì •í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>(ë™ì‹œ ì—°ê²° ìˆ˜ ì œí•œ ë–„ë¬¸ì—, ì´í›„ Portainerë¥¼ ì„¤ì¹˜í•˜ë©´ ì •ìƒ ì‘ë™ì€ í•˜ë‚˜ PgBouncer ì—†ì´ëŠ” ì—ëŸ¬ ë©”ì„¸ì§€ê°€ ë§ì´ ëœ¹ë‹ˆë‹¤.)&lt;/p>
&lt;h3 id="matser-node-ì„¤ì •í•˜ê¸°">Matser Node ì„¤ì •í•˜ê¸°
&lt;/h3>&lt;p>&lt;em>ìœ„ ì„¤ì •ì„ ë”°ë¼ì™€ Ubuntuê°€ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.&lt;/em>&lt;/p>
&lt;p>ë‹¤ìŒì„ ì¤€ë¹„í•©ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>Mater Nodeë¡œ ì‚¬ìš©í•  ë¼ì¦ˆë² ë¦¬ íŒŒì´ì˜ IP (ìœ„ DHCP ì„œë²„ ì„¤ì •ì—ì„œ ì„¤ì •í•œ IP)
&lt;ul>
&lt;li>ì˜ˆì‹œ : &lt;code>192.168.0.20&lt;/code> í˜•íƒœ, &lt;strong>ì´í›„ Worker Node ì—°ê²°ì— í•„ìš”í•˜ë¯€ë¡œ, ë°˜ë“œì‹œ ê¸°ë¡í•´ ë‘¡ë‹ˆë‹¤.&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ê°€ ì„œë¡œ Joiní• ë•Œ ì‚¬ìš©í•  ëœë¤ í† í°ì„ ì¤€ë¹„í•©ë‹ˆë‹¤. ì €ëŠ” íŠ¹ë¬¸ ì—†ì´ ì•ŒíŒŒë²³ ëŒ€ì†Œë¬¸ì+ìˆ«ì ì¡°í•©ìœ¼ë¡œ 60ê¸€ìì§œë¦¬ Random Stringì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. &lt;strong>ì´í›„ Worker Node ì—°ê²°ì‹œ í•„ìš”í•˜ë¯€ë¡œ, ë°˜ë“œì‹œ ê¸°ë¡í•´ ë‘¡ë‹ˆë‹¤.&lt;/strong>
&lt;ul>
&lt;li>ì˜ˆì‹œ : &lt;code>jUofPu4hMegXLDKgCn6FbsfWcL8mFQu3DYEiyDjQgh8447cMAqwfgYwTeNU4&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ìœ„ì—ì„œ ì¤€ë¹„í•œ Postgres ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.
&lt;ul>
&lt;li>ì˜ˆì‹œ : &lt;code>postgres://postgres:postgresPassword@db.mydb.supabase.co:5432/postgres&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -sfL https://get.k3s.io &lt;span class="p">|&lt;/span> sh -s - --write-kubeconfig-mode &lt;span class="m">644&lt;/span> --disable servicelb --token &amp;lt;2,myToken&amp;gt; --node-taint &lt;span class="nv">CriticalAddonsOnly&lt;/span>&lt;span class="o">=&lt;/span>true:NoExecute --bind-address &amp;lt;1,myControlNodeIP&amp;gt; --disable local-storage --datastore-endpoint &amp;lt;3, postGresEndpoint&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>1,2,3ì— ë§ì¶° ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -sfL https://get.k3s.io &lt;span class="p">|&lt;/span> sh -s - --write-kubeconfig-mode &lt;span class="m">644&lt;/span> --disable servicelb --token mytoken --node-taint &lt;span class="nv">CriticalAddonsOnly&lt;/span>&lt;span class="o">=&lt;/span>true:NoExecute --bind-address 192.168.0.20 --disable local-storage --datastore-endpoint postgres://postgres:postgresPassword@db.mydb.supabase.co:5432/postgres
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>í•˜ë‚˜í•˜ë‚˜ ì˜µì…˜ì„ ê¹Œë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>&lt;code>curl -sfL https://get.k3s.io | sh -s -&lt;/code> : K3Së¥¼ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>--write-kubeconfig-mode 644&lt;/code> : KubeConfig íŒŒì¼ì˜ ì ‘ê·¼ ê¶Œí•œì„ 644ë¡œ ì„¤ì •í•©ë‹ˆë‹¤. ì¶”í›„ ì„¤ì •ì— í•„ìš”í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>--disable servicelb&lt;/code> : K3Sì˜ ê¸°ë³¸ &lt;a class="link" href="https://docs.k3s.io/networking#service-load-balancer" target="_blank" rel="noopener"
>Service Load Balancer&lt;/a> (klipper-lb) ë¥¼ ë¹„í™œì„±í™”í•©ë‹ˆë‹¤. ì´í›„ MetalLBë¼ëŠ” ë¡œë“œë°¸ëŸ°ì„œë¥¼ ë³„ë„ë¡œ ê¹”ì•„ ì‚¬ìš©í•  ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>--token &amp;lt;mytoken&amp;gt;&lt;/code> : K3S í´ëŸ¬ìŠ¤í„°ê°€ ì„œë¡œ Joiní• ë•Œ ì“°ëŠ” í† í°ì„ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code> --node-taint CriticalAddonsOnly=true:NoExecute&lt;/code> : Control Nodeì— Taintë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ì¦‰, &lt;strong>ì•ˆì •ì„±ì„ ìœ„í•´ ì •ë§ ì¤‘ìš”í•œ ì»¨í…Œì´ë„ˆë¥¼ ì œì™¸í•˜ê³¤ Control Nodeì—ì„œ ì‹¤í–‰í•˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.&lt;/strong>. ë§Œì•½ ë…¸ë“œê°€ í•œëŒ€ê±°ë‚˜, ìƒê´€ì—†ì´ Control Nodeì—ì„œë„ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ê³  ì‹¶ë‹¤ë©´ í•´ë‹¹ ì˜µì…˜ì„ ì œê±°í•´ ì£¼ì„¸ìš”.&lt;/li>
&lt;li>&lt;code>--bind-address &amp;lt;myControlNodeIP&amp;gt;&lt;/code> : ë§ˆìŠ¤í„° ë…¸ë“œë¥¼ íŠ¹ì • IPì— ì¢…ì†ì‹œí‚¤ëŠ” í”Œë˜ê·¸ì…ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>--disable local-storage&lt;/code> : K3Sì˜ ê¸°ë³¸ Local Storageë¥¼ ë¹„í™œì„±í™”í•©ë‹ˆë‹¤. ì´í›„ Longhorn Storageë¥¼ ë³„ë„ë¡œ ì„¤ì¹˜í•´ ì‚¬ìš©í•  ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>--datastore-endpoint &amp;lt;postGresEndpoint&amp;gt;&lt;/code> : ë‚´ì¥ Etcd ëŒ€ì‹  ì™¸ë¶€ Databaseë¥¼ ìƒíƒœ ì €ì¥ì†Œë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;p>ìœ„ ì»¤ë§¨ë“œë¥¼ Master Nodeì—ì„œ ì‹¤í–‰í•˜ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ì„¤ì¹˜ë˜ê¸° ì‹œì‘í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>ì´í›„, í¸ì˜ë¥¼ ìœ„í•´ Hosts íŒŒì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>&lt;code>sudo vi /etc/hosts&lt;/code> ë¥¼ ì‹¤í–‰ í›„ (ì–´ë–¤ í…ìŠ¤íŠ¸ í¸ì§‘ê¸°ë¡œ ì—´ì–´ë„ ê´œì°®ìŠµë‹ˆë‹¤., ì•„ë˜ì™€ ê°™ì€ ì¤„ì„ ì¶”ê°€í•©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">192.168.0.20 control01 control01.local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.0.21 worker01 worker01.local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.0.22 worker02 worker02.local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">192.168.0.23 worker03 worker03.local
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì €ì˜ ê²½ìš° 192.168.0.20ì„ control01ì´ë€ ë‹‰ë„¤ì„ìœ¼ë¡œ, 21ì„ worker01, 22ë¥¼ worker02ë¼ëŠ” ë‹‰ë„¤ì„ìœ¼ë¡œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ë ‡ê²Œ ì„¤ì •í•˜ë©´, ì´í›„ control Nodeì—ì„œ ssh ì ‘ì†ì‹œ &lt;code>ssh worker01&lt;/code> ì‹ìœ¼ë¡œ ê°„ë‹¨íˆ ì ‘ì†ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>ë§ˆì§€ë§‰ìœ¼ë¡œ, Master Nodeì—ì„œ ì‰½ê²Œ Worker Nodeë¡œ ì ‘ê·¼í•˜ê¸° ìœ„í•´, SSH ì„¤ì •ì„ ì§„í–‰í•©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>&lt;code>ssh-keygen&lt;/code> ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ê³  ì•„ë¬´ê²ƒë„ ì¹˜ì§€ ë§ê³  ì—”í„°ë¥¼ ì…ë ¥í•´ ssh keyë¥¼ ë§Œë“­ë‹ˆë‹¤.
ì´í›„ &lt;code>~/.ssh/id_rsa.pub&lt;/code> íŒŒì¼ì„ ì˜ ë³µì‚¬í•´ ë‘¡ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="worker-node-ì„¤ì •í•˜ê¸°">Worker Node ì„¤ì •í•˜ê¸°
&lt;/h3>&lt;p>&lt;em>ìœ„ ì„¤ì •ì„ ë”°ë¼ì™€ Ubuntuê°€ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤.&lt;/em>&lt;/p>
&lt;p>&lt;strong>ë¨¼ì € SSH ì ‘ì†ë¶€í„° ì„¤ì •í•©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>&lt;code>~/.ssh/authorized_keys&lt;/code>ì—, í•œ ì¤„ ì¤„ë°”ê¿ˆ í›„ ë°©ê¸ˆ ë³µì‚¬í•œ id_rsa.pubì˜ ë‚´ìš©ì„ ë¶™ì—¬ë„£ê¸° í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„ control Nodeì—ì„œ &lt;code>ssh worker01&lt;/code> ë“±ì„ ì…ë ¥í•˜ì—¬ ì—°ê²°ì´ ì˜ ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë§Œì•½ ì—°ê²°ì´ ì˜ ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ssh authorized_keys ë“±ë¡ ë“±ìœ¼ë¡œ ê²€ìƒ‰í•˜ì—¬ í•´ê²°í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;strong>ì´í›„ K3Së¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.&lt;/strong>&lt;/p>
&lt;p>ë‹¤ìŒì„ ì¤€ë¹„í•©ë‹ˆë‹¤.&lt;/p>
&lt;ol>
&lt;li>ìœ„ì—ì„œ ì„¤ì •í•œ Master Nodeì˜ IP&lt;/li>
&lt;li>ìœ„ì—ì„œ ì„¤ì •í•œ Master Nodeì˜ Token&lt;/li>
&lt;/ol>
&lt;p>ì´í›„ ì•„ë˜ ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•˜ì—¬ Worker Nodeë¥¼ Joinì‹œí‚µë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -sfL https://get.k3s.io &lt;span class="p">|&lt;/span> &lt;span class="nv">K3S_URL&lt;/span>&lt;span class="o">=&lt;/span>https://&amp;lt;1,myControlNodeIP&amp;gt;:6443 &lt;span class="nv">K3S_TOKEN&lt;/span>&lt;span class="o">=&lt;/span>&amp;lt;2,myToken&amp;gt; sh -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>1,2ì— ë§ì¶° ìœ„ì™€ ê°™ì´ ì„¤ì •í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” ì˜ˆì‹œì…ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">curl -sfL https://get.k3s.io &lt;span class="p">|&lt;/span> &lt;span class="nv">K3S_URL&lt;/span>&lt;span class="o">=&lt;/span>https://192.168.0.20:6443 &lt;span class="nv">K3S_TOKEN&lt;/span>&lt;span class="o">=&lt;/span>mytoken sh -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´í›„ Node Joinì„ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ë…¸ë“œ-join-í™•ì¸-ë°-label-ìƒì„±">ë…¸ë“œ Join í™•ì¸ ë° Label ìƒì„±
&lt;/h3>&lt;p>ì´í›„ Control Nodeì—ì„œ &lt;code>kubectl get nodes&lt;/code> ë¥¼ ì…ë ¥í•˜ì—¬ nodeë“¤ì´ ì •ìƒ Joiní•œ ê²ƒì„ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´í›„, ROLES ë¶€ë¶„ì„ ìˆ˜ì •í•˜ê¸° ìœ„í•´ Control Nodeì—ì„œ ê° Nodeì— ëŒ€í•´ ì•„ë˜ ì»¤ë§¨ë“œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë§Œì•½ Nodeê°€ ì ë‹¤ë©´ ì ì€ ê°œìˆ˜ë§Œí¼, ë” ë§ë‹¤ë©´ ë” ë§ì´ í•´ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">kubectl label nodes worker01 kubernetes.io/role&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl label nodes worker02 kubernetes.io/role&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl label nodes worker03 kubernetes.io/role&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ì´í›„, ì»¨í…Œì´ë„ˆ ìƒì„±ì‹œ íŠ¹ì • Pod (Worker Node) ì—ë§Œ ëœ¨ë„ë¡ ì„¤ì •ì„ ìœ„í•œ Labelì„ ì¶”ê°€í•©ë‹ˆë‹¤. (ìœ„ì™€ ì•„ë˜ ë‘˜ ë‹¤ í•´ ì¤˜ì•¼ í•©ë‹ˆë‹¤!)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">kubectl label nodes worker01 node-type&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl label nodes worker02 node-type&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kubectl label nodes worker03 node-type&lt;span class="o">=&lt;/span>worker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ìµœì¢… ì ê²€ì„ ì§„í–‰í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì•„ë˜ëŠ” ì œ ê²½ìš°ì˜ ì¶œë ¥ì…ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì€ ì•„ì§ ROLES ë¶€ë¶„ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (&lt;code>kubectl get nodes&lt;/code>)&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">NAME STATUS ROLES AGE VERSION
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">control01 Ready control-plane,master 307d v1.27.4+k3s1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">worker02 Ready worker 307d v1.27.4+k3s1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">worker01 Ready worker 307d v1.27.4+k3s1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">worker03 Ready worker 307d v1.27.4+k3s1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ë˜í•œ, ì¶”ê°€í•œ ë¼ë²¨ë„ í™•ì¸í•©ë‹ˆë‹¤. (&lt;code>kubectl get nodes --show-labels&lt;/code>)&lt;/p>
&lt;p>ì—¬ëŸ¬ ê°œì˜ ë¼ë²¨ì´ ìˆëŠ”ê²Œ ë‹¹ì—°í•˜ë‹ˆ, ìš°ë¦¬ê°€ ì¶”ê°€í•œ &lt;code>node-type=worker&lt;/code> ê°€ ì˜ ìˆëŠ”ì§€ë§Œ í™•ì¸í•˜ë©´ ë©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>ì¶•í•˜í•©ë‹ˆë‹¤! í•˜ë“œì›¨ì–´ ë° ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì¹˜ë¥¼ ì„±ê³µì ìœ¼ë¡œ ë§ˆì³¤ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê¸´ ì„¤ì •ì¸ ë§Œí¼, ì§„í–‰ì´ ë§‰íˆëŠ” ë¶€ë¶„ì´ ìˆìœ¼ë©´ í¸í•˜ê²Œ ëŒ“ê¸€ë¡œ ì•Œë ¤ì£¼ì„¸ìš”!&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 1. í•˜ë“œì›¨ì–´ í¸</title><link>https://blog.lemondouble.com/p/20ae99fa945edf10/</link><pubDate>Sun, 03 Dec 2023 14:54:33 +0900</pubDate><guid>https://blog.lemondouble.com/p/20ae99fa945edf10/</guid><description>&lt;img src="https://blog.lemondouble.com/p/20ae99fa945edf10/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - 1. í•˜ë“œì›¨ì–´ í¸" />&lt;p>ì²« ì‹œê°„ì€ í•˜ë“œì›¨ì–´ ì‹œê°„ì…ë‹ˆë‹¤! ê°„ë‹¨í•œ ê²ƒë¶€í„° ì¡°ê¸ˆ ë³µì¡í•œ ì´ì•¼ê¸°ë¶€í„°, ë¹ ë¥´ê²Œ ì‹œì‘í•´ ë´…ì‹œë‹¤!&lt;/p>
&lt;h3 id="1-sbc-single-board-computer">1. SBC (Single Board Computer)
&lt;/h3>&lt;p>ì—­ì‹œ ì œì¼ ì¤‘ìš”í•œê±´ SBCê² ì£ ?&lt;/p>
&lt;p>ê°œì¸ì ìœ¼ë¡œëŠ” ë‹¹Xë§ˆì¼“ì— ì•Œë¦¼ ê±¸ì–´ë†“ê³ , &lt;strong>Raspberry PI 4B 4GB ëª¨ë¸ or 8GB&lt;/strong> ëª¨ë¸ì´ ì˜¬ë¼ì˜¬ ë•Œë§ˆë‹¤ í•˜ë‚˜ì”© ë§ì¶”ì‹œëŠ”ê±¸ ì¶”ì²œí•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë ˆí¼ëŸ°ìŠ¤ê°€ ê°€ì¥ ë§ê³ , ì†Œí”„íŠ¸ì›¨ì–´ ìœ ì§€ë³´ìˆ˜ ë° í…ŒìŠ¤íŠ¸ê°€ ì˜ ì§„í–‰ë˜ë©°, ì¤‘ê³ ë¡œ êµ¬ì…í•˜ëŠ” ê²½ìš° ê°€ê²©ì  ë””ë©”ë¦¬íŠ¸ë„ ì–´ëŠì •ë„ ìƒì‡„ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì°¸ê³ ë¡œ í˜„ì¬ ì ì •ê°€ëŠ” &lt;strong>8~10ë§Œì›&lt;/strong> ì‚¬ì´ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤. (2023.12 ì„œìš¸ ê¸°ì¤€)&lt;/p>
&lt;p>ì°¸ê³ ë¡œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ëŠ” ARM ì•„í‚¤í…ì³ë¥¼ ì‚¬ìš©í•˜ë‹¤ ë³´ë‹ˆ, ì¼ë¶€ X86ë§Œ ì§€ì›í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ êµ´ë¦¬ëŠ” ë° ì–´ë ¤ì›€ì„ ê²ªì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ëŒ€í‘œì ìœ¼ë¡œ ì…€í”„í˜¸ìŠ¤íŠ¸ &lt;a class="link" href="https://sentry.io/" target="_blank" rel="noopener"
>Sentry&lt;/a> ê°€ ìˆìŠµë‹ˆë‹¤.)&lt;/p>
&lt;p>ê²½ì œì  ì—¬ìœ ê°€ ë˜ê³ , ì´ëŸ° ê²½ìš°ë¥¼ í”¼í•˜ê³  ì‹¶ë‹¤ë©´ &lt;strong>Intel NUC&lt;/strong>ë‚˜ ì•Œë¦¬ìµìŠ¤í”„ë ˆìŠ¤ë°œ &lt;strong>N100 íƒ‘ì¬ Mini PC&lt;/strong> ë„ ì¢‹ì€ ì„ íƒì´ ë  ìˆ˜ ìˆì§€ ì‹¶ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="2-ì¼€ì´ìŠ¤">2. ì¼€ì´ìŠ¤
&lt;/h3>&lt;p>ë¼ì¦ˆë² ë¦¬ íŒŒì´ ê¸°ì¤€ìœ¼ë¡ , ì‚¬ì§„ê³¼ ê°™ì€ íƒ€ì›Œ ì¼€ì´ìŠ¤ë¥¼ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/20ae99fa945edf10/image.png"
width="392"
height="250"
srcset="https://blog.lemondouble.com/p/20ae99fa945edf10/image_hu_5bb9f3914e1d16.png 480w, https://blog.lemondouble.com/p/20ae99fa945edf10/image_hu_48ad99749c5686b7.png 1024w"
loading="lazy"
alt="íƒ€ì›Œ ì¼€ì´ìŠ¤"
class="gallery-image"
data-flex-grow="156"
data-flex-basis="376px"
>&lt;/p>
&lt;p>ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , ê°€ê²©ì´ ì‹¸ê³ , ê²°ì •ì ìœ¼ë¡œ &lt;del>ì„  ì •ë¦¬ë¥¼ í•˜ë©´ ì´ë»ì„œ ê¸°ë¶„ì´ ì¢‹ìŠµë‹ˆë‹¤&lt;/del> ì„  ì •ë¦¬ ë° ê´€ë¦¬í•˜ê¸°ê°€ ìš©ì´í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ë‹¨, ê¸°ë³¸ êµ¬ë§¤ì‹œ ë”¸ë ¤ì˜¤ëŠ” ì¿¨ë§ ì‹œìŠ¤í…œì´ ë¶€ì‹¤í•˜ë¯€ë¡œ ë³„ë„ì˜ ì¶”ê°€ ì¿¨ë§ì´ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/20ae99fa945edf10/image-1.png"
width="366"
height="328"
srcset="https://blog.lemondouble.com/p/20ae99fa945edf10/image-1_hu_379f4bbfcfec6e8e.png 480w, https://blog.lemondouble.com/p/20ae99fa945edf10/image-1_hu_ae90668654ce944e.png 1024w"
loading="lazy"
alt="5V Fan"
class="gallery-image"
data-flex-grow="111"
data-flex-basis="267px"
>&lt;/p>
&lt;p>ìœ„ ì‚¬ì§„ê³¼ ê°™ì€ 5V íŒ¬ì„ í´ëŸ¬ìŠ¤í„° ë…¸ë“œ ì¤‘ í•˜ë‚˜ì— ê¼½ì•„ì„œ ì‚¬ìš©í•˜ê±°ë‚˜, (5V íŒ¬ ë¼ì¦ˆë² ë¦¬ íŒŒì´ ë¼ê³  ê²€ìƒ‰í•˜ë©´ ìë£Œê°€ ë§ì´ ë‚˜ì˜µë‹ˆë‹¤.) í•¸ë”” ì„ í’ê¸° ë“±ì„ ì˜†ì— ë†”ë‘¬ì£¼ëŠ”ê±¸ ì¶”ì²œí•©ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="3-ì „ë ¥-ê³µê¸‰ê¸°">3. ì „ë ¥ ê³µê¸‰ê¸°
&lt;/h3>&lt;p>ë¼ì¦ˆë² ë¦¬ íŒŒì´ 4B ëª¨ë¸ì„ ê¸°ì¤€ìœ¼ë¡œ, í•œ ì»´í“¨í„°ì—ëŠ” 15W (5V 3A)ì˜ ì „ì› ê³µê¸‰ì´ í•„ìš”í•©ë‹ˆë‹¤. (&lt;a class="link" href="https://www.raspberrypi.com/products/raspberry-pi-4-model-b/" target="_blank" rel="noopener"
>Link&lt;/a>, A 15Wë¡œ ê²€ìƒ‰)&lt;/p>
&lt;p>ë”°ë¼ì„œ, íŒŒì´ í•˜ë‚˜ë‹¹ 15Wì˜ ì „ë ¥ì„ í•„ìš”ë¡œ í•˜ê³ , ë§Œì•½ 4ëŒ€ì˜ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•œë‹¤ë©´ ìµœëŒ€ &lt;strong>60W&lt;/strong> ì¶œë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/20ae99fa945edf10/image-2.png"
width="869"
height="595"
srcset="https://blog.lemondouble.com/p/20ae99fa945edf10/image-2_hu_957cea7bb29e0740.png 480w, https://blog.lemondouble.com/p/20ae99fa945edf10/image-2_hu_6abc4470728050db.png 1024w"
loading="lazy"
alt="ë©€í‹°ì¶©ì „ê¸° ì˜ˆì‹œ, ì•„ë˜ USB A íƒ€ì…ì´ ì´ 20Wì´ë‹¤."
class="gallery-image"
data-flex-grow="146"
data-flex-basis="350px"
>&lt;/p>
&lt;p>ë”°ë¼ì„œ, ì˜ˆë¥¼ ë“¤ì–´ ìœ„ì™€ ê°™ì€ ì¶©ì „ê¸°ì˜ USB Aíƒ€ì… (ì•„ë˜ 4ê°œ) ì— ë³‘ë ¬ ì—°ê²°í•˜ë©´ ìš”êµ¬ ìš©ëŸ‰ë³´ë‹¤ ê³µê¸‰ ìš©ëŸ‰ì´ ì ì–´ ì¶©ì „ê¸°ê°€ ê³¼ë¶€í•˜ê°€ ê±¸ë¦¬ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>5V 3Aë¥¼ ê³µê¸‰í•´ ì£¼ëŠ” ì¶©ì „ê¸°ê°€ ì‹œì¤‘ì— ë§ì§€ ì•Šì•„ (ëŒ€ë¶€ë¶„ 2.1A ë˜ëŠ” 2.4A Maxì…ë‹ˆë‹¤.) ì „ìš© ì¶©ì „ê¸°ë¥¼ ì‚¬ëŠ”ê²Œ ì•„ë‹ˆë¼ë©´ ì–´ëŠì •ë„ ê³¼ë¶€í•˜ê°€ ê±¸ë¦¬ê²Œ ë˜ê³ , ê²½í—˜ìƒ 1A ì°¨ì´ ì •ë„ëŠ” í° ë¬¸ì œê°€ ì—†ì—ˆì§€ë§Œ, &lt;strong>ë©€í‹° ì¶©ì „ê¸°ì— 4ëŒ€ë¥¼ ì—°ê²°í•˜ëŠ” ë“±ì˜&lt;/strong> ì—°ê²°ì€ ìì œí•˜ë„ë¡ í•©ì‹œë‹¤.&lt;/p>
&lt;p>ë©€í‹° ì¶©ì „ê¸°ì—ì„œ 5V 3A.. ì•„ë‹ˆ 5V 2.4Aë¥¼ ì—¬ëŸ¬ í¬íŠ¸ì— ê³µê¸‰í•´ ì£¼ëŠ” ë©€í‹° ì¶©ì „ê¸°ë„ íŒë§¤í•˜ëŠ” ê³³ì´ ì—†ìœ¼ë¯€ë¡œ, ë§Œì•½ ì „ì› ê³µê¸‰ ì„ ì„ ì •ë¦¬í•˜ê³  ì‹¶ë‹¤ë©´ SMPS(Switching Mode Power Supply) ë¼ëŠ” ì „ë ¥ ê³µê¸‰ê¸°ë¥¼ ì‚¬ëŠ” ê²ƒì´ ì œì¼ ì•ˆì „í•œ ë°©ë²•ì¼ ê²ƒì…ë‹ˆë‹¤. ì´ ë‚´ìš©ì€ ë‚˜ì¤‘ì— ê¸°íšŒê°€ ëœë‹¤ë©´ í¬ìŠ¤íŒ…í•˜ê² ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê²°ë¡ ì ìœ¼ë¡œ, ì „ë ¥ ê³µê¸‰ì€&lt;/p>
&lt;ol>
&lt;li>ë©€í‹° ì¶©ì „ê¸°ë¥¼ ì‚¬ìš©í•œë‹¤ë©´, ì´ ì „ë ¥ëŸ‰ì„ ì˜ ë³´ê³ , ì§€ë‚˜ì¹˜ê²Œ ê³¼ë¶€í•˜ë˜ì§€ ì•Šë„ë¡ ì„ ì„ ë¶„ë°°í•˜ê¸° (6í¬íŠ¸ ì¶©ì „ê¸°ê°€ ìˆë‹¤ê³ , 6ê°œì— ë‹¤ ê¼½ìœ¼ë©´ ì•ˆ ë©ë‹ˆë‹¤!)&lt;/li>
&lt;li>ì•„ë‹ˆë¼ë©´ 2.1Vì§œë¦¬ 1êµ¬ ì¶©ì „ê¸°ë¥¼ ì—¬ëŸ¬ê°œ ì‚¬ì„œ ê¼½ê¸°&lt;/li>
&lt;/ol>
&lt;p>ì •ë„ë¡œ ì¼ë‹¨ ì •ë¦¬í•´ ë³¼ ìˆ˜ ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="4-ssdì™€-usb-uaspusb-attached-scsi-protocol">4. SSDì™€ USB UASP(USB Attached SCSI Protocol)
&lt;/h3>&lt;p>ë¼ì¦ˆë² ë¦¬ íŒŒì´ëŠ” ë³„ë„ë¡œ Sata ì„ ì´ë‚˜ NVME ìŠ¬ë¡¯ì´ ì—†ì–´ USBë¥¼ í†µí•´ SSDë¥¼ ì—°ê²°í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ ë•Œ, &lt;strong>SATA3&lt;/strong> ì„ ì‚¬ìš©í•˜ëŠ” SSDì˜ ì „ì†¡ ì†ë„ëŠ” ìµœëŒ€ &lt;strong>6Gbps&lt;/strong>ì´ê³ , &lt;strong>USB 3.0&lt;/strong>ì˜ ì „ì†¡ ì†ë„ëŠ” ìµœëŒ€ &lt;strong>5Gbps&lt;/strong> ì…ë‹ˆë‹¤. (ë¬¼ë¡ , ì´ë¡ ì ì¸ ì†ë„ì´ë©° ì‹¤ì œë¡œëŠ” ì´ê²ƒë³´ë‹¤ í›¨ì”¬ ëœ ë‚˜ì˜µë‹ˆë‹¤.)&lt;/p>
&lt;p>ê·¸ëŸ°ë°, USB3.0ì—ì„œ UASPë¼ëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°, USB 3.0ì´ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ”ë° ë¹„íš¨ìœ¨ì ì¸ ë°©ë²•ìœ¼ë¡œ ì£¼ê³  ë°›ì•„ (ìì„¸íˆ ì„¤ëª…í•˜ë©´ ë„ˆë¬´ ê¸¸ì–´ì§€ë¯€ë¡œ ìƒëµ..), UASP(USB Attached SCSI Protocol) ë¼ëŠ” í”„ë¡œí† ì½œì„ ì§€ì›í•˜ëŠ” ì¼€ì´ë¸”/ì»¤ë„¥í„°ë¥¼ ì‚¬ìš©í•´ì•¼ ì „ì²´ ì“°ë£¨í’‹ì„ ì†ì‹¤ ì—†ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ°ë° ëª‡ì²œì›ì§œë¦¬ ì‹¼ ì €ë ´ì´ ì„ ë“¤ì€ ì´ UASP í”„ë¡œí† ì½œì„ ì§€ì›í•˜ì§€ ì•Šì•„, êµ¬ì…í•˜ì‹œê¸° ì „ì— UASP í”„ë¡œí† ì½œì„ ì§€ì›í•˜ëŠ” í”„ë¡œí† ì½œì¸ì§€ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>ì €ì˜ ê²½ìš°ëŠ” &lt;code>ìƒˆë¡œí… FHD-260U3&lt;/code>ì„ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë©° (ë°”ì´ëŸ´ ì•„ë‹˜), Aliexpressì˜ &lt;code>Ugreen&lt;/code>ì‚¬ì˜ ì¼€ì´ë¸”ë„ ê´œì°®ë‹¤ëŠ” í‰ì„ ë“£ê³  ìˆëŠ” ê²ƒìœ¼ë¡œ ì•Œê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì•„ë˜ëŠ” ì œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì…ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/20ae99fa945edf10/image-3.png"
width="561"
height="77"
srcset="https://blog.lemondouble.com/p/20ae99fa945edf10/image-3_hu_f4ebd80ccf6eec1c.png 480w, https://blog.lemondouble.com/p/20ae99fa945edf10/image-3_hu_80a26aaae2913030.png 1024w"
loading="lazy"
alt="hdparm ì½ê¸° ì†ë„ í…ŒìŠ¤íŠ¸"
class="gallery-image"
data-flex-grow="728"
data-flex-basis="1748px"
>&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/20ae99fa945edf10/image-4.png"
width="744"
height="64"
srcset="https://blog.lemondouble.com/p/20ae99fa945edf10/image-4_hu_628988dff6622ce3.png 480w, https://blog.lemondouble.com/p/20ae99fa945edf10/image-4_hu_c9b493f421d66f9b.png 1024w"
loading="lazy"
alt="dd ì“°ê¸° ì†ë„ í…ŒìŠ¤íŠ¸"
class="gallery-image"
data-flex-grow="1162"
data-flex-basis="2790px"
>&lt;/p>
&lt;ul>
&lt;li>ê°™ì´ ë³´ë©´ ì¢‹ì€ ê²Œì‹œê¸€ : &lt;a class="link" href="https://www.jeffgeerling.com/blog/2020/uasp-makes-raspberry-pi-4-disk-io-50-faster" target="_blank" rel="noopener"
>UASP makes Raspberry Pi 4 disk IO 50% faster&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>ê·¸ë¦¬ê³  SSDì˜ ê²½ìš°ëŠ”, ì ë‹¹íˆ í•«ë”œ ë–´ì„ ë•Œ SATA3 ì‚¬ìš©í•˜ëŠ” SSDë¡œ ì•„ë¬´ê±°ë‚˜ ì£¼ì›Œì˜¤ì‹œë©´(?) ë©ë‹ˆë‹¤&lt;/p>
&lt;h3 id="5-ë„¤íŠ¸ì›Œí¬-ì¥ë¹„">5. ë„¤íŠ¸ì›Œí¬ ì¥ë¹„
&lt;/h3>&lt;p>ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ì€ ì´í›„ ì‹œìŠ¤í…œ êµ¬ì¶•ì‹œ ì´ì•¼ê¸°í•  ê¸°íšŒê°€ ë§ìœ¼ë‹ˆ, ì¥ë¹„ë§Œ ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ë©´&lt;/p>
&lt;p>ìŠ¤ìœ„ì¹˜í—ˆë¸Œë¡œëŠ” ì €ëŠ” ì ë‹¹íˆ &lt;code>ipTIME H6008-IGMP&lt;/code>ë¥¼ ì‚¬ìš©í•˜ì˜€ëŠ”ë°, 1Gbps ì´ìƒì„ ì§€ì›í•˜ëŠ” ìŠ¤ìœ„ì¹˜í—ˆë¸Œë¼ë©´ ì•„ë¬´ê±°ë‚˜ êµ¬ë§¤í•˜ì…”ë„ ìƒê´€ì—†ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë§ˆì°¬ê°€ì§€ë¡œ, ëœì„ ë„ Cat5e ì´ìƒ(ì•„ë¬´ê±°ë‚˜ ì‚¬ë©´ ë³´í†µ Cat5e ì´ìƒì…ë‹ˆë‹¤.) ìœ¼ë¡œ ì‚¬ë©´ ë¬¸ì œ ì—†ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ë§ˆì¹˜ë©°">ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>1í¸ì—ì„  ì•ˆì •ì ì¸ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•œ í•˜ë“œì›¨ì–´ì— ëŒ€í•´ ê°„ë‹¨íˆ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>í˜¹ì‹œë¼ë„ ì˜ëª»ëœ ë¶€ë¶„ì´ë‚˜, ìˆ˜ì •í•  ë¶€ë¶„ì´ ìˆë‹¤ë©´ ì•Œë ¤ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤!&lt;/p></description></item><item><title>ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - ì„œë¡ </title><link>https://blog.lemondouble.com/p/d42387934c57aa25/</link><pubDate>Sun, 03 Dec 2023 13:24:05 +0900</pubDate><guid>https://blog.lemondouble.com/p/d42387934c57aa25/</guid><description>&lt;img src="https://blog.lemondouble.com/p/d42387934c57aa25/cover.png" alt="Featured image of post ì§‘ì—ì„œ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¡œ ë°ì´í„°ì„¼í„° ì°¨ë¦¬ê¸° - ì„œë¡ " />&lt;h3 id="ì²˜ìŒ-ë¼ì¦ˆë² ë¦¬-íŒŒì´-í´ëŸ¬ìŠ¤í„°ë¥¼-êµ¬ì¶•í•œ-ì§€-ëŒ€ëµ-300ì¼ì´-ì§€ë‚¬ìŠµë‹ˆë‹¤">ì²˜ìŒ ë¼ì¦ˆë² ë¦¬ íŒŒì´ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì¶•í•œ ì§€ ëŒ€ëµ 300ì¼ì´ ì§€ë‚¬ìŠµë‹ˆë‹¤.
&lt;/h3>&lt;p>ê³„ê¸°ëŠ” ì‚¬ì‹¤ ê·¸ë ‡ê²Œ í¬ì§„ ì•Šì•˜ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì €ëŠ” ë§¤ì¼ ì•„ì¹¨ &lt;a class="link" href="https://news.hada.io/" target="_blank" rel="noopener"
>GeekNews&lt;/a> ë¼ëŠ” ë‰´ìŠ¤ íë ˆì´íŒ… ì„œë¹„ìŠ¤ë¥¼ ë³´ë©° ì¶œê·¼í•˜ëŠ”ë°, ê·¸ ì¤‘ &lt;a class="link" href="https://news.hada.io/topic?id=8306" target="_blank" rel="noopener"
>Chick-Fil-A ì˜ Edge Computing ê¸°ìˆ  ì•„í‚¤í…ì²˜ : Enterprise Restaurant Compute&lt;/a> ë¼ëŠ” ê¸€ì´ ëˆˆì— ë³´ì˜€ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ ë’¤ë¡œ ì¹™í•„ë ˆë„ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ êµ´ë¦¬ëŠ”ë°, ì„œë²„ ì—”ì§€ë‹ˆì–´ë¡œì¨ ë‚˜ë„ ê´€ë¦¬í•˜ëŠ” í´ëŸ¬ìŠ¤í„° í•˜ë‚˜ì¯¤ ìˆì–´ì•¼ í•˜ì§€ ì•Šì„ê¹Œ? ê°€ ëª¨ë“  ì¼ì˜ ì‹œì‘ì´ì—ˆìŠµë‹ˆë‹¤..&lt;/p>
&lt;h3 id="êµ¬ì„±-í™˜ê²½">êµ¬ì„± í™˜ê²½
&lt;/h3>&lt;p>ì œ ì˜¥íƒ‘ë°©(&amp;hellip;) í´ëŸ¬ìŠ¤í„°ëŠ” ëŒ€ëµ ì´ë ‡ê²Œ ìƒê²¼ìŠµë‹ˆë‹¤.
&lt;img src="https://blog.lemondouble.com/p/d42387934c57aa25/image.png"
width="1204"
height="833"
srcset="https://blog.lemondouble.com/p/d42387934c57aa25/image_hu_a1b4e9f8a1afd449.png 480w, https://blog.lemondouble.com/p/d42387934c57aa25/image_hu_c8f7e1471e55fe82.png 1024w"
loading="lazy"
alt="Alt text"
class="gallery-image"
data-flex-grow="144"
data-flex-basis="346px"
>
&lt;img src="https://blog.lemondouble.com/p/d42387934c57aa25/image-1.png"
width="667"
height="831"
srcset="https://blog.lemondouble.com/p/d42387934c57aa25/image-1_hu_959a217906f8b7a5.png 480w, https://blog.lemondouble.com/p/d42387934c57aa25/image-1_hu_79ccb39c395feb14.png 1024w"
loading="lazy"
alt="Alt text"
class="gallery-image"
data-flex-grow="80"
data-flex-basis="192px"
>&lt;/p>
&lt;p>êµ¬ì„± ìŠ¤í™ì„ ì •ë¦¬í•´ë³´ìë©´,&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Control Node&lt;/strong>
&lt;ul>
&lt;li>Raspberry PI 4b+ 8GB Model * 1&lt;/li>
&lt;li>Samsung MUF-AB FIT PLUS 64GB USB&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>ARM Worker + Storage Node&lt;/strong>
&lt;ul>
&lt;li>Raspberry PI 4b+ 8GB Model + 500GB SSD(PNY CS900 500GB) * 3&lt;/li>
&lt;li>Sandisk USB Ultra Fit USB 3.1 32GB * 3&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;strong>GPU X86 Worker Node (For ML)&lt;/strong>
&lt;ul>
&lt;li>Ryzen 5600x + 64GB DDR4 3200 RAM + GTX3090 + NVME SSD(WD Black) 1TB + WD RED Plus 4TB HDD&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ê³¼ ê°™ì´ êµ¬ì„±í•˜ì—¬ ì´ ë¼ì¦ˆë² ë¦¬ íŒŒì´ 4ëŒ€, X86 GPU ì„œë²„ 1ëŒ€ë¡œ X86, ARM í˜¼í•© í´ëŸ¬ìŠ¤í„°ë¥¼ ìš´ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë¼ì¦ˆë² ë¦¬ íŒŒì´ì˜ ë””ìŠ¤í¬ I/OëŠ” ì•ˆì •ì„±ì„ ìœ„í•´ SDì¹´ë“œ ëŒ€ì‹  USB ë””ìŠ¤í¬ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ì–´-control-nodeê°€-1ëŒ€ë°–ì—-ì—†ìœ¼ë©´-ha-ëª»í•˜ëŠ”ê±°-ì•„ë‹ˆì—ìš”">ì–´? Control Nodeê°€ 1ëŒ€ë°–ì— ì—†ìœ¼ë©´ HA ëª»í•˜ëŠ”ê±° ì•„ë‹ˆì—ìš”?
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>ì²« í´ëŸ¬ìŠ¤í„° êµ¬ì¶• ì‹œì˜ ì œì¼ í° ê³ ë¯¼ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>3ëŒ€ ì´ìƒì„ HAë¡œ êµ¬ì„±í•˜ë©´ ì•ˆì „í•˜ì§€ë§Œ, PIì˜ ì—°ì‚°ëŠ¥ë ¥ì´ ê·¸ë ‡ê²Œ ë§ì§€ ì•Šë‹¤ëŠ” ê±¸ ê°ì•ˆí–ˆì„ ë•Œ, ê°€ëŠ¥í•œ ë‚­ë¹„ë˜ëŠ” ì»´í“¨íŒ… íŒŒì›Œë¥¼ ì¤„ì´ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ê·¸ ê²°ë¡ ìœ¼ë¡œ, &lt;strong>Master NodeëŠ” í•˜ë‚˜ë¡œ&lt;/strong> ë‘” ë’¤, ì•„ë˜ì™€ ê°™ì€ ì•ˆì „ì¥ì¹˜ë¥¼ ë§ˆë ¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;ul>
&lt;li>etcd ëŒ€ì‹  &lt;strong>External Database&lt;/strong>ë¥¼ ìƒíƒœ ì €ì¥ì†Œë¡œ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.
&lt;ul>
&lt;li>í˜„ì¬ëŠ” &lt;strong>Supabase&lt;/strong> ì œê³µ Postgresqlì„ ì™¸ë¶€ ì €ì¥ì†Œë¡œ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Master NodeëŠ” Taintë¥¼ ê±¸ì–´ Job schedulingì´ ë¶ˆê°€í•˜ê²Œ ì„¤ì •í•´ ë‘ì—ˆìŠµë‹ˆë‹¤.
&lt;ul>
&lt;li>ì´ë¥¼ í†µí•´, ì‘ì—… í• ë‹¹ ë„ì¤‘ ë§ˆìŠ¤í„° ë…¸ë“œê°€ ê°‘ì‘ìŠ¤ëŸ½ê²Œ ì‚¬ë§í•˜ê±°ë‚˜ í•˜ëŠ” ì¼ì„ ì¤„ì˜€ìŠµë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Mater Nodeì—ëŠ” ì¡°ê¸ˆ ë” ì‹ ë¢°ì„±ìˆëŠ” ì¥ë¹„ë¥¼ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤. (USB, ì¿¨ëŸ¬ ë“±)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  Matser Nodeê°€ ì—¬ë¦„ì— ê³¼ì—´ë¡œ(..) USBê°€ ì‚¬ë§í•œ ì ì´ ìˆìœ¼ë‚˜, ëª¨ë“  Stateê°€ ì™¸ë¶€ DBì— ì¡´ì¬í•˜ë¯€ë¡œ 10ë¶„ ì´ë‚´ë¡œ ë³µêµ¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;h3 id="í˜„ì¬-ì†Œí”„íŠ¸ì›¨ì–´ì ìœ¼ë¡œ-êµ¬ì¶•í•œ-ë‚´ìš©">í˜„ì¬ ì†Œí”„íŠ¸ì›¨ì–´ì ìœ¼ë¡œ êµ¬ì¶•í•œ ë‚´ìš©
&lt;/h3>&lt;ol>
&lt;li>K3Sì™€ External DBë¥¼ ì´ìš©í•˜ì—¬, ë§Œì•½ Master Nodeê°€ ë‹¤ìš´ë˜ì–´ë„ ë³µêµ¬í•  ìˆ˜ ìˆë„ë¡ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ArgoCDì™€ Githubë¥¼ ì´ìš©í•˜ì—¬, GitOps ì‹œìŠ¤í…œì„ êµ¬ì¶•í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="https://www.mend.io/renovate/" target="_blank" rel="noopener"
>Mend Renovate&lt;/a> ë¥¼ ì´ìš©í•˜ì—¬, ì„¤ì¹˜í•œ Helm Chart ë° Private Registryì˜ ìƒˆ ë²„ì „ì´ ë‚˜ì˜¤ë©´ ìë™ìœ¼ë¡œ PRì„ ìƒì„±í•˜ê³ , í´ëŸ¬ìŠ¤í„°ë¥¼ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/longhorn/longhorn" target="_blank" rel="noopener"
>Longhorn&lt;/a>ì„ ì´ìš©í•˜ì—¬ ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ë¥¼ êµ¬í˜„, ë§Œì•½ SSD í•˜ë‚˜ê°€ ë‚˜ê°€ë”ë¼ë„ ë³µêµ¬í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì„ êµ¬ì¶•í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>Docker Private Registryë¥¼ êµ¬ì¶•í•˜ê³ , &lt;a class="link" href="https://github.com/klausmeyer/docker-registry-browser" target="_blank" rel="noopener"
>Docker-registry-browser&lt;/a> ë¥¼ ì´ìš©í•˜ì—¬ ì—…ë¡œë“œëœ ì´ë¯¸ì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” GUIë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/bitnami-labs/sealed-secrets" target="_blank" rel="noopener"
>Sealed-secrets&lt;/a>ë¥¼ ì´ìš©í•˜ì—¬ Secretì„ ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—†ì´ Gitì— ì €ì¥í•˜ì—¬ ê´€ë¦¬í•©ë‹ˆë‹¤. ë˜í•œ &lt;a class="link" href="https://github.com/Jaydee94/kubeseal-webgui" target="_blank" rel="noopener"
>Kubeseal-webgui&lt;/a> ë¥¼ ì´ìš©í•˜ì—¬ GUIë¥¼ ì´ìš©í•˜ì—¬ Secretì„ í¸í•˜ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” í™”ë©´ì„ ë§Œë“­ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack" target="_blank" rel="noopener"
>kube-prometheus-stack&lt;/a> ì„ ì´ìš©í•˜ì—¬ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="https://cloudnative-pg.io/" target="_blank" rel="noopener"
>CloudNativePG&lt;/a> ë¥¼ ì´ìš©í•˜ì—¬ HA Postgres ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³ , í˜¹ì‹œ ëª¨ë¥¼ ì‚¬ê³ ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ AWS ë“±ì— ìë™ ë°±ì—… ì‹œìŠ¤í…œì„ êµ¬ì¶•í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="https://www.portainer.io/" target="_blank" rel="noopener"
>Portainer&lt;/a> ë¥¼ ì´ìš©í•˜ì—¬ ì›¹ UIë¥¼ ê¸°ë°˜ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„° ê´€ë¦¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“­ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="https://metallb.universe.tf/" target="_blank" rel="noopener"
>MetalLB&lt;/a> ì„¤ì •ì„ í†µí•´ ë‚´ë¶€ë§ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ ì—”ë“œí¬ì¸íŠ¸, ì„œë¹„ìŠ¤ë¥¼ ì‰½ê²Œ êµ¬ì¶•í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/NVIDIA/k8s-device-plugin" target="_blank" rel="noopener"
>nvidia-device-plugin&lt;/a> ì„ ì´ìš©í•˜ì—¬ ì¿ ë²„ë„¤í‹°ìŠ¤ ìƒì—ì„œ ì»¨í…Œì´ë„ˆê°€ CUDA ë“±ì˜ ë””ë°”ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/thomseddon/traefik-forward-auth" target="_blank" rel="noopener"
>traefik-forward-auth&lt;/a> ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì•„ì´ë””ì–´ë¥¼ ì°¨ìš©í•˜ì—¬, ìì²´ ì¸ì¦ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•©ë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ ì´ì™¸ì— SSO ë¡œê·¸ì¸ì„ í†µí•´ ë‚´ë¶€ ê´€ë¦¬ ì‹œìŠ¤í…œì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ í•©ë‹ˆë‹¤.&lt;/li>
&lt;/ol>
&lt;h3 id="ì•ìœ¼ë¡œ-ì“¸-ê¸€">ì•ìœ¼ë¡œ ì“¸ ê¸€
&lt;/h3>&lt;p>ì•ìœ¼ë¡œëŠ”, ì œê°€ êµ¬ì¶•í•œ ë‚´ìš©ì„ ë³µê¸°í•˜ë©° í•˜ë“œì›¨ì–´ë¶€í„° ì†Œí”„íŠ¸ì›¨ì–´, ì‹œìŠ¤í…œ êµ¬ì¶•ê¹Œì§€ì˜ ë‚´ìš©ì„ ì‹œê°„ ë‚  ë•Œë§ˆë‹¤ í•˜ë‚˜ì”© ì¶”ê°€í•  ì˜ˆì •ì…ë‹ˆë‹¤.
ìœ„ëŠ” ìˆœì„œ ì—†ì´ ë‚˜ì—´í•œ ë‚´ìš©ì´ë©°, ê¸€ì„ ì ë‹¤ ë³´ë©´ ë‚´ìš©ì´ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë§ë¶™ì—¬, í•´ë‹¹ êµ¬ì¶• ê°€ì´ë“œëŠ” 2023.12 ê¸°ì¤€ìœ¼ë¡œ ì œê°€ ì§ì ‘ ë”°ë¼ê°€ë©° ì •ìƒ ë™ì‘ì„ í™•ì¸í•œ ë°©ë²•ì…ë‹ˆë‹¤.&lt;/p>
&lt;h3 id="ì„œë¡ ì„-ë§ˆì¹˜ë©°">ì„œë¡ ì„ ë§ˆì¹˜ë©°
&lt;/h3>&lt;p>í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì¶•í•˜ë©° ê´€ë ¨ ìë£Œë¥¼ ì—´ì‹¬íˆ ì°¾ì•„ë´¤ëŠ”ë°,&lt;/p>
&lt;p>ì˜ì™¸ë¡œ ì´ëŸ° ìë£Œê°€ ê·¸ë ‡ê²Œ ë§ì§€ ì•Šë‹¨ ê²ƒì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
&lt;a class="link" href="https://github.com/VladoPortos" target="_blank" rel="noopener"
>VladoPortos&lt;/a> ë‹˜ì˜ &lt;a class="link" href="https://rpi4cluster.com/" target="_blank" rel="noopener"
>Kubernetes with OpenFaaS on Raspberry Pi 4&lt;/a> ìë£Œê°€ ë„ì›€ì´ ë§ì´ ë˜ì—ˆì§€ë§Œ, êµ­ë‚´ ìë£Œê°€ ê·¸ë¦¬ ë§ì§€ ì•Šì€ ê²ƒì´ ì•„ì‰¬ì› ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ë¯¸ì•½í•˜ë‚˜ë§ˆ, ì´ ê°€ì´ë“œê°€ ë¹„ìŠ·í•œ ê¸¸ì„ ê°œì²™í•˜ë ¤ëŠ” ë¶„ê»˜ ë„ì›€ì´ ë˜ê¸¸ ë°”ëë‹ˆë‹¤.&lt;/p></description></item><item><title>ë‚´ê°€ ë³´ë ¤ê³  ì“°ëŠ” K8S ë¦¬ì†ŒìŠ¤ ì •ë¦¬</title><link>https://blog.lemondouble.com/p/f13e7c85c56b2c7c/</link><pubDate>Thu, 26 Jan 2023 23:15:42 +0900</pubDate><guid>https://blog.lemondouble.com/p/f13e7c85c56b2c7c/</guid><description>&lt;img src="https://blog.lemondouble.com/p/f13e7c85c56b2c7c/cover.png" alt="Featured image of post ë‚´ê°€ ë³´ë ¤ê³  ì“°ëŠ” K8S ë¦¬ì†ŒìŠ¤ ì •ë¦¬" />&lt;ul>
&lt;li>&lt;code>k get pod &amp;lt;podname&amp;gt; -o&lt;/code> ë˜ëŠ” &lt;code>k describe pod &amp;lt;podname&amp;gt;&lt;/code>: ìƒíƒœ ì •ë³´ ìì„¸íˆ í™•ì¸&lt;/li>
&lt;li>&lt;code>k logs -f &amp;lt;podname&amp;gt; -c &amp;lt;container-name&amp;gt;&lt;/code> : ë¡œê·¸ í™•ì¸&lt;/li>
&lt;li>&lt;code>k get pod &amp;lt;podname&amp;gt; --show-lables&lt;/code> : Label ì •ë³´ í™•ì¸&lt;/li>
&lt;/ul>
&lt;h3 id="1-pod">1. Pod
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>í•˜ë‚˜ ì´ìƒì˜ Containerì˜ ì§‘í•©&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ì‹¤í–‰ì˜ ìµœì†Œ ë‹¨ìœ„&lt;/p>
&lt;/li>
&lt;li>
&lt;p>íŠ¹ì§•&lt;/p>
&lt;ul>
&lt;li>ì—¬ëŸ¬ Containerë¡œ êµ¬ì„±ë˜ì—ˆë‹¤ë©´, í•­ìƒ ë™ì¼ Nodeì— í• ë‹¹&lt;/li>
&lt;li>ê³ ìœ  Pod IP í• ë‹¹ (Podë‹¹ í•˜ë‚˜)&lt;/li>
&lt;li>Pod ë‚´ì˜ Containerë“¤ì€ ë„¤íŠ¸ì›Œí¬ ê³µìœ , ë”°ë¼ì„œ Localhostë¡œ ì ‘ê·¼ ê°€ëŠ¥&lt;/li>
&lt;li>Volume ê³µìœ &lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Podì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” State&lt;/p>
&lt;ul>
&lt;li>&lt;code>Pending&lt;/code> : Master Nodeì— ìƒì„± ëª…ë ¹ì€ ì „ë‹¬ë˜ì—ˆì§€ë§Œ ìƒì„±ë˜ì§€ ì•Šì€ ìƒíƒœ&lt;/li>
&lt;li>&lt;code>ContainerCreating&lt;/code> : íŠ¹ì • Nodeì— í• ë‹¹ë˜ì–´ ìƒì„± ì¤‘ (ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë“±..)&lt;/li>
&lt;li>&lt;code>Running&lt;/code> : ì •ìƒ ì‹¤í–‰ ì¤‘&lt;/li>
&lt;li>&lt;code>Completed&lt;/code> : í•œë²ˆ ì‹¤í–‰ë˜ê³  ì¢…ë£Œë˜ëŠ” Pod (ë°°ì¹˜ ì‘ì—… ë“±..) ì‘ì—…ì´ ì™„ë£Œëœ ê²½ìš°&lt;/li>
&lt;li>&lt;code>Error&lt;/code> : Podì— ë¬¸ì œ ë°œìƒí•œ ê²½ìš°&lt;/li>
&lt;li>&lt;code>CrashLoopBackOff&lt;/code> : ì§€ì†ì ìœ¼ë¡œ ì—ëŸ¬ê°€ ë°œìƒí•´ Crashê°€ ë°˜ë³µë˜ëŠ” ìƒíƒœ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>spec.restartPolicy&lt;/p>
&lt;ul>
&lt;li>&lt;code>Always&lt;/code> : ì¢…ë£Œì‹œ í•­ìƒ ì¬ì‹œì‘ (default)&lt;/li>
&lt;li>&lt;code>Never&lt;/code> : ì¬ì‹œì‘ X&lt;/li>
&lt;li>&lt;code>OnFailure&lt;/code> : ì‹¤íŒ¨í•œ ê²½ìš°ì—ë§Œ ì¬ì‹œì‘ (ì •ìƒ ì¢…ë£Œë˜ë©´ ì¬ì‹œì‘ë˜ì§€ ì•ŠìŒ)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ìƒíƒœ í™•ì¸&lt;/p>
&lt;ul>
&lt;li>&lt;code>livenessProbe&lt;/code> : Podì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ê³  ìˆëŠ”ì§€ í™•ì¸&lt;/li>
&lt;li>&lt;code>readnessProbe&lt;/code> : Podì´ ìƒì„±ë˜ê³  ë‚œ í›„, íŠ¸ë˜í”½ì„ ë°›ì„ ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸ (READY 0/1 ìƒíƒœë¡œ í™•ì¸ ê°€ëŠ¥)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="2-service">2. Service
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Reverse Proxy ìƒê°í•˜ë©´ ì‰¬ì›€. Podì€ ë¶ˆì•ˆì •í•œë° ê·¸ ì•ì— ì„œì„œ ì•ˆì •ì ì¸ Endpoint ì œê³µ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>DNSì™€ ë¹„ìŠ·í•˜ê²Œ Service ì´ë¦„ìœ¼ë¡œ ì—°ê²° ê°€ëŠ¥. myserviceë¼ëŠ” serviceë¥¼ ìƒì„±í–ˆë‹¤ë©´ myserviceë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì—°ê²° ê°€ëŠ¥&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Serviceì˜ DNS&lt;/p>
&lt;ul>
&lt;li>&lt;code>&amp;lt;ServiceName&amp;gt;.&amp;lt;Namespace&amp;gt;.svc.cluster.local&lt;/code>&lt;/li>
&lt;li>ì˜ˆì‹œ : default Namespaceì˜ myservice -&amp;gt; &lt;code>myservice.default.svc.cluster.local&lt;/code>&lt;/li>
&lt;li>svc.cluster.localì€ K8S ê¸°ë³¸ê°’&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ServiceëŠ” ì–´ë–»ê²Œ DNSë¥¼ ê°€ì§ˆê¹Œ?&lt;/p>
&lt;ul>
&lt;li>&lt;code>k exec client -- cat /etc/resolve.conf&lt;/code> ë¡œ Podì˜ DNS ì„¤ì • í™•ì¸ -&amp;gt; Nameserverì˜ IP í™•ì¸ ê°€ëŠ¥&lt;/li>
&lt;li>&lt;code>k get svc -n kube-system&lt;/code> ì…ë ¥í•˜ë©´ ë‚˜ì˜¤ëŠ” CoreDNSê°€ í•´ë‹¹ IP&lt;/li>
&lt;li>CoreDNSë¼ëŠ” ì„œë¹„ìŠ¤ í†µí•´ DNS ì‚¬ìš© ê°€ëŠ¥&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Serviceì˜ ì¢…ë¥˜&lt;/p>
&lt;ul>
&lt;li>&lt;code>ClusterIP&lt;/code> : (default) K8S í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥.&lt;/li>
&lt;li>&lt;code>NodePort&lt;/code> : Localhostì˜ íŠ¹ì • Portë¥¼ Serviceì˜ íŠ¹ì • í¬íŠ¸ì™€ ì—°ê²° (Docker ìƒê°í•˜ê¸°)
&lt;ul>
&lt;li>ë‹¨, NodeportëŠ” ëª¨ë“  Nodeì˜ íŠ¹ì • í¬íŠ¸ë¥¼ í•´ë‹¹ Serviceë¡œ ì—°ê²°&lt;/li>
&lt;li>ì˜ˆë¥¼ ë“¤ì–´ 32000ë²ˆ Nodeportê°€ ìˆë‹¤ë©´, &lt;code>master:32000&lt;/code>, &lt;code>worker01:30002&lt;/code> ì „ë¶€ 32000ë²ˆ í¬íŠ¸ë¡œ ì—°ê²°ë¨&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>LoadBalancer&lt;/code> : Load Balancer ìƒì„±í•˜ì—¬(Cloud ì œê³µ, í˜¹ì€ Software) Podì— ë¶„ì‚°
&lt;ul>
&lt;li>ì™¸ë¶€ì—ì„  LoadBalancerì˜ IPë§Œ ì•Œë©´ ë˜ë‹ˆ í¸í•˜ë‹¤. (ClusterIP -&amp;gt; Podì˜ ì•ˆì •ì  ì„œë¹„ìŠ¤ Endpoint, LoadBalancer -&amp;gt; Nodeì˜ ì•ˆì •ì  ì„œë¹„ìŠ¤ Endpoint)&lt;/li>
&lt;li>External-IPë¥¼ í†µí•´ì„œ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>ExternalName&lt;/code> : ì™¸ë¶€ ì„œë¹„ìŠ¤ë¥¼ K8S ë„¤íŠ¸ì›Œí¬ ë‚´ì—ì„œ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ
&lt;ul>
&lt;li>ex : google.comì„ ExternalNameìœ¼ë¡œ google-svc ë¡œ ì„¤ì •í•˜ë©´ &lt;code>curl google-svc&lt;/code> ë¡œ google.comì˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="3-controller">3. Controller
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Current Stateì™€ Desired Stateë¥¼ ë¹„êµí•´ ì¼ì¹˜í•˜ë„ë¡ Taskë¥¼ ë°˜ë³µ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>ReplicaSet&lt;/code>&lt;/p>
&lt;ul>
&lt;li>Podì„ ë³µì œí•´ ì¼ì • ê°œìˆ˜ë¥¼ ìœ ì§€ì‹œí‚´.&lt;/li>
&lt;li>spec.replicas : 2 ì™€ ê°™ì´ ë³µì œí•  Podì˜ ê°œìˆ˜ë¥¼ ì„ ì–¸ ê°€ëŠ¥&lt;/li>
&lt;li>selector.matchLables ë¥¼ í†µí•˜ì—¬ labelì´ Matchë˜ëŠ” Podì„ ì„ íƒ ê°€ëŠ¥&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Deployment&lt;/code>&lt;/p>
&lt;ul>
&lt;li>ReplicaSetì„ ì´ìš©í•˜ì—¬ ì¼ì • ê°œìˆ˜ì˜ Podì„ ìƒì„±, ê±°ê¸°ì— ë°°í¬ ê¸°ëŠ¥ì„ ì¶”ê°€ (Deployment -&amp;gt; ReplicaSet -&amp;gt; Pod)&lt;/li>
&lt;li>Rolling Update ì§€ì›, ì—…ë°ì´íŠ¸ ë˜ëŠ” Podì˜ ë¹„ìœ¨ ì¡°ì ˆ ê°€ëŠ¥
&lt;ul>
&lt;li>&lt;code>spec.strategy.type : RollingUpdate&lt;/code> ë¡œ Update ì „ëµ ì„¤ì •&lt;/li>
&lt;li>&lt;code>spec.strategy.rollingUpdate.maxUnavailable : 25%&lt;/code> : (ì†Œìˆ«ì  ë‚´ë¦¼) ë°°í¬ì¤‘ ìµœëŒ€ ì¤‘ë‹¨ ê°€ëŠ¥ Podì˜ % ì§€ì •. 10ê°œì— 25%ë¼ë©´ 2ê°œ Pod&lt;/li>
&lt;li>&lt;code>spec.strategy.rollingUpdate.maxSurge : 25%&lt;/code> : (ì†Œìˆ«ì  ì˜¬ë¦¼) ë°°í¬ì¤‘ ìµœëŒ€ ì´ˆê³¼ ê°€ëŠ¥ Podì˜ % ì§€ì •. 10ê°œì— 25%ë¼ë©´ 3ê°œ Pod&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Update History ì €ì¥ ë° Rollback ê°€ëŠ¥
&lt;ul>
&lt;li>&lt;code>k rollout undo deployment &amp;lt;Deploymentì´ë¦„&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>StatefulSet&lt;/p>
&lt;ul>
&lt;li>Podë§ˆë‹¤ ê³ ìœ í•œ ì‹ë³„ì ì¡´ì¬&lt;/li>
&lt;li>Podë§ˆë‹¤ ê³ ìœ í•œ ë°ì´í„°ë¥¼ ìŠ¤í† ë¦¬ì§€ì— ë³´ê´€ ê°€ëŠ¥ (ì˜ˆì‹œ : Database)&lt;/li>
&lt;li>Podìƒì„±ì˜ ìˆœì„œ ë³´ì¥ -&amp;gt; ìˆœì„œì— ë¯¼ê°í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ (ì²« ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ Master, ë‘ë²ˆì§¸ ì´í›„ëŠ” Slave ë“±) ì— ì‚¬ìš©&lt;/li>
&lt;li>&lt;code>name-&amp;lt;ìˆœë²ˆ&amp;gt;&lt;/code> (0 ì‹œì‘) ì‹ìœ¼ë¡œ Pod ì´ë¦„ ë¶€ì—¬&lt;/li>
&lt;li>ì‚­ì œë˜ëŠ” ê²½ìš° ì—­ìˆœ ì‚­ì œ (ìˆ«ìê°€ ë†’ì€ê²ƒë¶€í„° ì‚­ì œ)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>DaemonSet&lt;/p>
&lt;ul>
&lt;li>ëª¨ë“  Nodeì— ë™ì¼í•œ Podì„ ì‹¤í–‰ì‹œí‚¤ê³  ì‹¶ì„ ë•Œ -&amp;gt; ëª¨ë‹ˆí„°ë§, ë¡œê·¸ ìˆ˜ì§‘ ë“±&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="4-job">4. Job
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>Job&lt;/code>&lt;/p>
&lt;ul>
&lt;li>ë‹¨ë°œì„±ìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ëë‚˜ëŠ” í”„ë¡œê·¸ë¨ (ML í•™ìŠµ, Batch Jobë“±)&lt;/li>
&lt;li>&lt;code>spec.backoffLimit : 2&lt;/code> ì™€ ê°™ì´ ì‹¤íŒ¨ì‹œ ì¬ì‹œë„ ì •ì±…ì„ ì •í•  ìˆ˜ ìˆìŒ. (2íšŒ ì¬ì‹œë„)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>CronJob&lt;/p>
&lt;ul>
&lt;li>ì£¼ê¸°ì ìœ¼ë¡œ Jobì„ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ Crontabê³¼ ê°™ì€ ê¸°ëŠ¥ ì œê³µ&lt;/li>
&lt;li>&lt;code>spec.schedule : &amp;quot;1/* * * * *&amp;quot;&lt;/code> ê³¼ ê°™ì´ ì§€ì •&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="namespace">Namespace
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>í´ëŸ¬ìŠ¤í„°ë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ë° ì‚¬ìš©&lt;/p>
&lt;/li>
&lt;li>
&lt;p>default : ê¸°ë³¸ Namespace&lt;/p>
&lt;/li>
&lt;li>
&lt;p>kube-system : K8Sì˜ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ (DNS, ë„¤íŠ¸ì›Œí¬ ë“±..)ì˜ Podì´ ì¡´ì¬&lt;/p>
&lt;/li>
&lt;li>
&lt;p>kube-public : ì™¸ë¶€ë¡œ ê³µê°œ ê°€ëŠ¥í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ë‹´ëŠ” Namespace&lt;/p>
&lt;/li>
&lt;li>
&lt;p>kube-node-lease : Nodeê°€ ì‚´ì•„ìˆëŠ”ì§€ masterì— ì•Œë¦¬ëŠ” ìš©ë„? ì˜ namespace&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="configmap-secret">ConfigMap, Secret
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>&lt;code>ConfigMap&lt;/code>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Metadata (ì„¤ì •ê°’) ì €ì¥&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Key-value í˜•íƒœë¡œ ê°’ ì €ì¥&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ë‹¤ìŒê³¼ ê°™ì´ Yamlë¡œ ì„ ì–¸ ê°€ëŠ¥&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># game-volume.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Pod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restartPolicy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">OnFailure&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">k8s.gcr.io/busybox&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/bin/sh&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;-c&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;cat /etc/config/game.properties&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumeMounts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mountPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/etc/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">configMap&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ì´í›„ ë‹¤ë¥¸ Podì—ì„œ Volume ì—°ê²°/í™˜ê²½ë³€ìˆ˜ë¡œ ì‚¬ìš© ê°€ëŠ¥
&lt;ul>
&lt;li>Volume :&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">...&lt;/span>&lt;span class="l">..&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumeMounts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mountPath&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">/etc/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-volume&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">configMap&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">game-config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Env :&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">...&lt;/span>&lt;span class="l">..&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">envFrom&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">configMapRef&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">monster-config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>Secrets&lt;/p>
&lt;ul>
&lt;li>tmpfs (ë©”ëª¨ë¦¬ë¥¼ íŒŒì¼ì²˜ëŸ¼ ë‹¤ë£° ìˆ˜ ìˆê²Œ í•˜ëŠ” ì‹œìŠ¤í…œ) ì‚¬ìš©í•´ ë³´ì•ˆì— ì´ì  ìˆìŒ&lt;/li>
&lt;li>ì¡°íšŒì‹œ Base64 ì¸ì½”ë”© (ì•”í˜¸í™” X, ë‹¨ì§€ ì¸ì½”ë”© í•œë²ˆ í•´ ì¤Œ)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="appendix-1-íŠ¹ì •-nodeì—ì„œë§Œ-pod-ì‹¤í–‰í•˜ê¸°">Appendix 1. íŠ¹ì • Nodeì—ì„œë§Œ Pod ì‹¤í–‰í•˜ê¸°
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>ì˜ˆì‹œ : SSD/HDD Nodeë¥¼ êµ¬ë¶„í•˜ì—¬ ë°°ì¹˜í•˜ëŠ” ë°©ë²•&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ê° Nodeì— label ë¶€ì°©&lt;/p>
&lt;ul>
&lt;li>&lt;code>kubectl label node master disktype=ssd&lt;/code>&lt;/li>
&lt;li>&lt;code>kubectl label node worker disktype=hdd&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ì´í›„ nodeSelectorë¡œ label ì„ íƒ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">apiVersion&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">kind&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Pod&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">metadata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">node-selector&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">spec&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">containers&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nginx&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nginx&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># íŠ¹ì • ë…¸ë“œ ë¼ë²¨ ì„ íƒ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nodeSelector&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">disktype&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ssd&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ë¼ì¦ˆë² ë¦¬ íŒŒì´ + Ubuntu 22.04ì— K3S ì„¤ì¹˜í•´ì„œ ì“°ê¸°</title><link>https://blog.lemondouble.com/p/fe0cac9de367fc18/</link><pubDate>Wed, 18 Jan 2023 11:56:02 +0000</pubDate><guid>https://blog.lemondouble.com/p/fe0cac9de367fc18/</guid><description>&lt;img src="https://blog.lemondouble.com/p/fe0cac9de367fc18/cover.png" alt="Featured image of post ë¼ì¦ˆë² ë¦¬ íŒŒì´ + Ubuntu 22.04ì— K3S ì„¤ì¹˜í•´ì„œ ì“°ê¸°" />&lt;p>ìš”ì¦˜ ë˜ê²Œ í•«í•˜ë©´ì„œë„ ì–´ë ¤ìš´ ê¸°ìˆ ì´ ì¿ ë²„ë„¤í‹°ìŠ¤ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì €ëŠ” í•™ìƒë•Œë¶€í„° ë‚˜ë¦„ ê½¤ ì˜¤ë˜(?) í™ˆ ì„œë²„ë¥¼ ìš´ì˜í–ˆì—ˆëŠ”ë°, ìš´ì˜ì„ í•˜ë©´ì„œ ê½¤ ë§ì€ í˜ë“  ì¼ì„ ë§ˆì£¼í–ˆìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ì´ì‚¬ë¥¼ ê°€ì„œ ë„¤íŠ¸ì›Œí¬ë¥¼ ë‹¤ì‹œ ì§œì•¼ ë˜ê±°ë‚˜, ë””ìŠ¤í¬ í•˜ë‚˜ê°€ ì£½ì–´ë²„ë¦¬ê±°ë‚˜ í•˜ëŠ” ê²½ìš°ë„ ê°„ê°„íˆ ìˆê³ , ê·¸ëŸ´ ë•Œë§ˆë‹¤ Gitì´ë‘ ë‹¤ë¥¸ ì»´í“¨í„°ë¥¼ ë’¤ì ¸ì„œ ì‚¬ì´íŠ¸ë¥¼ ì‚´ë¦¬ëŠ”ê²Œ ì—¬ê°„.. ê·€ì°®ì€ ì¼ì´ ì•„ë‹™ë‹ˆë‹¤.&lt;/p>
&lt;p>ë­”ê°€ ë‚´ ì„œë²„ê°€ ì–´ë–»ê²Œ ëŒì•„ê°€ê³  ìˆëŠ”ì§€ ì ì–´ë†“ê³ , ì–¸ì œë“ ì§€ ë§ˆìŒëŒ€ë¡œ ì»´í“¨í„°ë¥¼ ì¶”ê°€í•˜ê³ , ë””ìŠ¤í¬ë¥¼ ì¶”ê°€í•˜ê³  í•˜ë©´ ì–¼ë§ˆë‚˜ ì¢‹ì„ê¹Œ? í•˜ëŠ” ì°¨ì— K8SëŠ” ì •ë§ ë§¤ë ¥ì ì¸ ì„ íƒì§€ì˜€ìŠµë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ë˜ì„œ K8S ê³µë¶€ë¥¼ í•´ ë´¤ëŠ”ë°, ë³´í†µ Vagrant ë“±ì„ ì´ìš©í•´ì„œ ì§±ì§±í•œ ì»´í“¨í„° í•˜ë‚˜ì— ê°€ìƒ ë…¸ë“œ í•˜ë‚˜ë¥¼ ë†”ë‘ê³ , ê°€ìƒ VMì„ ë„ì›Œì„œ ì‹¤ìŠµì„ í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;code>ê·¼ë° ë¬¸ì œëŠ” ê·¸ ë‹¤ìŒì…ë‹ˆë‹¤.&lt;/code>&lt;/p>
&lt;p>ë°ìŠ¤í¬íƒ‘ í™ˆ ì„œë²„ë¥¼ ì—¬ëŸ¬ëŒ€ë¥¼ ì‚¬ì„œ K8Së¥¼ ëŒë¦´ ìˆ˜ëŠ” ì—†ìœ¼ë‹ˆ, &lt;code>ê°€ê²© ìŒˆ &amp;amp;&amp;amp; ì €ì „ë ¥ PC&lt;/code>ë¥¼ ì°¾ê²Œ ë˜ê³ , ë³´í†µ ë¼ì¦ˆë² ë¦¬ íŒŒì´ë¡œ ê·€ê²°ë©ë‹ˆë‹¤.&lt;/p>
&lt;p>ê·¸ëŸ°ë° ê°•ì‚¬ ì„ ìƒë‹˜ì´ ì´ì˜ê²Œ ê¹”ì•„ë†“ì€ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ë§Œ ì“°ë‹¤ê°€, ARMì— ì§ì ‘ K8S ê¹”ë ¤ë©´ ë¨¸ë¦¬ê°€ í„°ì§‘ë‹ˆë‹¤. (ì‚¬ì‹¤ ì €ëŠ” í„°ì¡ŒìŠµë‹ˆë‹¤. ë‹¤ë¥¸ì‚¬ëŒì€ ì˜ ëª¨ë¥´ê² ê³ ..)&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/kubernetes/kubeadm" target="_blank" rel="noopener"
>KubeAdm&lt;/a>, &lt;a class="link" href="https://github.com/canonical/microk8s" target="_blank" rel="noopener"
>MicroK8S&lt;/a> ë¥¼ ëª‡ë²ˆì˜ ì‚½ì§ˆ ëì— ì„¤ì¹˜ ì‹¤íŒ¨í–ˆëŠ”ë°, K3SëŠ” ë˜ê²Œ ê°„í¸í•˜ê²Œ ì„¤ì¹˜ ë˜ì–´ì„œ ê²½í—˜ì„ ê³µìœ í•˜ë ¤ í•©ë‹ˆë‹¤.&lt;/p>
&lt;p>&lt;img src="https://blog.lemondouble.com/p/fe0cac9de367fc18/image1.png"
width="509"
height="571"
srcset="https://blog.lemondouble.com/p/fe0cac9de367fc18/image1_hu_be86524c1600428d.png 480w, https://blog.lemondouble.com/p/fe0cac9de367fc18/image1_hu_4b069fd60cc8efb8.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="89"
data-flex-basis="213px"
>&lt;/p>
&lt;hr>
&lt;p>&lt;code>ì•„ë˜ í™˜ê²½ì€ Raspberry pi 4B + Ubuntu Server 22.04ì—ì„œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.&lt;/code>&lt;/p>
&lt;h3 id="1-master-node-ì„¤ì¹˜í•˜ê¸°">1. Master Node ì„¤ì¹˜í•˜ê¸°
&lt;/h3>&lt;ul>
&lt;li>K3S &lt;a class="link" href="https://docs.k3s.io/quick-start" target="_blank" rel="noopener"
>ê³µì‹ ë¬¸ì„œ&lt;/a>ë¥¼ ë³´ë©´ &lt;code>curl -sfL https://get.k3s.io | sh -&lt;/code> ë§Œ ì‹¤í–‰í•˜ë©´ ì•Œì˜ë”±ê¹”ì„¼ìœ¼ë¡œ ì„¤ì¹˜í•´ì¤€ë‹¤ê³  í•©ë‹ˆë‹¤!&lt;/li>
&lt;li>bashì— &lt;code>curl -sfL https://get.k3s.io | sh -&lt;/code> ë¥¼ ì…ë ¥í•´ì„œ ì„¤ì¹˜ë¥¼ í•´ ë´…ë‹ˆë‹¤.&lt;/li>
&lt;li>ì™€! ì„¤ì¹˜ê°€ ì˜ ë©ë‹ˆë‹¤.&lt;/li>
&lt;li>kubectlë„ ê°™ì´ ì„¤ì¹˜í•´ì¤€ë‹¤ê³  í•©ë‹ˆë‹¤. &lt;code>kubectl get nodes&lt;/code>ë¥¼ ì…ë ¥í•´ ë´…ë‹ˆë‹¤.&lt;/li>
&lt;li>ì™€! ë…¸ë“œë„ ì˜ ëœ¹ë‹ˆë‹¤.&lt;/li>
&lt;/ul>
&lt;h3 id="ê·¼ë°-ì‚¬ì‹¤-í•¨ì •ì…ë‹ˆë‹¤">ê·¼ë° ì‚¬ì‹¤ í•¨ì •ì…ë‹ˆë‹¤.
&lt;/h3>&lt;ul>
&lt;li>&lt;code>kubectl get nodes&lt;/code>ë¥¼&lt;/li>
&lt;li>ì–´? ê°‘ìê¸° ì‘ë‹µì´ ëŠë¦½ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>The connection to the server 127.0.0.1:6443 was refused - did you specify the right host or port?&lt;/code> ë¼ëŠ” ì´ìŠˆë¥¼ ë§Œë‚©ë‹ˆë‹¤.&lt;/li>
&lt;li>ì•„&amp;hellip; ì–˜ë„ í•¨ì •ì¸ê°€? ë¶ˆì•ˆí•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ì •ë§ ë‹¤í–‰ì´ë„ ì–˜ëŠ” Known Issueì´ê³ , í•´ê²° ë°©ë²•ë„ ìˆìŠµë‹ˆë‹¤. (ê´€ë ¨ &lt;a class="link" href="https://github.com/k3s-io/k3s/issues/4234" target="_blank" rel="noopener"
>Github Issue&lt;/a>)&lt;/li>
&lt;li>&lt;code>sudo apt install linux-modules-extra-raspi &amp;amp;&amp;amp; reboot&lt;/code>ë¥¼ ì…ë ¥í•´ì„œ ì¶”ê°€ë¡œ í•„ìš”í•œ ì˜ì¡´ì„±ì„ ê¹”ì•„ì£¼ê³  ì¬ë¶€íŒ… í•œ í›„ &lt;code>kubectl get nodes&lt;/code>ë¥¼ í•˜ë©´ ì˜ ë©ë‹ˆë‹¤. (ê³µì‹ ë¬¸ì„œ &lt;a class="link" href="https://docs.k3s.io/advanced#raspberry-pi" target="_blank" rel="noopener"
>Link&lt;/a>)&lt;/li>
&lt;/ul>
&lt;h3 id="2-ë…¸ë“œ-ì¶”ê°€í•˜ê¸°">2. ë…¸ë“œ ì¶”ê°€í•˜ê¸°
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>Master Nodeë¥¼ ì„¤ì •í–ˆìœ¼ë‹ˆ, Worker Nodeë¥¼ ë¶™ì—¬ë´…ì‹œë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>kubectl get nodes&lt;/code> ë¥¼ ì…ë ¥í•˜ì—¬, Master Nodeì˜ ì´ë¦„(Name) ì„ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>sudo kubectl get node &amp;lt;master node ì´ë¦„&amp;gt; -ojsonpath=&amp;quot;{.status.addresses[0].address}&amp;quot;&lt;/code> ë¥¼ ì…ë ¥í•˜ì—¬, ë‚˜ì˜¤ëŠ” IP ê°’ì„ í™•ì¸í•©ë‹ˆë‹¤. (1)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>sudo cat /var/lib/rancher/k3s/server/node-token&lt;/code> ì„ ì…ë ¥í•˜ì—¬, ë‚˜ì˜¤ëŠ” Tokenê°’ì„ í™•ì¸í•©ë‹ˆë‹¤. (2)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ìƒˆ Worker Nodeì— ì ‘ì†í•´ì„œ &lt;code>sudo apt install linux-modules-extra-raspi &amp;amp;&amp;amp; reboot&lt;/code> í•˜ì—¬ ê´€ë ¨ ì˜ì¡´ì„±ì„ ê¹”ì•„ì¤ë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ì´í›„ &lt;code>curl -sfL https://get.k3s.io | K3S_URL=https://&amp;lt;(1)ì—ì„œ í™•ì¸í•œ ip&amp;gt;:6443 K3S_TOKEN=&amp;lt;2ì—ì„œ í™•ì¸í•œ í† í°&amp;gt; sh -&lt;/code> ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ì´í›„ Master Nodeì—ì„œ &lt;code>kubectl get nodes&lt;/code> ì…ë ¥í•˜ì—¬ ì •ìƒì ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ì— Joinë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ì¶”ê°€ : Worker Node ìƒíƒœê°€ NotReadyì—ì„œ ì•ˆ ë„˜ì–´ê°€ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°, ì´ ê²½ìš°ë¥¼ ëŒ€ì‘í•´ ë´…ì‹œë‹¤.&lt;/p>
&lt;ul>
&lt;li>&lt;code>kubectl get nodes&lt;/code> ì…ë ¥í•˜ì—¬ Worker Nodeì˜ ì´ë¦„ì„ ê¸°ì–µí•©ë‹ˆë‹¤.&lt;/li>
&lt;li>&lt;code>sudo kubectl describe node &amp;lt;worker node ì´ë¦„&amp;gt; -n=kube-system&lt;/code> ì„ ì…ë ¥í•˜ì—¬ í˜„ì¬ ë…¸ë“œì˜ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.&lt;/li>
&lt;li>ì €ì˜ ê²½ìš°ëŠ” &lt;code>invalid capacity 0 on image filesystem&lt;/code> ì´ë¼ëŠ” ì˜¤ë¥˜ê°€ ê³„ì† ë°œìƒí•´ì„œ Worker Nodeê°€ ì¡°ì¸ì´ ì•ˆ ë˜ëŠ” ìƒí™©ì´ì—ˆëŠ”ë°, ì¬ë¶€íŒ… í•˜ë‹ˆ í•´ê²°ëìŠµë‹ˆë‹¤ (..)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ë!&lt;/p></description></item></channel></rss>